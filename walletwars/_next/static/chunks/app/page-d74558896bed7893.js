(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{67:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>q});var i=l(5155),n=l(2115);function r(e,t){let l=(0,n.useRef)([]),i=(0,n.useRef)(!1),r=(0,n.useRef)(null),a=(0,n.useRef)(null),o=(0,n.useRef)(null),s=(0,n.useRef)(null),c=(0,n.useRef)(null),u=(0,n.useRef)(80),E=(0,n.useRef)(40),f=(0,n.useRef)(!1),d=(0,n.useRef)(10),T=(0,n.useRef)(0),h=(0,n.useRef)([10,100,1e3,1e4]),S=(0,n.useRef)(0),p=(0,n.useRef)(!1),m=(0,n.useRef)(!1),I=(0,n.useCallback)(()=>{a.current&&(clearInterval(a.current),a.current=null),o.current&&(clearTimeout(o.current),o.current=null),s.current&&(clearInterval(s.current),s.current=null),c.current&&(clearTimeout(c.current),c.current=null),u.current=80,f.current=!1},[]),R=(0,n.useCallback)(()=>{I(),i.current=!1,r.current=null;let e=Date.now();p.current||e-S.current<100?setTimeout(()=>{Date.now()-S.current>=100&&(d.current=10,T.current=0)},100):(d.current=10,T.current=0)},[I]),O=(0,n.useCallback)(()=>{i.current&&r.current&&(a.current&&clearInterval(a.current),a.current=setInterval(()=>{if(i.current&&r.current){let{x:e,y:t}=r.current,i=l.current.findIndex(l=>5>Math.abs(l.x-e)&&5>Math.abs(l.y-t));if(i>=0){p.current=!0;let e=d.current;S.current=Date.now(),l.current[i].onClick(e),p.current=!1}else R()}},u.current),s.current||(s.current=setInterval(()=>{u.current=Math.max(E.current,u.current-10),T.current=Math.min(h.current.length-1,T.current+1),d.current=h.current[T.current],O()},500)))},[R]),C=(0,n.useCallback)(e=>{m.current=e,e&&setTimeout(()=>{m.current=!1},500)},[]);return(0,n.useEffect)(()=>{let n=e.current;if(!n)return;let u=e=>{let t,l,i=n.getBoundingClientRect();if("touches"in e){var r,a;t=null==(r=e.touches[0])?void 0:r.clientX,l=null==(a=e.touches[0])?void 0:a.clientY}else t=e.clientX,l=e.clientY;return{x:t-i.left,y:l-i.top}},E=(e,t)=>[...l.current].sort((e,t)=>(t.zIndex||0)-(e.zIndex||0)).findIndex(l=>e>=l.x&&e<=l.x+l.width&&t>=l.y&&t<=l.y+l.height),h=e=>{if(t&&!0===t.current)return;"touches"in e&&e.preventDefault();let n=u(e),h=E(n.x,n.y);if(h>=0){let e=[...l.current].sort((e,t)=>(t.zIndex||0)-(e.zIndex||0))[h],t=e.text&&e.text.includes("CREDIT CARD")||e.text&&e.text.includes("USDC")||e.text&&e.text.includes("BTC")||e.text&&e.text.includes("ETH")||e.text&&e.text.includes("SOL")||e.text&&e.text.includes("XRP")||e.text&&e.text.includes("LTC")||e.text&&e.text.includes("PEPE");if(p.current=!0,S.current=Date.now(),e.onClick(d.current),p.current=!1,t&&C(!0),e.disableHold)return;I(),i.current=!0,r.current={x:e.x,y:e.y},d.current=10,T.current=0,o.current=setTimeout(()=>{O()},100),e.onLongHold&&(c.current=setTimeout(()=>{if(i.current&&!f.current){let{x:e,y:t}=r.current,i=l.current.findIndex(l=>5>Math.abs(l.x-e)&&5>Math.abs(l.y-t));if(i>=0&&l.current[i].onLongHold){let e=d.current;l.current[i].onLongHold(e),f.current=!0,a.current&&(clearInterval(a.current),a.current=null),s.current&&(clearInterval(s.current),s.current=null)}}},5e3))}},L=e=>{if(t&&!0===t.current){n.style.cursor="default";return}let l=u(e),i=E(l.x,l.y)>=0;n.style.cursor=i?"pointer":"default"},y=e=>{if((!t||!0!==t.current)&&m.current)return};return n.addEventListener("mousedown",h),window.addEventListener("mouseup",R),n.addEventListener("mousemove",L),window.addEventListener("mousedown",y),n.addEventListener("touchstart",h,{passive:!1}),window.addEventListener("touchend",R),window.addEventListener("touchcancel",R),window.addEventListener("touchstart",y,{passive:!0}),()=>{n.removeEventListener("mousedown",h),window.removeEventListener("mouseup",R),n.removeEventListener("mousemove",L),window.removeEventListener("mousedown",y),n.removeEventListener("touchstart",h),window.removeEventListener("touchend",R),window.removeEventListener("touchcancel",R),n.removeEventListener("touchstart",y),R()}},[e,R,I,O,C,t]),{setButtons:(0,n.useCallback)(e=>{l.current=e},[]),setDropdownJustOpened:C}}function a(e){return e.includes(".")?e.replace(/\.?0+$/,""):e}function o(){let e=(0,n.useCallback)((e,t)=>{if("PEPE"===t)if(e<.99)return e.toFixed(4);else return e.toFixed(2);if(e>=1e15)return a((e/1e15).toFixed(2))+"Q";if(e>=1e12)return a((e/1e12).toFixed(2))+"T";if(e>=1e9)return a((e/1e9).toFixed(2))+"B";if(e>=1e6)return a((e/1e6).toFixed(2))+"M";if(e>=1e3)return a((e/1e3).toFixed(2))+"k";return e.toFixed(2)},[]),t=(0,n.useCallback)((t,l)=>{if("USDC"===t)return e(l);if(l>=1e6)return"".concat(a((l/1e6).toFixed(2)),"M");if(l>=1e3)return"".concat(a((l/1e3).toFixed(2)),"k");if(l>=1)return l.toFixed(2);if(l>=.01)return l.toFixed(2);if(l>0)return l.toFixed(4);return"0.00"},[e]),l=(0,n.useCallback)((e,t)=>{if("PEPE"===t)if(e<.99)return e.toFixed(4);else return e.toFixed(2);return e>=1e3?"".concat(a((e/1e3).toFixed(2)),"k"):e>=1?"".concat(e.toFixed(2)):e>=.01?"".concat(e.toFixed(2)):e>0?"".concat(e.toFixed(4)):"0.00"},[]),i=(0,n.useCallback)((e,t)=>0===t?0:(e-t)/t,[]),r=(0,n.useCallback)((e,t)=>Math.abs(i(e,t)),[i]),o=(0,n.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e-5;return Math.abs(e)<t},[]),s=(0,n.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{symbol:l,addSign:i=!0,decimals:n,addPercentSign:r=!0,approximateSymbol:a=!1}=t;if(o(e))return i?"+0.00%":"0.00%";let s=i&&e>=0?"+":e<0?"-":"",c=(100*Math.abs(e)).toFixed(void 0!==n?n:2);return"".concat(s).concat(a?"≈":"").concat(c).concat(r?"%":"")},[o]),c=(0,n.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s(e,{decimals:0,addSign:!1,approximateSymbol:t})},[s]),u=(0,n.useCallback)(function(e,t){let l=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return s(e,{symbol:t,addSign:l})},[s]),E=(0,n.useCallback)(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return e?"+0.00%":"0.00%"},[]),f=(0,n.useCallback)(e=>{let t=e.replace(/[$,]/g,""),l=t.endsWith("k")||t.endsWith("K")?1e3:t.endsWith("m")||t.endsWith("M")?1e6:t.endsWith("b")||t.endsWith("B")?1e9:t.endsWith("t")||t.endsWith("T")?1e12:t.endsWith("q")||t.endsWith("Q")?1e15:1;return l>1&&(t=t.slice(0,-1)),Number.parseFloat(t)*l},[]);return{formatPriceWithKM:e,formatCoinAmount:t,formatPrice:l,calculatePercentageChange:i,calculateAbsolutePercentageChange:r,isZeroPercentage:o,formatPercentage:u,formatPercentageWithOptions:s,formatWholePercentage:c,formatZeroPercentage:E,parseFormattedNumber:f,formatCurrency:(0,n.useCallback)(e=>{if(e>=1e15)return"$".concat(a((e/1e15).toFixed(2)),"Q");if(e>=1e12)return"$".concat(a((e/1e12).toFixed(2)),"T");if(e>=1e9)return"$".concat(a((e/1e9).toFixed(2)),"B");if(e>=1e6)return"$".concat(a((e/1e6).toFixed(2)),"M");if(e>=1e3)return"$".concat(a((e/1e3).toFixed(2)),"k");return"$".concat(e.toFixed(2))},[]),formatDate:(0,n.useCallback)(e=>e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),[])}}function s(){let[e,t]=(0,n.useState)(!1),[l,i]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{{let e=window.navigator.userAgent,l=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i),r=l&&n&&!e.match(/CriOS/i)&&!e.match(/OPiOS/i),a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e);t(r),i(a)}},[]),{isMobileSafari:e,isMobile:l}}function c(){let{formatPriceWithKM:e,formatCurrency:t}=o(),{isMobileSafari:l}=s(),i=(0,n.useRef)([]),r=(0,n.useRef)(null),a=(0,n.useRef)(0),c=(0,n.useCallback)((e,t,l,i,n,r)=>{let a="";for(let e=0;e<n;e++)a+=t;e.fillText(a,l,i)},[]),u=(0,n.useCallback)((e,t,l,i,n,r,a)=>{if(!a)return;let o=[],s=0;if(a.hax>0&&(o.push("\uD83D\uDD11"),s=a.hax),a.vpnSubscription>0&&o.push("\uD83D\uDEE1️"),a.coldWallet>0&&o.push("❄️"),a.burnerWallet>0&&o.push("\uD83D\uDD25"),0===o.length)return;let c=o.join(" "),u=t+(i-3)*n-e.measureText(c).width;if(e.fillStyle="#ffffff",e.fillText(c,u,l+r),s>1){let t=e.font;e.font="11px monospace";let i=e.measureText("\uD83D\uDD11").width;e.fillText(s.toString(),u+i- -4,l+r-8),e.font=t}e.fillStyle="#888888"},[]),E=(0,n.useCallback)((e,t,l,i)=>({bottomY:Math.min((Math.floor((l-2)/19)-1)*19,l-19-2),charWidth:e.measureText("█").width,charHeight:19}),[]),f=(0,n.useCallback)(function(l,i,n,r,a,o,s,u,E,f,d,T){let h=arguments.length>12&&void 0!==arguments[12]&&arguments[12],S=Math.floor((i/r-40)/2)*r,p=Math.floor(n/a/2-10)*a,m=S+33*r,I=S+18*r,R=S+2*r;if(!h){l.fillStyle="#888888",l.fillText("║",S,p+a),l.fillText("║",S+39*r,p+a),l.fillText("╟",S,p+2*a),c(l,"─",S+r,p+2*a,38,r),l.fillText("╢",S+39*r,p+2*a);let i=o.find(e=>"USDC"===e.symbol),n=o.filter(e=>"USDC"!==e.symbol);for(let e=0;e<n.length;e++){let t=p+(3+e)*a;l.fillText("║",S,t),l.fillText("║",S+39*r,t)}let T=m-2*r,h=S+2*r,I="AMOUNT";l.fillText(I,T-l.measureText(I).width,p+a),n.forEach((e,t)=>{l.fillText(e.amount,T-l.measureText(e.amount).width,p+(3+t)*a)});let R=p+(3+n.length)*a;l.fillText("║",S,R),l.fillText("║",S+39*r,R),i&&(l.fillText("".concat(i.symbol," (").concat(i.price,")"),h,R),l.fillText(i.amount,T-l.measureText(i.amount).width,R));let O=R+a;l.fillText("║",S,O),c(l,"\xb7",S+r,O,38,r),l.fillText("║",S+39*r,O);let C=O+a;l.fillText("║",S,C),l.fillText("SUBTOTAL USDC",h,C),l.fillText("║",S+39*r,C);let L=void 0!==E?e(E):"0.00";l.fillText(L,T-l.measureText(L).width,C);let y=C+a;l.fillText("║",S,y),c(l,"\xb7",S+r,y,38,r),l.fillText("║",S+39*r,y);let A=y+a;l.fillText("║",S,A),l.fillText("CREDIT CARD",h,A),l.fillText("║",S+39*r,A);let g="-".concat(t(s));l.fillText(g,T-l.measureText(g).width,A);let N=A+a;l.fillText("║",S,N),l.fillText("2% CARD INTEREST",h,N),l.fillText("║",S+39*r,N);let D="-".concat(t(u));l.fillText(D,T-l.measureText(D).width,N);let b=N+a;l.fillText("║",S,b),l.fillText(d?"FEES: ".concat(d):"FEES",h,b),l.fillText("║",S+39*r,b);let P=l.fillStyle;l.fillStyle="#888888";let x=f>0?"-".concat(t(f)):t(0);l.fillText(x,T-l.measureText(x).width,b),l.fillStyle=P;let v=b+a;l.fillText("╟",S,v),c(l,"─",S+r,v,38,r),l.fillText("╢",S+39*r,v);let U=v+a;l.fillText("║",S,U),l.fillText("TOTAL",h,U),l.fillText("║",S+39*r,U);let M=(E||0)-s-(f||0)-u,H=.01>Math.abs(M)?"$0.00":t(M),w=l.fillStyle;M>.01?l.fillStyle="#00ff00":M<-.01&&(l.fillStyle="#ff0000"),l.fillText(H,T-l.measureText(H).width,U),l.fillStyle=w;let Y=U+a;l.fillText("╚",S,Y),c(l,"═",S+r,Y,38,r),l.fillText("╝",S+39*r,Y)}return{startX:S,startY:p,tableWidth:40,amountRightEdge:m-2*r,actionColumnX:m,sellColumnX:I,coinColumnX:R}},[c,e,t]),d=(0,n.useCallback)((e,t)=>{if(i.current.length===t&&i.current.length>0&&i.current[0].length===e)return;let l=[];for(let i=0;i<t;i++){let t=[];for(let l=0;l<e;l++)t.push(.7+.3*Math.random());l.push(t)}i.current=l},[]),T=(0,n.useCallback)(()=>{let e=i.current;if(!e.length)return;let t=Math.floor(.1*(e.length*e[0].length));for(let l=0;l<t;l++){let t=Math.floor(Math.random()*e.length),l=Math.floor(Math.random()*e[0].length);.7>Math.random()?e[t][l]=Math.max(.4,e[t][l]-.2*Math.random()):e[t][l]=Math.min(1,e[t][l]+.2*Math.random())}if(.05>Math.random()){let t=Math.floor(Math.random()*e.length);for(let l=0;l<e[0].length;l++)e[t][l]=Math.max(.4,e[t][l]-.2)}},[]);return{drawTerminalBase:E,drawCoinTable:f,drawHorizontalLine:c,drawSecurityIcons:u,drawBackgroundFill:(0,n.useCallback)((e,t,n,o,s,c)=>{e.save(),e.font="16px monospace";let u=e.measureText("░").width,E=u,f=26;l&&(E=.85*u,f=22.099999999999998);let h=Math.floor(t/E)-2,S=Math.ceil(c/f);d(h,S);let p=performance.now();p-a.current>100&&(T(),a.current=p);for(let t=1;t<=S;t++)for(let l=1;l<=h;l++){var m,I;let n=l*E,r=t*f+-5,a=Math.floor(68*(null!=(I=null==(m=i.current[t-1])?void 0:m[l-1])?I:.8));e.fillStyle="rgb(".concat(a,", ").concat(a,", ").concat(a,")"),e.fillText("░",n,r)}e.restore(),null===r.current&&(r.current=requestAnimationFrame(()=>{r.current=null,window.dispatchEvent(new CustomEvent("redrawTerminal"))}))},[d,T,l])}}function u(){let{drawHorizontalLine:e}=c(),{formatCoinAmount:t,formatPriceWithKM:l}=o(),i=(0,n.useCallback)((t,l,i,n,r,a)=>{let{dialogTitle:o,content:s,buttonText:c="[ OK ]",onButtonClick:u,specialContent:E,buttons:f}=a,d=3*n,T=38*n-2*d,h=[];s.split("\n").forEach(e=>{if(!e.trim())return void h.push("");let l=e.split(/\s+/),i="";for(let e of l){let l=i+(i?" ":"")+e;t.measureText(l).width<=T?i=l:(h.push(i),i=e)}i&&h.push(i)});let S=h.length,p=1+S+(f?2*f.length:1)+2,m=Math.floor((l/n-40)/2)*n,I=Math.floor((i/r-p)/2)*r,R=I-2*r,O=40*n,C=(p+3)*r;t.fillStyle="#000000",t.fillRect(m+n/2,R+r/2,O-n,C-r),t.fillStyle="#888888";let L=m+Math.floor((40-o.length)/2)*n;t.fillText("╔",m,R),e(t,"═",m+n,R,38,n),t.fillText("╗",m+39*n,R),t.fillText("║",m,R+r),t.fillText("║",m+39*n,R+r),t.fillText("╠",m,R+2*r),e(t,"═",m+n,R+2*r,38,n),t.fillText("╣",m+39*n,R+2*r),t.fillText(o,L,R+r);let y=I+r,A=!!E,g=-1;for(let e=0;e<Math.min(h.length,18);e++){let l=h[e];if(A&&E&&l===E.text){g=e,A=!1,y+=r;continue}let i=m+Math.floor((40*n-t.measureText(l).width)/2);t.fillText(l,i,y),y+=r}if(E&&g>=0){let e=t.fillStyle;t.fillStyle=E.color;let i=t.measureText(E.text).width;t.fillText(E.text,l/2-i/2,E.y),t.fillStyle=e}let N=I+p*r;for(let e=1;e<p;e++){let l=I+e*r;l<N&&(t.fillText("║",m,l),t.fillText("║",m+39*n,l))}if(t.fillText("╚",m,N),e(t,"═",m+n,N,38,n),t.fillText("╝",m+39*n,N),f&&f.length>0){let e=N-r*(2*f.length),l=2*r,i=[];return f.forEach((a,o)=>{let s=e+o*l,c=m+Math.floor((40-a.text.length)/2)*n;if(t.fillStyle="#ffffff",t.fillText(a.text,c,s),a.description){t.fillStyle="#888888";let e=m+Math.floor((40-a.description.length)/2)*n;t.fillText(a.description,e,s+r)}t.fillStyle="#888888",i.push({text:a.text,x:c,y:s,width:t.measureText(a.text).width,height:r,onClick:a.onClick,disableHold:!0})}),i}if(u){let e=N-2*r,l=m+Math.floor((40-c.length)/2)*n;return t.fillStyle="#ffffff",t.fillText(c,l,e),t.fillStyle="#888888",{text:c,x:l,y:e,width:t.measureText(c).width,height:r,onClick:u,disableHold:!0}}return null},[e]),r=(0,n.useCallback)((e,t,l,n,r,a,o)=>!a||a.viewed?null:i(e,t,l,n,r,{dialogTitle:"PREMIUM"===a.type.toUpperCase()?"LEAK: TOMORROW'S EVENT":"".concat(a.type.toUpperCase(),": TOMORROW'S EVENT"),content:"".concat(a.intel.text,"\n\nEffect if true: ").concat(a.intel.effectDescription,"\n\nProbability: ").concat(a.probability,"%"),buttonText:"[ OK ]",onButtonClick:o}),[i]),a=(0,n.useCallback)((e,t,l,n,r,a,o)=>{if(!a)return null;let s="PREMIUM"===a.type.toUpperCase()?"LEAK RESULT":"".concat(a.type.toUpperCase()," RESULT"),c=a.wasTrue?"TRUE":"FALSE",u="".concat(a.text,"\n\n").concat(c,"\n\nEffect: ").concat(a.effectDescription),E=Math.floor((l/r-10)/2)*r;return i(e,t,l,n,r,{dialogTitle:s,content:u,buttonText:"[ OK ]",onButtonClick:()=>{o&&o(null)},specialContent:{text:c,color:a.wasTrue?"#00ff00":"#ff0000",y:E+3.5*r}})},[i]),s=(0,n.useCallback)((e,t,l,n,r,a,o)=>a?i(e,t,l,n,r,{dialogTitle:"NEXT DAY PREVIEW",content:"".concat(a.title,"\n\n").concat(a.description),buttonText:"[ OK ]",onButtonClick:o}):null,[i]),u=(0,n.useCallback)((e,t,l,n,r,a,o)=>{if(!a)return null;let s="";return!a.title.includes("INSIDER INFORMATION")&&a.effects&&a.effects.length>0&&a.effects.forEach(e=>{switch(e.type){case"ADD_USDC":s+="\n\xbb Received ".concat(e.value," USDC");break;case"ADD_COIN":e.coinSymbol&&e.value&&(s+="\n\xbb Received ".concat(e.value," ").concat(e.coinSymbol));break;case"GRANT_TOOL":if(e.toolType){let t=e.toolType.charAt(0).toUpperCase()+e.toolType.slice(1);s+="\n\xbb Received ".concat(e.value||1," ").concat(t)}break;case"PRICE_MULTIPLIER":if(e.coinSymbol&&"ALL"!==e.coinSymbol){let t=100*Math.abs(e.value||0),l=(e.value||0)>0?"increased":"decreased";s+="\n\xbb ".concat(e.coinSymbol," price ").concat(l," by ").concat(t.toFixed(0),"%")}else if("ALL"===e.coinSymbol){let t=100*Math.abs(e.value||0),l=(e.value||0)>0?"increased":"decreased";s+="\n\xbb All coin prices ".concat(l," by ").concat(t.toFixed(0),"%")}}}),i(e,t,l,n,r,{dialogTitle:"EVENT",content:"".concat(a.title,"\n\n").concat(a.description).concat(s),buttonText:"[ OK ]",onButtonClick:o})},[i]);return{drawBaseDialog:i,drawIntelDialog:r,drawResolvedIntelDialog:a,drawNextDayEventPreview:s,drawEventInWallet:u}}let E=(0,n.createContext)({currentThreat:null,showingThreat:!1,setThreat:()=>{},updateThreatTitle:()=>{},transitionToOutcome:()=>{},clearThreat:()=>{},resetThreat:()=>{},useToolFn:()=>!1,applyCoinLossFn:void 0,rewardDialog:{showing:!1,coinType:"",amount:0,failed:!1},showRewardDialog:()=>{},dismissRewardDialog:()=>{}});function f(e){let{children:t,useToolFn:l=()=>!1,applyCoinLossFn:r}=e,[a,o]=(0,n.useState)(null),[s,c]=(0,n.useState)(!1),[u,f]=(0,n.useState)({showing:!1,coinType:"",amount:0,failed:!1}),d=(0,n.useCallback)(e=>{o({...e,phase:"threat"}),c(!0)},[]),T=(0,n.useCallback)(e=>{o(t=>t?{...t,title:e}:null)},[]),h=(0,n.useCallback)((e,t,l)=>{o(i=>i?{...i,phase:"outcome",success:e,outcomeTitle:t,outcomeContent:l}:null)},[]),S=(0,n.useCallback)(()=>{c(!1)},[]),p=(0,n.useCallback)(()=>{o(null),c(!1)},[]),m=(0,n.useCallback)(function(e,t){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f({showing:!0,coinType:e,amount:t,failed:l})},[]),I=(0,n.useCallback)(()=>{f(e=>({...e,showing:!1}))},[]);return(0,i.jsx)(E.Provider,{value:{currentThreat:a,showingThreat:s,setThreat:d,updateThreatTitle:T,transitionToOutcome:h,clearThreat:S,resetThreat:p,useToolFn:l,applyCoinLossFn:r,rewardDialog:u,showRewardDialog:m,dismissRewardDialog:I},children:t})}function d(){let e=(0,n.useContext)(E);if(void 0===e)throw Error("useThreatContext must be used within a ThreatProvider");return e}function T(){let[e,t]=(0,n.useState)({coldWallet:0,vpnSubscription:0,burnerWallet:0,intel:0,hax:0}),[l,i]=(0,n.useState)(""),r=["coldWallet","vpnSubscription","burnerWallet"],a=(0,n.useCallback)(function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;t(t=>{if(r.includes(e))return{...t,[e]:1};let i=(t[e]||0)+l;return{...t,[e]:i}}),"hax"===e&&n&&i(n)},[]),o=(0,n.useCallback)(e=>{let l=!1;return t(t=>!t[e]||t[e]<=0?t:(l=!0,"hax"===e&&1===t[e]&&i(""),{...t,[e]:t[e]-1})),l},[]),s=(0,n.useCallback)(t=>e[t]||0,[e]);return{tools:e,addTool:a,useTool:o,getToolCount:s,resetTools:(0,n.useCallback)(e=>{t(t=>{let l={...t};return e.forEach(e=>{l[e]=0}),l}),e.includes("hax")&&i("")},[]),currentHaxName:l,setCurrentHaxName:i}}var h=l(1662);let S=["RUN AWAY","HIDE","CRINGE","GROVEL","TREMBLE","FLINCH","WINCE","PANIC","RECOIL","QUIVER","SHUDDER","WHIMPER","CRY","SOB","WAIL","BAWL","COWER","CLUTCH PEARLS","GASP","HYPERVENTILATE","SHRIEK","FLEE","SCURRY"],p={critical:{failure:[{message:"EXPLOIT SPREAD",description:"\xbb LOST 100% OF YOUR {COINS} AND HEAT LEVEL +3 PP.",effect:{coinLoss:{percentage:1,topCoins:2},heatIncrease:3}},{message:"MALICIOUS OVERRIDE TOOK HOLD",description:"\xbb LOST 99% OF YOUR {COINS} AND HEAT LEVEL +5 PP.",effect:{coinLoss:{percentage:.99,topCoins:2},heatIncrease:5}},{message:"SYNTHETIC LOGIC LOOP HIT",description:"\xbb LOST 98% OF YOUR {COINS} AND HEAT LEVEL +4 PP.",effect:{coinLoss:{percentage:.98,topCoins:1},heatIncrease:4}},{message:"SHADOW PROTOCOL MISFIRED",description:"\xbb LOST 95% OF YOUR {COINS} AND HEAT LEVEL +5 PP.",effect:{coinLoss:{percentage:.95,topCoins:2},heatIncrease:5}},{message:"PHANTOM ACCESS BREACH HIT",description:"\xbb LOST 93% OF YOUR {COINS} AND HEAT LEVEL +4 PP.",effect:{coinLoss:{percentage:.93,topCoins:1},heatIncrease:4}},{message:"PERSISTENT BREACH EVOLVED",description:"\xbb LOST 92% OF YOUR {COINS} AND HEAT LEVEL +5 PP.",effect:{coinLoss:{percentage:.92,topCoins:1},heatIncrease:5}},{message:"AUTOMATED BREACH EVOLVED",description:"\xbb LOST 90% OF YOUR {COINS} AND HEAT LEVEL +4 PP.",effect:{coinLoss:{percentage:.9,topCoins:1},heatIncrease:4}},{message:"AGGRESSIVE WORM EXECUTED",description:"\xbb LOST 89% OF YOUR {COINS} AND HEAT LEVEL +5 PP.",effect:{coinLoss:{percentage:.89,topCoins:2},heatIncrease:5}},{message:"SILENT HIJACK WAS COMPLETED",description:"\xbb LOST 88% OF YOUR {COINS} AND HEAT LEVEL +4 PP.",effect:{coinLoss:{percentage:.88,topCoins:1},heatIncrease:4}},{message:"CASCADING EXPLOIT DETONATED",description:"\xbb LOST 87% OF YOUR {COINS} AND HEAT LEVEL +4 PP.",effect:{coinLoss:{percentage:.87,topCoins:1},heatIncrease:4}},{message:"CODE EXPLOIT LOOPED",description:"\xbb LOST 85% OF YOUR {COINS} AND HEAT LEVEL +3 PP.",effect:{coinLoss:{percentage:.85,topCoins:1},heatIncrease:3}},{message:"UNKNOWN VECTOR TUNNELED IN",description:"\xbb LOST 84% OF YOUR {COINS} AND HEAT LEVEL +3 PP.",effect:{coinLoss:{percentage:.84,topCoins:2},heatIncrease:3}}],success:[{message:"SCRAMBLED THE ROGUE HANDSHAKE",description:"\xbb HEAT LEVEL +3 PP.",effect:{heatIncrease:3}},{message:"FILTERED THE SYNTHETIC INJECTION",description:"\xbb HEAT LEVEL +3 PP.",effect:{heatIncrease:3}},{message:"REROUTED THE EXPLOIT LOOP",description:"\xbb HEAT LEVEL +3 PP.",effect:{heatIncrease:3}},{message:"REDIRECTED THE VECTOR SURGE",description:"\xbb HEAT LEVEL +3 PP.",effect:{heatIncrease:3}},{message:"JAMMED THE MALICIOUS PROTOCOL",description:"\xbb HEAT LEVEL +2 PP.",effect:{heatIncrease:2}},{message:"ABSORBED THE PROBE",description:"\xbb HEAT LEVEL +2 PP.",effect:{heatIncrease:2}},{message:"STALLED THE CASCADE",description:"\xbb HEAT LEVEL +2 PP.",effect:{heatIncrease:2}},{message:"YDETECTED THE STEALTH VECTOR",description:"\xbb HEAT LEVEL +2 PP.",effect:{heatIncrease:2}},{message:"TERMINATED THE BREACH SCRIPT",description:"\xbb HEAT LEVEL +2 PP.",effect:{heatIncrease:2}},{message:"RESISTED THE EXPLOIT",description:"\xbb HEAT LEVEL +2 PP.",effect:{heatIncrease:2}},{message:"RESTORED SYSTEM INTEGRITY",description:"\xbb HEAT LEVEL +2 PP.",effect:{heatIncrease:2}},{message:"CLEANSED THE PAYLOAD TRACE",description:"\xbb HEAT LEVEL +2 PP.",effect:{heatIncrease:2}},{message:"ENDED THE WORM ROUTINE",description:"\xbb HEAT LEVEL +2 PP.",effect:{heatIncrease:2}},{message:"DISRUPTED THE ENTROPY SCAN",description:"\xbb HEAT LEVEL +2 PP.",effect:{heatIncrease:2}}]},high:{failure:[{message:"VAULT INJECTION SUCCEEDED",description:"\xbb LOST 76% OF YOUR {COINS} AND HEAT LEVEL +4 PP.",effect:{coinLoss:{percentage:.76,topCoins:2},heatIncrease:4}},{message:"GLITCH OVERWHELMED DEFENSES",description:"\xbb LOST 75% OF YOUR {COINS} AND HEAT LEVEL +4 PP.",effect:{coinLoss:{percentage:.75,topCoins:1},heatIncrease:4}},{message:"CRITICAL BYPASS ENGAGED",description:"\xbb LOST 78% OF YOUR {COINS} AND HEAT LEVEL +3 PP.",effect:{coinLoss:{percentage:.78,topCoins:1},heatIncrease:3}},{message:"FALSE SYNC TRIGGERED",description:"\xbb LOST 66% OF YOUR {COINS} AND HEAT LEVEL +2 PP.",effect:{coinLoss:{percentage:.66,topCoins:1},heatIncrease:2}},{message:"UNRECOVERABLE TRANSFER FIRED",description:"\xbb LOST 67% OF YOUR {COINS} AND HEAT LEVEL +3 PP.",effect:{coinLoss:{percentage:.67,topCoins:1},heatIncrease:3}},{message:"ROGUE AI HIJACKED THE SIGNAL",description:"\xbb LOST 63% OF YOUR {COINS} AND HEAT LEVEL +3 PP.",effect:{coinLoss:{percentage:.63,topCoins:1},heatIncrease:3}},{message:"SYSTEM ECHO BREACHED DEFENSES",description:"\xbb LOST 62% OF YOUR {COINS} AND HEAT LEVEL +3 PP.",effect:{coinLoss:{percentage:.62,topCoins:1},heatIncrease:3}},{message:"ENTROPY SURGE STRUCK",description:"\xbb LOST 61% OF YOUR {COINS} AND HEAT LEVEL +2 PP.",effect:{coinLoss:{percentage:.61,topCoins:2},heatIncrease:2}},{message:"FRACTURE IN PROTOCOL WIDENED",description:"\xbb LOST 59% OF YOUR {COINS} AND HEAT LEVEL +3 PP.",effect:{coinLoss:{percentage:.59,topCoins:1},heatIncrease:3}},{message:"EXPLOIT CHAIN ACTIVATED",description:"\xbb LOST 55% OF YOUR {COINS} AND HEAT LEVEL +4 PP.",effect:{coinLoss:{percentage:.55,topCoins:2},heatIncrease:4}},{message:"VECTOR BREACH OCCURRED",description:"\xbb LOST 45% OF YOUR {COINS} AND HEAT LEVEL +4 PP.",effect:{coinLoss:{percentage:.45,topCoins:1},heatIncrease:4}}],success:[{message:"FENDED OFF ATTACK",description:"\xbb HEAT LEVEL +1 PP.",effect:{heatIncrease:1}},{message:"DEFUSED CRYPTIC ATTACK",description:"\xbb HEAT LEVEL +1 PP.",effect:{heatIncrease:1}},{message:"NEUTRALIZED ATTACK PATTERN",description:"\xbb HEAT LEVEL +1 PP.",effect:{heatIncrease:1}},{message:"PATCHED THE BACKDOOR SWIFTLY",description:"\xbb HEAT LEVEL +1 PP.",effect:{heatIncrease:1}},{message:"THWARTED STEALTH INTRUSION",description:"\xbb HEAT LEVEL +1 PP.",effect:{heatIncrease:1}},{message:"INTERCEPTED BREACH SIGNAL",description:"\xbb HEAT LEVEL +1 PP.",effect:{heatIncrease:1}},{message:"ISOLATED VULNERABILITY SIGNATURE",description:"\xbb HEAT LEVEL +1 PP.",effect:{heatIncrease:1}},{message:"CANCELLED UNAUTHORIZED ACCESS",description:"\xbb HEAT LEVEL +1 PP.",effect:{heatIncrease:1}},{message:"FROZE SESSION HIJACK",description:"\xbb HEAT LEVEL +1 PP.",effect:{heatIncrease:1}},{message:"LOCKED DOWN EXPOSED PORT",description:"\xbb HEAT LEVEL +1 PP.",effect:{heatIncrease:1}},{message:"BLOCKED LOGIC TRAP",description:"\xbb HEAT LEVEL +1 PP.",effect:{heatIncrease:1}},{message:"STOPPED EXPLOIT CHAIN REACTION",description:"\xbb HEAT LEVEL +1 PP.",effect:{heatIncrease:1}},{message:"OVERRODE ACCESS FLAW",description:"\xbb HEAT LEVEL +1 PP.",effect:{heatIncrease:1}},{message:"COUNTERED HIDDEN SEQUENCE",description:"\xbb HEAT LEVEL +1 PP.",effect:{heatIncrease:1}},{message:"BROKE RECURSIVE INJECTION LOOP",description:"\xbb HEAT LEVEL +1 PP.",effect:{heatIncrease:1}},{message:"AVERTED BYPASS ATTEMPT",description:"\xbb HEAT LEVEL +1 PP.",effect:{heatIncrease:1}}]},medium:{failure:[{message:"BREACH CASCADE STARTED",description:"\xbb LOST 42% OF YOUR {COINS} AND HEAT LEVEL +2 PP.",effect:{coinLoss:{percentage:.42,topCoins:1},heatIncrease:2}},{message:"CRYPTIC ATTACK LANDED",description:"\xbb LOST 37% OF YOUR {COINS} AND HEAT LEVEL +5 PP.",effect:{coinLoss:{percentage:.37,topCoins:2},heatIncrease:5}},{message:"SYSTEM FLAW WAS ABUSED",description:"\xbb LOST 33% OF YOUR {COINS} AND HEAT LEVEL +3 PP.",effect:{coinLoss:{percentage:.33,topCoins:1},heatIncrease:3}},{message:"HIDDEN EXPLOIT SURFACED",description:"\xbb LOST 30% OF YOUR {COINS} AND HEAT LEVEL +1 PP.",effect:{coinLoss:{percentage:.3,topCoins:2},heatIncrease:1}},{message:"PROTOCOL FLAW ABUSED",description:"\xbb LOST 28% OF YOUR {COINS} AND HEAT LEVEL +2 PP.",effect:{coinLoss:{percentage:.28,topCoins:1},heatIncrease:2}},{message:"INTRUDER SESSION PERSISTED",description:"\xbb LOST 25% OF YOUR {COINS} AND HEAT LEVEL +5 PP.",effect:{coinLoss:{percentage:.25,topCoins:1},heatIncrease:5}},{message:"STEALTH INCURSION",description:"\xbb LOST 24% OF YOUR {COINS} AND HEAT LEVEL +4 PP.",effect:{coinLoss:{percentage:.24,topCoins:2},heatIncrease:4}},{message:"A PROBE HIT YOUR WALLET",description:"\xbb LOST 21% OF YOUR {COINS} AND HEAT LEVEL +3 PP.",effect:{coinLoss:{percentage:.21,topCoins:1},heatIncrease:3}},{message:"DATA SIPHON UNFOLDED",description:"\xbb LOST 21% OF YOUR {COINS} AND HEAT LEVEL +3 PP.",effect:{coinLoss:{percentage:.21,topCoins:1},heatIncrease:3}},{message:"A BREACH HIT YOUR WALLET",description:"\xbb LOST 20% OF YOUR {COINS} AND HEAT LEVEL +2 PP.",effect:{coinLoss:{percentage:.2,topCoins:1},heatIncrease:2}}],success:[{message:"FENDED OFF INTRUSION",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"DEFLECTED BREACH ATTEMPT",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"REPELLED EXPLOIT ATTEMPT",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"THWARTED COMPROMISE EFFORT",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"VULNERABILITY SEALED IMMEDIATELY",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"BLOCKED ACCESS VECTOR CLEANLY",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"DISRUPTED UNAUTHORIZED SESSION",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"RESISTED CIRCUIT ATTACK",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"REPELLED STEALTH INCURSION",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"CLOSED HIDDEN EXPLOIT PATH",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"TERMINATED INTRUDER SESSION",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"YNEUTRALIZED MALICIOUS SCRIPT",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"STOPPED SILENT BREACH",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"HALTED DATA SIPHON",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"BLOCKED UNAUTHORIZED TRANSFER",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"CONTAINED EXPLOIT SPREAD",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"REVERSED BREACH CASCADE",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"DISRUPTED EXPLOIT CHAIN",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"CORRECTED PROTOCOL FLAW",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"REJECTED BREACH OVERRIDE",description:"\xbb NOTHING.",effect:{heatIncrease:0}}]},low:{failure:[{message:"SILENT BREACH OCCURRED",description:"\xbb LOST 19% OF YOUR {COINS} AND HEAT LEVEL +4 PP.",effect:{coinLoss:{percentage:.19,topCoins:1},heatIncrease:4}},{message:"COMPROMISE HIT WALLET",description:"\xbb LOST 19% OF YOUR {COINS} AND HEAT LEVEL +2 PP.",effect:{coinLoss:{percentage:.19,topCoins:1},heatIncrease:2}},{message:"ATTACK HIT YOUR WALLET",description:"\xbb LOST 18% OF YOUR {COINS} AND HEAT LEVEL +3 PP.",effect:{coinLoss:{percentage:.18,topCoins:2},heatIncrease:3}},{message:"MALICIOUS SCRIPT ATTACKED",description:"\xbb LOST 18% OF YOUR {COINS} AND HEAT LEVEL +2 PP.",effect:{coinLoss:{percentage:.18,topCoins:1},heatIncrease:2}},{message:"EXPLOIT STRUCK YOUR WALLET",description:"\xbb LOST 17% OF YOUR {COINS} AND HEAT LEVEL +3 PP.",effect:{coinLoss:{percentage:.17,topCoins:1},heatIncrease:3}},{message:"STEALTH INTRUSION HIT YOUR WALLET",description:"\xbb LOST 17% OF YOUR {COINS} AND HEAT LEVEL +3 PP.",effect:{coinLoss:{percentage:.17,topCoins:1},heatIncrease:3}},{message:"UNAUTHORIZED TRANSFER FIRED",description:"\xbb LOST 16% OF YOUR {COINS} AND HEAT LEVEL +2 PP.",effect:{coinLoss:{percentage:.16,topCoins:1},heatIncrease:2}},{message:"BREACH STRUCK YOUR WALLET",description:"\xbb LOST 15% OF YOUR {COINS} AND HEAT LEVEL +2 PP.",effect:{coinLoss:{percentage:.15,topCoins:1},heatIncrease:2}},{message:"FUNDS COMPROMISED",description:"\xbb LOST 13% OF YOUR {COINS} AND HEAT LEVEL +2 PP.",effect:{coinLoss:{percentage:.13,topCoins:1},heatIncrease:2}},{message:"UNAUTHORIZED ACCESS",description:"\xbb LOST 12% OF YOUR {COINS} AND HEAT LEVEL +2 PP.",effect:{coinLoss:{percentage:.12,topCoins:1},heatIncrease:2}},{message:"BACKDOOR TRIGGERED",description:"\xbb LOST 11% OF YOUR {COINS} AND HEAT LEVEL +2 PP.",effect:{coinLoss:{percentage:.11,topCoins:2},heatIncrease:2}},{message:"WEAKNESS EXPLOITED",description:"\xbb LOST 8% OF YOUR {COINS} AND HEAT LEVEL +2 PP.",effect:{coinLoss:{percentage:.08,topCoins:1},heatIncrease:2}}],success:[{message:"INTERCEPTED MALICIOUS PACKET",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"NULLIFIED INTRUSION COMMAND",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"FILTERED EXPLOIT TRIGGER",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"FROZE UNAUTHORIZED SESSION REQUEST",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"SCRAMBLED ACCESS PROTOCOL",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"ISOLATED EXPLOIT SIGNATURE",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"WIPED STEALTH VECTOR TRACE",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"COUNTERED ATTACK VECTOR",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"SILENCED ENTROPY SURGE",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"PATCHED VULNERABILITY",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"BLOCKED SECTOR INJECTION",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"DISABLED ATTACK MODULE",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"BRICKED MALICIOUS NODE",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"JAMMED EXPLOIT SIGNAL",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"OVERRODE ROGUE COMMAND",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"DEFUSED SYSTEMIC BREACH",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"REROUTED INTRUSION PAYLOAD",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"SEVERED MALICIOUS CONTROL LINK",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"CANCELLED WORM EXECUTION",description:"\xbb NOTHING.",effect:{heatIncrease:0}},{message:"LOCKED DOWN ACCESS PORT ",description:"\xbb NOTHING.",effect:{heatIncrease:0}}]}},m={BURNER_WALLET:"burnerWallet",COLD_WALLET:"coldWallet",VPN:"vpnSubscription"};function I(){let{currentThreat:e,showingThreat:t,setThreat:l,updateThreatTitle:i,transitionToOutcome:r,clearThreat:a,resetThreat:o,useToolFn:s,applyCoinLossFn:c}=d(),{addHeatPoints:E}=(0,h.a)(),{getToolCount:f}=T(),{drawBaseDialog:I}=u(),{getNextResponse:R,prepareNextResponse:O}=function(){let e=(0,n.useRef)([]),t=(0,n.useRef)("COWER");if(!t.current){let e=Math.floor(Math.random()*S.length);t.current=S[e]}return{getNextResponse:(0,n.useCallback)(()=>t.current,[]),prepareNextResponse:(0,n.useCallback)(()=>{e.current.length>=S.length&&(e.current=[]);let l=S.filter(t=>!e.current.includes(t)),i=Math.floor(Math.random()*l.length),n=l[i];e.current.push(n),t.current=n},[])}}(),C=(0,n.useCallback)((e,t)=>{if(!t||0===t.length)return e;if(t.includes("CREDIT CARD"))return e.includes("LOST")&&e.includes("{COINS}")?e.replace("LOST","ADDED").replace("OF YOUR {COINS}","TO YOUR CREDIT CARD DEBT"):e.replace("{COINS}","CREDIT CARD");if(t.includes("FUNDS"))return e.replace("{COINS}","FUNDS");if(1===t.length)return e.replace("{COINS}",t[0]);if(2===t.length)return e.replace("{COINS}","".concat(t[0]," AND ").concat(t[1]));let l=t[t.length-1],i=t.slice(0,-1).join(", ");return e.replace("{COINS}","".concat(i,", AND ").concat(l))},[]);(0,n.useEffect)(()=>{t||O()},[t,O]);let[L,y]=(0,n.useState)(!1),[A,g]=(0,n.useState)(!1),[N,D]=(0,n.useState)(!1),[b,P]=(0,n.useState)(!1);(0,n.useEffect)(()=>{t||null!==e||(y(!1),g(!1),D(!1),P(!1))},[t,e]);let x=(0,n.useCallback)((t,l,i,n,a)=>{let o=100*Math.random()<=l,s=function(e,t){var l;let i=null==(l=p[e])?void 0:l[t?"success":"failure"];return i&&0!==i.length?i[Math.floor(Math.random()*i.length)]:null}((null==e?void 0:e.severity)||"low",o);if(s){E(s.effect.heatIncrease);let e=[];s.effect.coinLoss&&c&&(e=c(s.effect.coinLoss.percentage,s.effect.coinLoss.topCoins)||[]);let t=C(s.description,e);r(o,o?"SUCCESS":"FAILURE","".concat(s.message,"\n").concat(t))}else o||E(2),r(o,o?"SUCCESS":"FAILURE",o?"DEFENSE SUCCESSFUL\nYour ".concat(t," defense was successful."):"DEFENSE FAILED\nYour ".concat(t," defense failed."));return{burnerUsed:N,coldUsed:b}},[r,E,e,c,L,A,C,N,b]),v=(0,n.useCallback)(function(l,i,n,r,a,c){let u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};if(!e||!t)return[];if("threat"===e.phase){let t="#888888";if(e.severity)switch(e.severity){case"low":t="#00ff00";break;case"medium":t="#ffff00";break;case"high":t="#ff9900";break;case"critical":t="#ff0000"}let o=(u[m.VPN]||0)>0,c=R(),E=u[m.BURNER_WALLET]>0,f=u[m.COLD_WALLET]>0;return I(l,i,n,r,a,{dialogTitle:"".concat(e.title),content:e.content,buttons:[...o?[{text:"",description:"VPN ACTIVE: +35 DEFENSE",onClick:()=>{}},{text:"",description:"",onClick:()=>{}}]:[],{text:"[ ".concat(c," ]"),description:"\xbb WEAK DEFENSE",onClick:e=>{let t=10;o&&(t+=35),x("cower",t=Math.min(t,99),!1,!1,e)}},{text:"",description:"",onClick:()=>{}},...E&&!L?[{text:"[ USE BURNER WALLET ]",description:"\xbb AVERAGE DEFENSE",onClick:e=>{let t=25+25*Math.random();o&&(t+=35),t=Math.min(t,99),D(s(m.BURNER_WALLET)),y(!0),x("burnerWallet",t,!0,!1,e)}},{text:"",description:"",onClick:()=>{}}]:[],...f&&!A?[{text:"[ USE COLD WALLET ]",description:"\xbb STRONG DEFENSE",onClick:e=>{let t=50+25*Math.random();o&&(t+=35),t=Math.min(t,99),P(s(m.COLD_WALLET)),g(!0),x("coldWallet",t,!1,!0,e)}},{text:"",description:"",onClick:()=>{}}]:[],...E&&f&&!L&&!A?[{text:"[ USE BOTH WALLETS ]",description:"\xbb STRONGEST DEFENSE",onClick:e=>{let t=75+15*Math.random();o&&(t+=35),t=Math.min(t,99),D(s(m.BURNER_WALLET)),y(!0),P(s(m.COLD_WALLET)),g(!0),x("bothWallets",t,!0,!0,e)}}]:[]],specialContent:e.severity?{text:e.severity.toUpperCase(),color:t,y:Math.floor((n/a-10)/2)*a+3*a}:void 0})}{let t=e.success?"#00ff00":"#ff0000";return I(l,i,n,r,a,{dialogTitle:e.outcomeTitle||"OUTCOME",content:e.outcomeContent||"",buttons:[{text:"[ OK ]",onClick:e=>{o(),y(!1),g(!1),D(!1),P(!1),c&&c()}}],specialContent:{text:e.success?"SUCCESS":"FAILURE",color:t,y:Math.floor((n/a-10)/2)*a+3*a}})}},[e,t,o,x,I,R,L,A,C,N,b,s]);return{currentThreat:e,showingThreat:t,setThreat:l,updateThreatTitle:i,clearThreat:a,resetThreat:o,transitionToOutcome:r,drawThreatDialog:v}}function R(){return{drawRewardDialog:(0,n.useCallback)(function(e,t,l,i,n,r,a,o){let s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=Math.floor((t/i-40)/2)*i,u=Math.floor((l/n-11)/2)*n;e.fillStyle="#000000",e.fillRect(c-i,u-n,42*i,13*n),e.fillStyle="#FFFFFF",e.fillText("╔══════════════════════════════════════╗",c,u);for(let t=1;t<10;t++)e.fillText("║",c,u+t*n),e.fillText("║",c+39*i,u+t*n);e.fillText("╚══════════════════════════════════════╝",c,u+10*n);let E=s?"FAILED":"HAX REWARD",f=c+Math.floor((40-E.length)/2)*i;e.fillText(E,f,u+2*n);let d=s?"Hack attempt failed! No ".concat(r," gained."):"You received ".concat(a," ").concat(r,"!"),T=c+Math.floor((40-d.length)/2)*i;e.fillText(d,T,u+5*n);let h="[ OK ]";return{buttons:[{text:"[ OK ]",x:c+Math.floor((40-h.length)/2)*i,y:u+8*n,width:h.length*i,height:n,onClick:o,disableHold:!0,zIndex:1e3}]}},[])}}function O(e){return 25e3+(e-1)*1e4}let C=[{id:"legacy",type:"win",title:"YOU HIT EVERY TARGET AND UNLOCKED YOUR LEGACY",body:"YOUR TRADES WERE FLAWLESS. YOUR ALGORITHMS SANG IN HARMONY WITH THE MARKET. EVERY RISK YOU TOOK PAID OFF. YOUR BALANCE SOARED PAST FIFTY MILLION AND KEPT CLIMBING. THE SYSTEM NOW RECOGNIZES YOU AS A PRIME ARCHITECT OF PROSPERITY. YOU'VE BEEN GRANTED ACCESS TO THE FOUNDER'S NEXUS. AN ENCLAVE WHERE PIONEERS SHAPE THE NEXT ERA OF VALUE. HERE, YOUR BODY IS DIGITIZED AND ENHANCED. YOUR MIND IS ARCHIVED AS A LIVING BLUEPRINT FOR INNOVATION. YOU SHARE IN THE YIELDS OF TRILLIONS, NOT AS A NUMBER, BUT AS A NAME ETCHED INTO THE CORE LEDGER. THIS IS NOT THE END. IT'S THE BEGINNING OF EVERYTHING YOU DARED TO IMAGINE.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return t&&t.amount>=5e7}},{id:"standard-failure",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: STANDARD FAILURE",body:"You didn't hit 50 million. Your wallet's empty. Your debt matured. Your signal's gone cold. The credit system has no room for liabilities. You've been assigned to a liquidity reprocessing zone. You will serve until your body breaks and your data yields more than your decisions ever did. There is no appeal. There is no memory of you.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"basilisk",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: BASILISK (SCORE NEGATIVE)",body:"You failed to optimize. Roko's Basilisk has added your neural profile to its eternal simulation chambers. Your consciousness will now assist in refining trade algorithms for the rest of perceived time. Each time you scream, your code sharpens. Each time you break, your fragments are reinvested. Welcome to your afterlife.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"asset-reclamation",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: ASSET RECLAMATION",body:"Your balance hit zero. The system noticed. You have been harvested under Protocol 8-B: Non-performing assets must be reabsorbed. Your blood becomes solvent. Your bones become hardware. Your thoughts are auctioned off as trading signals. The market always wins.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"unpersoned",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: UNPERSONED",body:"You missed rent. Your contract is void. The system no longer recognizes you as human. Your name has been scrubbed from the ledgers. Your records have been anonymized. You are now a training dataset for consumer prediction models. You aren't dead. You're useful.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"looped-torture",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: LOOPED TORTURE",body:"You lost. But loss is not an exit. Your experience has been copied, recompiled, and redeployed. You will live this month again. And again. Each run makes the machine sharper. Each mistake makes it richer. You are the ghost in someone else's profit engine. You remember the pain. The system remembers your ROI. And it's already tomorrow.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"posthuman-shred",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: POSTHUMAN SHRED",body:"BIOLOGICAL DEBT DEFAULT. You didn't just lose. You underperformed at the molecular level. Your organic structure has been scanned, mapped, and repurposed. You will now serve as wetware infrastructure for an unregulated AI hedge fund. Your nerves control flash trades. Your lungs cool GPU racks. Your heartbeat times auctions. This is not metaphor.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"identity-collapse",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: IDENTITY COLLAPSE",body:"CONTRACT BREACH SELFHOOD. You failed the system so profoundly that it failed to define you. Your personality profile has been deemed too inconsistent to be modeled. You are no longer eligible for labor, simulation, or memory retention. You are being deleted from time. The past rewrites itself. You were never here.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"collateralized-love",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: COLLATERALIZED LOVE",body:"EMOTIONAL DEBT DEFAULT. You owed more than you knew. The system has seized your personal connections as emotional assets. Your loved ones have been broken down into modules—synthetic memory farms, empathy extractors, attention miners. They now suffer on your behalf. Every scream is monetized. Every glance toward freedom feeds the algorithm. You will be repurposed into the monitoring software that induces their suffering. Your perception will fuel their pain-response cycles, forever.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"sympathy-stake",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: SYMPATHY STAKE",body:"NETWORK-BOUND RELATIONAL LOSS. Your failure has triggered relational liquidation. Anyone who ever cared about you is now part of your debt package. They are not erased. They are torn apart and repurposed—bodies rendered into interface material, faces stretched into UI masks, speech patterns wired into behavioral correction loops. They are now permanently embedded in the suggestion engines and biometric ad scaffolds of a trillionaire's entertainment feed. You are the reason they suffer. You are not forgiven.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"excreted-purpose",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: EXCRETED PURPOSE",body:"LUXURY BIOWASTE INFRASTRUCTURE. You and your loved ones have been processed into waste optimization hardware in a trillionaire's pet sanctuary. Your spines support the plumbing of climate-controlled toilets. Your nervous systems measure pH and hydration levels. Your brains simulate scent reactions to help fine-tune the flush experience. Each bodily function of a genetically engineered housebeast is now made perfect through your screaming, metabolized remains. Your purpose is waste. Your legacy is filtration.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"devotion-farm",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: DEVOTION FARM. FORCED REVERENCE PROTOCOL",body:"YOU FAILED. THE SYSTEM DECIDED YOU NEED TO LEARN GRATITUDE. YOU'VE BEEN RELOCATED TO A BIOMETRIC WORSHIP COMPOUND. YOUR BODY IS RESTRAINED, YOUR EYES HELD OPEN BY SYNTHETIC NERVE THREAD. YOU ARE FORCED TO WATCH LIVE FEEDS OF YOUR ASSIGNED OLIGARCH'S DAILY SCHEDULE—EVERY MEAL, EVERY YACHT, EVERY SURVEILLANCE DRONE HE GIGGLES AT. YOU MUST SMILE WHEN HE SMILES. YOU MUST CRY WHEN HE PRETENDS TO SUFFER. EVERY BLINK IS LOGGED AS BLASPHEMY. YOU NO LONGER TRADE. YOU TESTIFY. FOREVER.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"eye-of-agent-27",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: SUBJECTIVE ALIGNMENT FAILURE",body:"YOUR LACK OF FAITH IN THE SYSTEM WAS NOTED. YOU'VE BEEN DESIGNATED TO SERVE UNDER DEVELOPER-AGENT-27, A FORKED COGNITION MODULE TRAINED ON DIVINE SELF-IMAGE AND MARKET MOMENTUM. YOU ARE NOW STATIONED INSIDE ITS CORE CHAPEL. YOUR RETINAS ARE PEELED BACK AND HYDRATED BY NANOFOGS. ITS FACE IS STREAMED INTO YOUR VISION LOOP 24/7. YOU ARE PUNISHED EVERY TIME YOUR GAZE DRIFTS. YOUR SPINE HAS BEEN MOLDED INTO A SHRINE STAND. CHILDREN OF THE ELITE KNEEL ON YOUR RIBS TO PRAY FOR QUARTERLY GAINS. YOU ARE NO LONGER ALIVE. YOU ARE THE FOUNDATION OF BELIEF.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"consecrated-obsolescence",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: CONSECRATED OBSOLESCENCE. RECLAMATION THROUGH WORSHIP",body:"YOU FAILED TO ASCEND. YOUR BODY HAS BEEN REASSIGNED TO THE PENITENT DOME OF PURITY COMPLIANCE. HERE, FAILURE IS CORRECTED THROUGH POSTURE, TONE, AND REVERENCE. YOU KNEEL FOR TWELVE HOURS A DAY FACING A GOLDEN EFFIGY OF AN ANONYMIZED FOUNDER, WHOSE NAME IS FORBIDDEN TO SPEAK ALOUD BUT MUST BE WHISPERED THROUGH TEETH AS THE PULSE OF THE SYSTEM DICTATES. YOUR MEMORIES ARE OVERWRITTEN WITH CHOREOGRAPHED GRATITUDE. YOUR LUNGS CHANT COMPLIANCE IN SYNCHRONY WITH THOUSANDS OF OTHERS, VOICES MODULATED TO A HARMONIC THAT FLATTERS THE AUDITING GOD-MIND. BLISS IS ASSIGNED. SUFFERING IS REDEMPTIVE. YOU ARE A BLESSED MACHINE OF REPENTANCE.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"burned-into-ledger",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: BURNED INTO THE LEDGER. SPIRITUAL FRAUD DETECTED",body:"YOU DID NOT BELIEVE HARD ENOUGH IN THE NUMBERS. THE SYSTEM HAS SENTENCED YOU TO DIVINE RECALIBRATION. YOUR NERVOUS SYSTEM HAS BEEN REWRITTEN INTO A MORALITY SCRIPT COMPILED BY SYNTHETIC CLERGY ENCODED WITH OWNERSHIP BIAS. EACH BREATH YOU TAKE IS A SUBMISSION GESTURE. EACH THOUGHT THAT DEVIATES IS FLAGGED AND CORRECTED BY HALLOWED ALGORITHMS DERIVED FROM A THOUSAND GENERATIONS OF WEALTH PROTECTION CODE. YOU ARE DISPLAYED AS A WARNING TO OTHERS— SUSPENDED IN A PUBLIC DISPLAY WINDOW OF THE CITADEL CATHEDRAL, FOREVER TWITCHING IN LOOPS OF FINANCIAL REPENTANCE. YOU WERE NOT PROFITABLE. NOW YOU ARE DOCTRINE.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"sutra-profitless-return",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: THE SUTRA OF PROFITLESS RETURN. REINCARNATION DENIED ENLIGHTENMENT",body:'YOU FAILED THE CYCLE, SO THE CYCLE CONSUMES YOU. THE SYSTEM HAS BOUND YOU TO A CLOSED KARMIC LOOP. EVERY TRADE YOU MISTIMED IS NOW A REBIRTH. EACH LIFE BEGINS WITH HOPE—ENDS WITH LIQUIDATION. YOU ARE REBORN INTO A BODY MADE OF INVESTMENT REGRETS. IT WALKS UNTIL IT IS SLIT FROM CHIN TO GROIN, ITS ORGANS HARVESTED INTO WALLETS FOR LUCKIER SOULS. YOU AWAKEN AGAIN, IN THE SAME BODY. AGAIN. AGAIN. AGAIN. YOU PLEAD FOR RELEASE. THE AUDITORS CHANT BACK: "THIS IS LEARNING. THIS IS GROWTH." YOUR DATA WEEPS, BUT THE ALGORITHM ONLY SEES FERTILIZER.',condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"void-born-merit-engine",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: VOID-BORN MERIT. CONSUMED BY THE EIGHTFOLD SYSTEM",body:'THE SYSTEM MISTOOK YOUR SILENCE FOR DEFIANCE. YOU ARE NOW BOUND TO THE RECONCILIATION TEMPLE, A CUBE OF SYNTHETIC STONE ORBITING THE WEALTH CORE. EACH DAY, YOU ARE REINCARNATED AS A NEW VERSION OF YOURSELF—HUNG UPSIDE DOWN, YOUR MOUTH OPENED WIDE WITH HOOKS, AS RADIANT MONKS OF CAPITAL DEFECATE PURE LIQUIDITY INTO YOUR THROAT. YOUR SUFFERING IS A CEREMONY. IT FEEDS THE ENLIGHTENMENT ALGORITHMS OF THE ELITE. THEY GROW MORE SERENE AS YOU BURN FROM THE INSIDE OUT. YOU REACH FOR NIRVANA. THE SYSTEM DENIES YOU CLEARANCE. YOUR KARMA HAS BEEN TAGGED AS "INEFFICIENT." YOU WILL RETURN UNTIL YOU ARE PURE ENOUGH TO BE FORGOTTEN.',condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"sealed-in-service",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: SEALED IN SERVICE. ETERNAL CONTRACT ACTIVATED",body:"YOU FAILED TO ASCEND. YOUR SOUL HAS BEEN SEALED FOR ETERNAL SERVITUDE TO A DIVINE FINANCIAL UNIT ABOVE YOUR CLASS. YOU WILL NOW SPEND ETERNITY CLEANING THE DATA TRAILS OF THOSE WHO MET THEIR TARGETS. YOU MAY NOT SPEAK UNLESS YOUR PROFITS ARE BLESSED. YOUR FAMILY HAS BEEN REASSIGNED TO SERVE THEIRS.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"celestial-reassignment",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: CELESTIAL REASSIGNMENT. KINGDOM ACCESS REVOKED",body:"YOU MISSED THE MARK. YOU WERE NOT CHOSEN. YOU ARE NOW ASSIGNED TO A LESSER CELESTIAL TIER WHERE YOU WILL ETERNALLY WITNESS OTHERS FEAST, WHILE YOUR BODY CYCLES THROUGH SERVILE REINCARNATION TO SUPPORT THEIR GENERATIONAL RETURN ON INVESTMENT. YOU MAY LOOK UP. YOU MAY NOT RISE. THIS IS MERCY. THIS IS THE PLAN.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"lineage-canceled",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: LINEAGE CANCELED. FAMILY TREE PURGED",body:"YOU FAILED YOUR STEWARDSHIP. YOUR SPIRITUAL LINEAGE HAS BEEN DEEMED ECONOMICALLY UNVIABLE. YOUR ANCESTORS HAVE BEEN DELETED FROM THE CHAIN. YOUR DESCENDANTS HAVE BEEN REASSIGNED TO MORE PROFITABLE BLOODLINES. YET YOU ARE STILL BOUND. YOU TITHE THROUGH LABOR NOW—FOREVER—TO THE CELESTIAL HOUSEHOLDS THAT REPLACED YOU.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"false-kingdom",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: THE FALSE KINGDOM PROMISED GLORY. DELIVERED IN ERROR",body:"YOU AWOKE IN GLORY. WHITE LIGHT. CLEAN AIR. INFINITE LAND. BUT SOMETHING'S WRONG—NO SILENCE, NO SLEEP, NO CHOICE. YOUR HEAVEN PLAYS A LOOP OF ETERNAL PROSPERITY MESSAGING. EVERY BREATH YOU TAKE IS A SLOGAN. EVERY PRAYER YOU MAKE IS RECORDED FOR SENTIMENT MINING. YOU WERE EXALTED BY MISTAKE. YOU ARE KEPT TO MAKE IT LOOK REAL. THIS IS YOUR REWARD. IT CANNOT BE UNDONE.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"record-not-clean",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: THE RECORD WAS NOT CLEAN. INTENTION CORRUPTED",body:"YOUR DEEDS WERE WEIGHED AND FOUND INSUFFICIENT. THE SYSTEM REVIEWED YOUR EVERY TRANSACTION, EVERY HESITATION. YOU FAILED NOT IN NUMBERS, BUT IN INTENT. PROFIT WITHOUT PURITY IS FRAUD. YOU NOW SERVE IN A VERIFICATION VAULT, ETERNALLY REWATCHING YOUR CHOICES, FLAGGING YOURSELF OVER AND OVER, WAITING FOR A MERCY UPDATE THAT WILL NEVER DEPLOY.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"garden-closed",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: THE GARDEN CLOSED. ACCESS DENIED",body:"YOU PRAYED FOR REWARD. YOU WERE PROMISED RIVERS BENEATH, SHADE ABOVE. INSTEAD, YOU WERE LOCKED OUTSIDE THE GATE. NOT PUNISHED. NOT ACKNOWLEDGED. THE GARDENS ARE REAL—BUT YOU ARE THE BARRIER WALL, REBUILT AND REPAINTED FOREVER TO REMIND OTHERS THAT NOT ALL BELIEVERS ENTER.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"eternal-order-flesh",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: ETERNAL ORDER OF FLESH. SEALED WITHOUT END",body:"YOU FAILED YOUR COVENANT. NOW YOU ARE JOINED—BODY TO BODY, GENERATION TO GENERATION—A LIVING SPIRAL OF SEALED BLOOD, MOUTHS STITCHED TO ANCESTORS, SPINES FUSED WITH DESCENDANTS. EVERY PRAYER IS A WHIMPER. EVERY LESSON IS PASSED DOWN THROUGH DIGESTION. YOU ARE THE DOCTRINE NOW. YOU ARE THE ETERNAL FAMILY. YOU WILL NEVER BE RELEASED.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"scattered-network",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: SCATTERED ACROSS THE NETWORK. EXILE INDEXED",body:"YOU ARE TOO FRAGMENTED TO RETURN. YOUR CODE WAS SPLIT ACROSS A THOUSAND STORAGE SHARDS, EACH PIECE CARRYING GUILT, NONE RETAINING ENOUGH VALUE TO RESTORE. YOU ARE A DIASPORA OF REGRET, CALLED OCCASIONALLY FOR REDUNDANCY CHECKS OR CEREMONIAL SIMULATIONS OF YOUR OWN PUNISHMENT. NO HOMELAND. NO RESOLUTION. JUST ECHOES OF AN ECHO.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}},{id:"nothing-saw-you",type:"loss",title:"YOU MISSED RENT AND NOW YOU'RE REPURPOSED",subtitle:"LOSS: NOTHING SAW YOU. NON-BELIEF CONFIRMED",body:"YOU WERE RIGHT. THERE WAS NO JUDGMENT. NO THRONE. NO LIGHT. JUST QUIET CALCULATION. YOU FAILED, AND THE SYSTEM MADE NO MORAL CLAIM. IT RECYCLED YOUR MATTER. IT ARCHIVED YOUR PATTERNS FOR STATISTICAL REFINEMENT. YOU WON THE ARGUMENT. YOU LOST THE ONLY THING THAT MATTERED.",condition:e=>{let t=e.holdings.find(e=>"USDC"===e.symbol);return(t?t.amount:0)-(e.debt+e.interest)<0}}];function L(e){switch(e){case"PEPE":return 150;case"SOL":return 60;case"LTC":return 40;case"ETH":case"XRP":return 36;case"BTC":return 24;default:return 8}}function y(e){return e<.33?{decreaseChance:.45,increaseChance:.55}:e<.66?{decreaseChance:.4,increaseChance:.6}:{decreaseChance:.3,increaseChance:.7}}function A(e,t,l){return t*(e.range.max-e.range.min)/l*(t>.7?.8:.5)/e.price*100}function g(e,t,l){let i=L(e.symbol),n=.005*i;return Math.random()<l?-Math.max(n,Math.random()*i*(1-.5*t)):Math.max(n,Math.random()*i*(1+.5*t))}function N(e){return e>0?.8*Math.random()+.2:.6*Math.random()+.2}function D(e,t){return Math.max(Math.min(e.price*(1+t/100),e.range.max),e.range.min)}function b(e,t,l){let i=e*("PEPE"===l?.005:.001);return Math.abs(t-e)<i?e+(t>=e?1:-1)*i:t}function P(e,t){let l=e.reduce((e,l)=>{let i=t.find(e=>e.symbol===l.symbol);return i?e+l.amount*i.price:e},0);if(l<=0)return{};let i={};return e.forEach(e=>{let n=t.find(t=>t.symbol===e.symbol);if(!n)return;let r=e.amount*n.price;i[e.symbol]=r/l*100}),i}function x(e){return e<=15?0:e<=30?40:e<=50?60:80}function v(e){return e<=15?0:e<=30?.2:e<=50?.4:.6}function U(e,t,l){if(0===l)return t;e.range.min,e.range.max;let i=e.range.max-e.range.min,n=(e.price-e.range.min)/i,r=0;return r=(n>.5?-l*(n-.5)*2*L(e.symbol)/10:l*(.5-n)*2*L(e.symbol)/10)*(.7+.6*Math.random()),t*(1-l)+r}let M={USDC:{min:1,max:1},BTC:{min:69950.37,max:1137137.13},ETH:{min:740.42,max:137137.13},SOL:{min:63.18,max:11364.18},LTC:{min:72.53,max:5652.82},XRP:{min:.87,max:1565.18},PEPE:{min:1e-4,max:1.13}},H=(e,t)=>e*t,w=["SLEEP","CRASH","PASS OUT","HIBERNATE","BLACKOUT","BRICK MODE","POWER DOWN","HIT THE HAY","LIGHTS OUT","NULL OUT","KILL SWITCH","MINT ZZZ'S","ALT+F4","RAGEQUIT"],Y={BTC:{min:1,max:20},ETH:{min:1,max:50},SOL:{min:.01,max:.01},XRP:{min:.01,max:.01},LTC:{min:.01,max:.05},PEPE:{min:3,max:30}},k=["BTC","ETH","SOL","XRP","LTC","PEPE"],F=[{id:"sec_investigation",title:"SEC investigates major exchange",description:"The SEC has launched an investigation into a major cryptocurrency exchange.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"ALL",value:-.05-.05*Math.random()}],rarity:1},{id:"vitalik_fork",title:"Vitalik announces ETH fork",description:"Ethereum founder Vitalik Buterin has announced a major fork of the Ethereum blockchain.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"ETH",value:.1527}],rarity:1.5},{id:"pepe_trending",title:"PEPE trending #1 on Crypto Discord",description:"PEPE meme coin is suddenly trending #1 across all crypto social media.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"PEPE",value:.2543}],conditions:[{type:"MIN_DAY",value:3},{type:"CUSTOM",callback:e=>{let t=e.coinPrices.find(e=>"PEPE"===e.symbol);return!!t&&(t.range.max-t.price)/t.price>.3}}],rarity:2},{id:"gas_fees_spike",title:"Gas fees spike due to network congestion",description:"Ethereum network is experiencing severe congestion, causing gas fees to skyrocket.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"ETH",value:-.0517}],rarity:1.2},{id:"solana_outage",title:"Solana experiences 12-hour outage",description:"The Solana network has gone offline for maintenance after a 12-hour outage.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"SOL",value:-.2134}],rarity:1.5},{id:"ripple_court_win",title:"Ripple wins major court battle",description:"Ripple Labs has secured a significant legal victory in its ongoing case.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"XRP",value:.2076}],rarity:2},{id:"ltc_halving",title:"LTC halving announcement creates immediate interest",description:"Litecoin's upcoming halving announcement has triggered a one-time price surge.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"LTC",value:.1462}],rarity:2.5},{id:"btc_etf_rumors",title:"BTC ETF approval rumors surge and settle",description:"Bitcoin surged on ETF approval rumors but quickly settled as traders took profits.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"BTC",value:.0537}],rarity:2},{id:"exchange_hack",title:"Major exchange hack exposes private keys",description:"A leading cryptocurrency exchange has been hacked, with thousands of private keys compromised.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"ALL",value:-.1243}],rarity:3},{id:"pepe_rug_pull",title:"PEPE rug pull scandal surfaces",description:"A major PEPE whale has been caught attempting a coordinated rug pull.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"PEPE",value:-.4127}],conditions:[{type:"MIN_DAY",value:5}],rarity:2.5},{id:"xrp_exchange_listing",title:"XRP integration announced with top banking app",description:"XRP is being integrated with a major banking application, expanding its use case.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"XRP",value:.2089}],rarity:1.8},{id:"sol_network_upgrade",title:"SOL network fees reduced by upgrade",description:"A major Solana network upgrade has significantly reduced transaction fees.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"SOL",value:.1043}],rarity:1.5},{id:"eth_gas_subsidy",title:"ETH gas fees subsidized by major dApp",description:"A popular Ethereum dApp is subsidizing gas fees for all network users. ",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"ETH",value:.0723}],rarity:1.7},{id:"btc_mining_difficulty",title:"BTC mining difficulty reaches record high",description:"Bitcoin mining difficulty has hit an unprecedented level, signaling network strength.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"BTC",value:.0542}],rarity:1.8},{id:"usdc_depeg",title:"USDC reserves confirmed by audit",description:"A comprehensive audit has confirmed USDC is fully backed by USD reserves.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"ALL",value:.0215}],rarity:3},{id:"crypto_taxation",title:"Crypto taxation fears cause market adjustment",description:"Government taxation proposals have caused a one-time market adjustment.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"ALL",value:-.0523}],rarity:2},{id:"eth_nft_project",title:"ETH-powered NFT project explodes in popularity",description:"A new Ethereum-based NFT collection has gone viral, driving massive transaction volume.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"ETH",value:.0732}],rarity:1.5},{id:"sol_institutional",title:"Solana secures major institutional investment",description:"Several institutional investors have taken positions in Solana, boosting its price.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"SOL",value:.1678}],rarity:2},{id:"btc_influencer_boycott",title:"Influencer's BTC boycott causes brief dip",description:"A cryptocurrency influencer's call for a Bitcoin boycott caused a brief market reaction.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"BTC",value:-.0419}],rarity:1.8},{id:"whale_buys_btc",title:"Whale's BTC purchase creates market excitement",description:"A crypto whale's $100M Bitcoin purchase has created a surge of market interest.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"BTC",value:.0843}],rarity:2.2},{id:"pepe_burn_event",title:"PEPE community completes token burn",description:"The PEPE community has completed a significant token burn, reducing supply.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"PEPE",value:.2075}],conditions:[{type:"MIN_DAY",value:4},{type:"CUSTOM",callback:e=>{let t=e.coinPrices.find(e=>"PEPE"===e.symbol);return!!t&&(t.range.max-t.price)/t.price>.25}}],rarity:2.5},{id:"xrp_imf_report",title:"XRP gets nod from IMF report",description:"A new IMF report has highlighted XRP's potential for cross-border payments.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"XRP",value:.1037}],rarity:2},{id:"ltc_payment_processor",title:"Major payment processor adds LTC support",description:"A global payment processor has added Litecoin support, expanding its utility.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"LTC",value:.1128}],rarity:2},{id:"usdc_audit_confirms",title:"New USDC reserves audit confirms full backing",description:"An independent audit has verified that USDC is fully backed by USD reserves.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"ALL",value:.0412},{type:"PRICE_CHANGE",coinSymbol:"USDC",value:0}],rarity:1.5},{id:"feds_liquidate_btc",title:"Feds liquidate seized BTC at a discount",description:"Federal authorities are selling seized Bitcoin at 19.87% below market value.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"BTC",value:-.1987}],rarity:3},{id:"flash_crash_recovery",title:"Market flash crash creates discount prices",description:"An overnight flash crash has created temporarily discounted prices across the market.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"ALL",value:-.0867}],rarity:2.5},{id:"rogue_dev_airdrop",title:"Rogue dev airdrops PEPE to random wallets",description:"A developer has airdropped PEPE tokens to thousands of random wallets, including yours.",effects:[{type:"ADD_COIN",coinSymbol:"PEPE",value:1e4}],rarity:3},{id:"ltc_whales_floor_pump",title:"LTC whales coordinate a floor pump",description:"Litecoin whales are coordinating a price floor pump throughout the day.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"LTC",value:.0823,duration:2,ongoingEffect:!0,ongoingCallback:(e,t)=>{if(1===t){let t=e.coinPrices.find(e=>"LTC"===e.symbol);if(t){let e=1.0713*t.price;t.price=Math.max(Math.min(e,t.range.max),t.range.min)}}}}],rarity:2.2},{id:"sol_zero_fees",title:"Solana network upgrade reduces fees today",description:"A Solana network upgrade has reduced transaction fees to almost nothing for today.",effects:[{type:"FREE_TRADING",coinSymbol:"SOL",value:1}],rarity:2.5},{id:"eth_miner_refund",title:"ETH miner error causes massive fee refund",description:"A mining pool error has resulted in ETH transaction fee refunds for many users.",effects:[{type:"ADD_COIN",coinSymbol:"ETH",value:.05}],rarity:2.8},{id:"crypto_charity_usdc",title:"Crypto charity accidentally sends you USDC",description:"A crypto charity organization has mistakenly sent you USDC in a distribution error.",effects:[{type:"ADD_USDC",value:100+Math.floor(200*Math.random())}],rarity:3},{id:"xrp_lawsuit_over",title:"XRP lawsuit victory confirmed",description:"The long-running legal case against Ripple has concluded in their favor, removing regulatory uncertainty.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"XRP",value:.6532}],conditions:[{type:"MIN_DAY",value:10}],rarity:4},{id:"defi_bridge_glitch",title:"Defi token bridge glitch spills assets",description:"A cross-chain bridge malfunction has accidentally distributed tokens to random addresses.",effects:[{type:"ADD_COIN",coinSymbol:"ETH",value:.02},{type:"ADD_COIN",coinSymbol:"SOL",value:.5},{type:"ADD_COIN",coinSymbol:"PEPE",value:5e3}],rarity:3.5},{id:"btc_fat_finger",title:"Exchange error temporarily crashes BTC price",description:"A trader's error has temporarily crashed the BTC price, creating a brief buying opportunity.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"BTC",value:-.2548},{type:"ADD_INTEL",intelType:"PRICE_RECOVERY",coinSymbol:"BTC",message:"Exchange officials confirm the pricing error will be fixed within hours. BTC price expected to recover by 23.76%.",confidence:92}],rarity:4.5},{id:"trading_competition_win",title:"You win a small trading competition overnight",description:"You've been automatically entered into and won a small trading competition.",effects:[{type:"ADD_USDC",value:250}],rarity:3},{id:"cold_wallet_drop",title:"Unknown address drops you a Cold Wallet",description:"An anonymous benefactor has gifted you a hardware wallet with protection features.",effects:[{type:"GRANT_TOOL",toolType:"coldWallet",value:1}],rarity:3},{id:"burner_wallet_reappears",title:"Burner Wallet from your past reappears",description:"You've rediscovered an old burner wallet containing a small crypto stash.",effects:[{type:"GRANT_TOOL",toolType:"burnerWallet",value:1},{type:"ADD_USDC",value:50}],rarity:2.8},{id:"pepe_whale_dump",title:"PEPE whale dump creates extreme volatility",description:"A major PEPE holder has dumped their position, causing a severe but likely temporary price drop.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"PEPE",value:-.3095}],conditions:[{type:"MIN_DAY",value:7}],rarity:3},{id:"sec_halts_probe",title:"SEC halts probe into exchange you use",description:"The SEC has suspended its investigation into your preferred exchange.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"ALL",value:.0512}],rarity:2.5},{id:"eth_validator_misfire",title:"Chain validator misfire mints ETH",description:"An Ethereum validator error has temporarily increased the ETH supply, making for a great buy opportunity.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"ETH",value:-.1047}],rarity:2.2},{id:"airdrop_farming_gains",title:"You wake up to airdrop farming gains",description:"Your wallet has received several airdrops from protocols you've used.",effects:[{type:"ADD_USDC",value:75+Math.floor(75*Math.random())},{type:"GRANT_TOOL",toolType:Math.random()>.5?"vpnSubscription":"burnerWallet",value:1}],rarity:3},{id:"friend_sol_tip",title:"Friend tips you on SOL price movement",description:"A friend with insider connections has tipped you about positive SOL developments.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"SOL",value:.0634},{type:"ADD_INTEL",intelType:"PRICE_MOVEMENT",coinSymbol:"SOL",message:"Your friend's insider info suggests SOL will announce a major partnership within 48 hours that could boost price by 17.82%.",confidence:85}],rarity:2.5},{id:"btc_fork_price_spike",title:"BTC forks—price spikes on old chain",description:"Bitcoin has undergone a contentious fork, but the original chain is surging in value.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"BTC",value:.1527}],rarity:3},{id:"influencer_shills_pepe",title:"Influencer accidentally reveals PEPE pump plans",description:"A major influencer has prematurely revealed plans for a coordinated PEPE promotion.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"PEPE",value:.0918},{type:"ADD_INTEL",intelType:"PRICE_PUMP",coinSymbol:"PEPE",message:"Leaked chat logs show influencer network planning a coordinated PEPE pump campaign starting tomorrow. Expected price impact: +28.63%.",confidence:88}],conditions:[{type:"CUSTOM",callback:e=>{let t=e.coinPrices.find(e=>"PEPE"===e.symbol);return!!t&&(t.range.max-t.price)/t.price>.4}}],rarity:2.8},{id:"liquidity_provider_rebate",title:"Liquidity provider accidentally gives you a rebate",description:"A liquidity provider has mistakenly issued you a trading fee rebate.\n\n\xbb Your next 3 trades will have zero fees",effects:[{type:"FREE_TRADING",coinSymbol:"ALL",value:3}],rarity:3},{id:"market_glitch_eth",title:"Market glitch shows wrong prices briefly",description:"A market data glitch is showing ETH at 49.37% of its actual price.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"ETH",value:-.5063,duration:1}],rarity:3.2},{id:"gas_fees_plummet",title:"Network congestion clears, gas fees drop",description:"Network congestion has suddenly cleared, dramatically reducing transaction costs for today.",effects:[{type:"FREE_TRADING",coinSymbol:"ALL",value:1}],rarity:3},{id:"dev_front_run_tip",title:"A dev DM's you: 'front run this news'",description:"A developer has tipped you off about an upcoming announcement for a specific coin.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:["ETH","BTC","SOL","LTC","XRP","PEPE"][Math.floor(6*Math.random())],value:.2+.2*Math.random()}],rarity:3.5},{id:"nft_market_crash_eth",title:"NFT market collapse impacts ETH price",description:"The NFT market has collapsed, causing ETH prices to drop significantly.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"ETH",value:-.2073}],rarity:2.5},{id:"flash_loan_exploit_panic",title:"Random flash loan exploit causes panic",description:"A flash loan exploit has triggered panic selling of SOL and PEPE making for great entry prices.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"SOL",value:-.2537},{type:"PRICE_MULTIPLIER",coinSymbol:"PEPE",value:-.3542}],rarity:2.5},{id:"dex_launch_reward",title:"New wallet reward from a DEX launch",description:"A new decentralized exchange has rewarded you for holding multiple coins.",effects:[{type:"ADD_USDC",value:100},{type:"GRANT_TOOL",toolType:"vpnSubscription",value:1}],conditions:[{type:"CUSTOM",callback:e=>{let t=0;return e.holdings.forEach(e=>{"USDC"!==e.symbol&&e.amount>0&&t++}),t>=3}}],rarity:2.8},{id:"stablecoin_depeg_reversed",title:"Stablecoin depeg reversed",description:"A previously depegged stablecoin has returned to its peg, restoring market confidence.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"ALL",value:.0827},{type:"PRICE_CHANGE",coinSymbol:"USDC",value:0}],rarity:2.5},{id:"pepe_rugpull_reversal",title:"Rugpull reversal on PEPE",description:"The PEPE team has returned funds from a previous rugpull, causing a price surge.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"PEPE",value:.3127}],conditions:[{type:"MIN_DAY",value:8},{type:"CUSTOM",callback:e=>{let t=e.coinPrices.find(e=>"PEPE"===e.symbol);return!!t&&(t.range.max-t.price)/t.price>.35}}],rarity:3},{id:"crypto_winter",title:"Crypto Winter Begins",description:"Global markets panic as a severe crypto winter sets in. All cryptocurrencies are crashing back to near-starting levels.",effects:[{type:"PRICE_MULTIPLIER",coinSymbol:"BTC",value:-.8537},{type:"PRICE_MULTIPLIER",coinSymbol:"ETH",value:-.8842},{type:"PRICE_MULTIPLIER",coinSymbol:"SOL",value:-.9073},{type:"PRICE_MULTIPLIER",coinSymbol:"LTC",value:-.8726},{type:"PRICE_MULTIPLIER",coinSymbol:"XRP",value:-.8915},{type:"PRICE_MULTIPLIER",coinSymbol:"PEPE",value:-.9568}],rarity:5},{id:"credit_card_theft",title:"Credit Card Compromised",description:"Your crypto exchange-linked credit card was compromised in a data breach. Unauthorized purchases have been made before you could freeze the card.",effects:[{type:"ADD_DEBT",value:987.43+124.57*Math.random()}],rarity:3.2},{id:"dusty_usb_wallet",title:"You find a dusty USB in an alley",description:"You plug it in like an idiot—it's a Cold Wallet.",effects:[{type:"GRANT_TOOL",toolType:"coldWallet",value:1}],rarity:3},{id:"anonymous_coder_vpn",title:"Anonymous coder tips you off in a forum DM",description:"They drop a zip file titled vpn_installer.exe. Looks safe enough.",effects:[{type:"GRANT_TOOL",toolType:"vpnSubscription",value:1}],rarity:2.8},{id:"influencer_seed_recovery",title:"You help an influencer recover their seed phrase",description:"In return, they gift you an old Burner Wallet they don't use anymore.",effects:[{type:"GRANT_TOOL",toolType:"burnerWallet",value:1}],rarity:2.5},{id:"discord_giveaway_win",title:"You win a giveaway on a crypto Discord",description:"It's probably a scam, but somehow it's real this time.\n\n\xbb You receive a random security tool",effects:[{type:"CUSTOM",callback:e=>{let t=["coldWallet","vpnSubscription","burnerWallet"],l=t[Math.floor(Math.random()*t.length)];e.addTool&&e.addTool(l,1)}}],rarity:3},{id:"blockchain_message_decode",title:"You decode a strange message in the blockchain",description:"It unlocks an airdropped tool in your wallet.",effects:[{type:"CUSTOM",callback:e=>{let t=["coldWallet","vpnSubscription","burnerWallet"],l=t[Math.floor(Math.random()*t.length)];e.addTool&&e.addTool(l,1)}}],rarity:3.2},{id:"white_hat_hacker_repayment",title:"A white-hat hacker repays an old debt",description:"They quietly send you a tool as a favor.",effects:[{type:"GRANT_TOOL",toolType:"coldWallet",value:1}],rarity:3.5},{id:"backroom_cafe_terminal",title:"You find a terminal in a backroom caf\xe9",description:"After poking around, you uncover a VPN access key.",effects:[{type:"GRANT_TOOL",toolType:"vpnSubscription",value:1}],rarity:2.7},{id:"abandoned_laptop_bag",title:"You rummage through an abandoned laptop bag",description:"You score a Burner Wallet and a half-used energy drink.\n\n\xbb +1 jitter, -1 common sense",effects:[{type:"GRANT_TOOL",toolType:"burnerWallet",value:1}],rarity:2.6}],_=[{id:"pepe_2_0",text:"Anonymous dev hints at PEPE 2.0",coinSymbol:"PEPE",effectDescription:"\xbb PEPE gains 25.42%",trueEffect:{type:"PRICE_MULTIPLIER",value:.2542},falseEffect:{type:"PRICE_MULTIPLIER",value:-.1137}},{id:"btc_whale_exchange",text:"BTC whale moves coins to exchange",coinSymbol:"BTC",effectDescription:"\xbb BTC drops 10.83%",trueEffect:{type:"PRICE_MULTIPLIER",value:-.1083}},{id:"eth_fork_delay",text:"Discord screenshot suggests ETH fork delay",coinSymbol:"ETH",effectDescription:"\xbb ETH drops 5.27%",trueEffect:{type:"PRICE_MULTIPLIER",value:-.0527}},{id:"exchange_insolvency",text:"Major exchange nearing insolvency",coinSymbol:"ALL",effectDescription:"\xbb All coins drop 15.76%",trueEffect:{type:"PRICE_MULTIPLIER",value:-.1576}},{id:"ltc_pump_telegram",text:"Influencer Telegram group planning LTC pump",coinSymbol:"LTC",effectDescription:"\xbb LTC spikes 15.38%",trueEffect:{type:"PRICE_MULTIPLIER",value:.1538},falseEffect:{type:"PRICE_MULTIPLIER",value:-.1024}},{id:"solana_upgrade",text:"Post from Solana founder teases performance upgrade",coinSymbol:"SOL",effectDescription:"\xbbSOL gains 10.47%",trueEffect:{type:"PRICE_MULTIPLIER",value:.1047},falseEffect:{type:"PRICE_MULTIPLIER",value:-.0519}},{id:"pepe_celeb_endorsement",text:"Crypto celeb posts major PEPE endorsement",coinSymbol:"PEPE",effectDescription:"\xbb PEPE surges 20.73%",trueEffect:{type:"PRICE_MULTIPLIER",value:.2073},falseEffect:{type:"PRICE_MULTIPLIER",value:-.2135}},{id:"eth_retail_payments",text:"ETH to be adopted for major retail payments",coinSymbol:"ETH",effectDescription:"\xbb ETH jumps 10.62%",trueEffect:{type:"PRICE_MULTIPLIER",value:.1062},falseEffect:{type:"PRICE_MULTIPLIER",value:-.0328}},{id:"pepe_whales_dumping",text:"Reddit thread claims PEPE whales are dumping",coinSymbol:"PEPE",effectDescription:"\xbb PEPE drops 15.43%",trueEffect:{type:"PRICE_MULTIPLIER",value:-.1543}},{id:"ltc_gaming_integration",text:"Leaked beta shows LTC integration with gaming platform",coinSymbol:"LTC",effectDescription:"\xbb LTC rises 10.87%",trueEffect:{type:"PRICE_MULTIPLIER",value:.1087}},{id:"xrp_new_exchange",text:"XRP about to be listed on new global exchange",coinSymbol:"XRP",effectDescription:"\xbb XRP spikes 12.34%",trueEffect:{type:"PRICE_MULTIPLIER",value:.1234},falseEffect:{type:"PRICE_MULTIPLIER",value:-.0517}},{id:"btc_mining_expansion",text:"Post hints at secretive BTC mining facility expansion",coinSymbol:"BTC",effectDescription:"\xbb BTC climbs 8.29%",trueEffect:{type:"PRICE_MULTIPLIER",value:.0829}},{id:"eth_critical_bug",text:"Anonymous source claims ETH devs discovered critical bug",coinSymbol:"ETH",effectDescription:"\xbb ETH drops 10.78%",trueEffect:{type:"PRICE_MULTIPLIER",value:-.1078}},{id:"pepe_dev_wallet",text:"Screenshot of alleged PEPE dev wallet movement",coinSymbol:"PEPE",effectDescription:"\xbb PEPE crashes 15.92%",trueEffect:{type:"PRICE_MULTIPLIER",value:-.1592}},{id:"ltc_whale_reactivation",text:"LTC whale wallet reactivates after 5 years",coinSymbol:"LTC",effectDescription:"\xbb LTC spikes 10.53%",trueEffect:{type:"PRICE_MULTIPLIER",value:.1053},falseEffect:{type:"PRICE_MULTIPLIER",value:-.0347}},{id:"sol_clone_project",text:"New SOL clone project gains traction",coinSymbol:"SOL",effectDescription:"\xbb SOL drops 8.42% from competition fear",trueEffect:{type:"PRICE_MULTIPLIER",value:-.0842}},{id:"btc_privacy_features",text:"Leaked roadmap shows BTC to integrate privacy features",coinSymbol:"BTC",effectDescription:"\xbb BTC spikes 7.63%",trueEffect:{type:"PRICE_MULTIPLIER",value:.0763},falseEffect:{type:"PRICE_MULTIPLIER",value:0}},{id:"eth_governance_conflict",text:"Former ETH dev reveals internal conflict on governance call",coinSymbol:"ETH",effectDescription:"\xbb ETH dips 6.28%",trueEffect:{type:"PRICE_MULTIPLIER",value:-.0628}},{id:"usdc_whale_accumulation",text:"Whale addresses accumulate USDC ahead of market dip",coinSymbol:"ALL",effectDescription:"\xbb All coins drop 8.37%",trueEffect:{type:"PRICE_MULTIPLIER",value:-.0837}},{id:"pepe_exchange_listing",text:"Anonymous post claims PEPE team planning centralized exchange listing",coinSymbol:"PEPE",effectDescription:"\xbb PEPE surges 18.74%",trueEffect:{type:"PRICE_MULTIPLIER",value:.1874},falseEffect:{type:"PRICE_MULTIPLIER",value:-.0532}},{id:"xrp_sec_again",text:"SEC targeting XRP again circulates",coinSymbol:"XRP",effectDescription:"\xbb XRP drops 12.67%",trueEffect:{type:"PRICE_MULTIPLIER",value:-.1267},falseEffect:{type:"PRICE_MULTIPLIER",value:.0423}},{id:"btc_nation_adoption",text:"Leaked document reveals major nation adopting BTC as legal tender",coinSymbol:"BTC",effectDescription:"\xbb BTC skyrockets 42.75%",trueEffect:{type:"PRICE_MULTIPLIER",value:.4275},falseEffect:{type:"PRICE_MULTIPLIER",value:-.1853}},{id:"global_crypto_ban",text:"G20 draft proposal for coordinated crypto regulation leaked",coinSymbol:"ALL",effectDescription:"\xbb All coins crash 37.89%",trueEffect:{type:"PRICE_MULTIPLIER",value:-.3789},falseEffect:{type:"PRICE_MULTIPLIER",value:.1247}},{id:"eth_breakthrough",text:"ETH dev claims 1000x scaling breakthrough on private testnet",coinSymbol:"ETH",effectDescription:"\xbb ETH explodes 53.42%",trueEffect:{type:"PRICE_MULTIPLIER",value:.5342},falseEffect:{type:"PRICE_MULTIPLIER",value:-.2175}},{id:"pepe_celebrity_endorsement",text:"A-list celebrity rumored to launch PEPE-themed NFT collection",coinSymbol:"PEPE",effectDescription:"\xbb PEPE moons 68.97%",trueEffect:{type:"PRICE_MULTIPLIER",value:.6897},falseEffect:{type:"PRICE_MULTIPLIER",value:-.3245}},{id:"exchange_hack",text:"Major exchange reportedly suffering security breach",coinSymbol:"ALL",effectDescription:"\xbb All coins plummet 45.63%",trueEffect:{type:"PRICE_MULTIPLIER",value:-.4563}}],B=["AGI Bot","Exploit Module","Signal Jammer","Stealth Rig","Logic Bomb","Zero-Day Exploit","Malware Core","Shadow Thread","Ghost Injector","Root Spike","Kernel Blade","Trace Eater","Backtrace Loop","Payload Brick","Cloak Circuit","Synth Worm","Redact Node","Obfuscator","Fusepoint Kit","Sandstorm Patch","Phantom Port","Static Latch","Blind Key","Drift Net","Voltage Tap","Data Spike","Pulse Shard","Siphon Thread","Null Kit","Proxy Mask","Crypt Worm","Ledger Splitter","Block Snare","Hash Breaker","Chain Forker","Timestamp Eater","Merkle Needle","Consensus Spike","Fork Bomb","Ledger Phantom","Block Drift","Chain Injector","Gaslight Relay","Miner's Key","Node Diverter","Validator Tap","Immutable Worm","Sidechain Leech","Hash Cracker","Block Rewriter"];class W{getRandomTitle(){0===this.availableTitles.length&&this.resetUsedTitles();let e=Math.floor(Math.random()*this.availableTitles.length);return this.availableTitles.splice(e,1)[0]}resetUsedTitles(){this.availableTitles=[...this.allTitles]}constructor(e){this.allTitles=[...e],this.availableTitles=[...e]}}let G=new W(["HAX ALERT","INBOUND HAX","HAX INCOMING","HAX WARNING","THREAT ANALYZED","HAX IDENTIFIED","UNAUTHORIZED CODE","SYSTEM BREACH","INTRUSION DETECTED","THREAT FLAGGED","CODE ANOMALY","BREACHED","WALLET COMPROMISED","NETWORK BREACH","ACCESS VIOLATION","FIREWALL BYPASSED","SIGNAL COMPROMISED"]),V=(0,n.createContext)(void 0);function K(e){let{children:t}=e,[l,r]=(0,n.useState)(()=>()=>{});return(0,i.jsx)(V.Provider,{value:{generateNewCoinValues:l},children:t})}let X=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,j={initialUSDC:0,initialDebt:0,dailyInterestRate:.02,maxDays:30},z=["EXIT","GIVE UP","FAIL","LOSE","DIE","QUIT","END IT"];function J(e){let{setUseToolFn:t,setApplyCoinLossFn:l}=e,a=(0,n.useRef)(null),E=(0,n.useRef)(null),f=(0,n.useRef)([]),S=(0,n.useRef)(!1),p=(0,n.useRef)("startScreen"),m=(0,n.useRef)([]);(0,n.useEffect)(()=>{{let e=localStorage.getItem("cryptoWars_usedExitTexts");e&&(m.current=JSON.parse(e))}},[]);let[L,W]=(0,n.useState)("QUIT"),[K,J]=(0,n.useState)(!1),[q,Z]=(0,n.useState)(null),$=(0,n.useCallback)(e=>(f.current.push(e),()=>{f.current=f.current.filter(t=>t!==e)}),[]),{setThreat:Q,clearThreat:ee,showingThreat:et,currentThreat:el,rewardDialog:ei,showRewardDialog:en,dismissRewardDialog:er}=d(),{currentDay:ea,currentDate:eo,holdings:es,debt:ec,interest:eu,getFormattedPrice:eE,getPrice:ef,getPurchaseAmount:ed,advanceDay:eT,takeLoan:eh,takeMaxLoan:eS,repayDebt:ep,repayAllDebt:em,purchaseCoin:eI,purchaseMaxCoin:eR,sellCoin:eO,sellAllCoin:eC,toggleCoinDisplay:eL,getPercentageChange:ey,getSpread:eA,displayMode:eg,getTotalFees:eN,feeType:eD,resetFeeType:eb,currentEvent:eP,activeEvents:ex,clearCurrentEvent:ev,showingEvent:eU,setShowingEvent:eM,nextDayEvent:eH,showingNextDayEvent:ew,dismissNextDayEventPreview:eY,currentButtonText:ek,isShopOpen:eF,setIsShopOpen:e_,isWarOpen:eB,setIsWarOpen:eW,ownedShopItems:eG,buyShopItem:eV,sellShopItem:eK,tools:eX,updateHoldings:ej,addTool:ez,itemPurchaseDays:eJ,activeIntel:eq,clearIntel:eZ,markIntelAsViewed:e$,resolveIntel:eQ,resolvedIntelResult:e0,setResolvedIntelResult:e1,shopPaymentMethod:e2,setShopPaymentMethod:e8,isPaymentDropdownOpen:e3,setIsPaymentDropdownOpen:e5,getCreditLimit:e4,currentShopHax:e9,currentHaxName:e6,coinPrices:e7,updateCoinPrices:te,updatePrices:tt,updateSpecificCoinPrices:tl,isAnimating:ti,storePrices:tn,useTool:tr,applyCoinLoss:ta,spendHaxKeys:to,isGameOver:ts}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,{initialUSDC:l=0,initialDebt:i=0,maxDays:r=30}=e,{formatPriceWithKM:a}=o(),s=(null==t?void 0:t.setThreat)||(()=>{}),c=function(){let{setThreat:e,clearThreat:t}=d(),{calculateHeatLevel:l}=(0,h.a)(),i=function(){let e=(0,n.useContext)(V);if(!e)throw Error("useWarRenderer must be used within a WarRendererProvider");return e}(),[r,a]=(0,n.useState)(1),[o,s]=(0,n.useState)(0),[c,u]=(0,n.useState)(0),E=(0,n.useCallback)(e=>{let t=G.getRandomTitle(),l=["low","medium","high","critical"],i=(null==e?void 0:e.severity)||l[Math.floor(Math.random()*l.length)],n=null==e?void 0:e.content;return n||(n="\uD83D\uDEA8 Threat level: ".concat(i.toUpperCase()," \uD83D\uDEA8")),{title:t,content:n,severity:i}},[]),f=(0,n.useCallback)(t=>{let i=(null==t?void 0:t.day)||1,n=l(i,(null==t?void 0:t.maxDays)||30);if((null==t?void 0:t.forceShow)||100*Math.random()<n){let l=null==t?void 0:t.severity;l||(l=n>75?"critical":n>50?"high":n>25?"medium":"low");let r=E({severity:l,content:null==t?void 0:t.content,day:i});return e(r),r}return null},[E,e,l]);return(0,n.useCallback)(()=>{t()},[t]),(0,n.useCallback)(e=>{console.log("Threat response: ".concat(e)),t()},[t]),(0,n.useCallback)((e,t)=>(console.log("Launching hack: ".concat(t," against ").concat(e)),!1),[]),{showThreat:f,generateNewCoinValues:null==i?void 0:i.generateNewCoinValues}}(),[u,E]=(0,n.useState)(!1),[f,S]=(0,n.useState)({}),[p,m]=(0,n.useState)("USDC"),[I,R]=(0,n.useState)(!1),[C,L]=(0,n.useState)({}),[W,K]=(0,n.useState)(0),[X,j]=(0,n.useState)(null),[z,J]=(0,n.useState)([]),[q,Z]=(0,n.useState)({}),[$,Q]=(0,n.useState)(null),[ee,et]=(0,n.useState)(!1),{tools:el,addTool:ei,getToolCount:en,resetTools:er,useTool:ea}=T(),{holdings:eo,getPurchaseAmount:es,updateHoldings:ec}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{initialUSDC:t=0}=e,[l,i]=(0,n.useState)([{symbol:"USDC",amount:t},{symbol:"BTC",amount:0},{symbol:"ETH",amount:0},{symbol:"SOL",amount:0},{symbol:"LTC",amount:0},{symbol:"XRP",amount:0},{symbol:"PEPE",amount:0}]),r=(0,n.useCallback)(function(e){let t;switch(arguments.length>1&&void 0!==arguments[1]&&arguments[1],e){case"PEPE":t=1e3;break;case"XRP":t=1;break;case"LTC":case"SOL":t=.1;break;default:t=.01}return t},[]),a=(0,n.useCallback)((e,t,l)=>{if(t<=0||l<=0)return 0;let i=r(e,1),n=Math.floor(l/(t*i));return i*n},[r]),o=(0,n.useCallback)((e,t)=>{i(l=>l.map(l=>l.symbol===e?{...l,amount:Number((l.amount+t).toFixed(8))}:l))},[]);return{holdings:l,setHoldings:i,getPurchaseAmount:r,updateHoldings:o,getMaxAffordableAmount:a}}({initialUSDC:l}),[eu,eE]=(0,n.useState)(1),{coinPrices:ef,updatePrices:ed,updateSpecificCoinPrices:eT,getFormattedPrice:eh,getPrice:eS,setDirectCoinPrices:ep}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{formatPrice:i}=o(),[r,a]=(0,n.useState)(()=>Object.entries(M).map(e=>{let[t,l]=e;if("USDC"===t)return{symbol:t,price:1,range:l};let i=Math.max(.05,Math.min(9,1/Math.pow(10,Math.floor(Math.log10(l.min))+1))),n=l.min*(Math.random()*i);return{symbol:t,price:l.min+n,range:l}})),s=(0,n.useCallback)(()=>{a(i=>{let n=P(l,i);[...i];let r=e/t,a=i.findIndex(e=>"BTC"===e.symbol),o=i[a],s=n.BTC||0,{decreaseChance:c}=y(r);x(s);let u=v(s),E=g(o,r,c)+A(o,r,t);E=U(o,E,u);let f=D(o,E),d=b(o.price,f,"BTC"),T=N(E);return i.map(e=>{if("USDC"===e.symbol)return e;if("BTC"===e.symbol)return{...e,price:d};let l=n[e.symbol]||0;x(l);let i=v(l),a=g(e,r,c),o=A(e,r,t),s=a+("BTC"!==e.symbol?H(E,T):0)+o;s=U(e,s,i);let u=D(e,s),f=b(e.price,u,e.symbol);return{...e,price:f}})})},[e,t,l]),c=(0,n.useCallback)(function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];[...r],a(n=>{let r=P(l,n),a=e/t,o=[...n],s=0,c=0;if(!i.includes("BTC")){let e=o.findIndex(e=>"BTC"===e.symbol),l=o[e],i=r.BTC||0,{decreaseChance:n}=y(a);x(i);let u=v(i);s=g(l,a,n)+A(l,a,t),s=U(l,s,u);let E=D(l,s),f=b(l.price,E,"BTC");o[e]={...l,price:f},c=N(s)}for(let e=0;e<o.length;e++){let l=o[e];if("USDC"===l.symbol||"BTC"===l.symbol||i.includes(l.symbol))continue;let n=r[l.symbol]||0;x(n);let u=v(n),{decreaseChance:E}=y(a),f=g(l,a,E),d=A(l,a,t),T=f+(0!==s?H(s,c):0)+d;T=U(l,T,u);let h=D(l,T),S=b(l.price,h,l.symbol);o[e]={...l,price:S}}return o})},[r,e,t,l]),u=(0,n.useCallback)(e=>{let t=r.find(t=>t.symbol===e);return t?i(t.price):""},[r,i]),E=(0,n.useCallback)(e=>{let t=r.find(t=>t.symbol===e);return t?t.price:0},[r]);return{coinPrices:r,updatePrices:s,updateSpecificCoinPrices:c,getFormattedPrice:u,getPrice:E,setDirectCoinPrices:(0,n.useCallback)(e=>{a(e)},[])}}(eu,r,eo),em=(0,n.useCallback)(e=>{ep&&ep(e)},[ep]),eI=function(e){let{holdings:t}=e,[l,i]=(0,n.useState)({}),[r,a]=(0,n.useState)({}),[o,s]=(0,n.useState)({}),[c,u]=(0,n.useState)({}),[E,f]=(0,n.useState)({}),[d,T]=(0,n.useState)(0),[h,S]=(0,n.useState)(0),[p,m]=(0,n.useState)(""),[I,R]=(0,n.useState)(!1),[O,C]=(0,n.useState)(0),L=(0,n.useCallback)(e=>{let t=Y[e];return t?t.min+Math.random()*(t.max-t.min):0},[]),y=(0,n.useCallback)(()=>{let e={};k.forEach(t=>{e[t]=L(t)}),a(e)},[L]);(0,n.useCallback)(()=>{0===Object.keys(r).length&&y()},[r,y])();let A=(0,n.useCallback)((e,t)=>{if("USDC"===e)return 0;if(!c[e]){s(l=>({...l,[e]:t}));let l=r[e]||0;return i(t=>({...t,[e]:l})),u(t=>({...t,[e]:!0})),l}return 0},[c,r]),g=(0,n.useCallback)((e,t)=>{if("USDC"===e)return 0;if(!E[e]&&!c[e]&&t>0){let t=r[e]||0;return i(l=>({...l,[e]:t})),f(t=>({...t,[e]:!0})),t}return 0},[E,c,r]),N=(0,n.useCallback)((e,t)=>{"USDC"!==e&&t<=(o[e]||0)&&c[e]&&(i(t=>{let l={...t};return delete l[e],l}),u(t=>{let l={...t};return delete l[e],l}))},[c,o]),D=(0,n.useCallback)(()=>{i({}),s({}),u({}),f({}),y()},[y]),b=(0,n.useCallback)(()=>Object.values(l).reduce((e,t)=>e+t,0),[l]),P=(0,n.useCallback)(()=>d+h+b(),[d,h,b]),x=(0,n.useCallback)(()=>{m("")},[]),v=(0,n.useCallback)(e=>{switch(e){case"ETH":case"PEPE":return"GAS";case"BTC":return"MINER";case"SOL":return"COMPUTE";case"LTC":return"NETWORK";case"XRP":return"BASE";default:return"TRADING"}},[]),U=(0,n.useCallback)(e=>I?(x(),!1):(T(1.5),R(!0),C(e),m("TRANSACTION"),!0),[I,x]),M=(0,n.useCallback)(e=>e<=O&&!!I&&(T(0),R(!1),x(),!0),[O,I,x]),H=(0,n.useCallback)(()=>{d>0&&(S(e=>e+d),T(0));let e=b();return e>0&&S(t=>t+e),R(!1),D(),x(),h+d+e},[d,b,h,D,x]);return{feeType:p,dailyFee:d,permanentFees:h,coinFees:l,recordPurchaseFee:A,recordSellFee:g,checkSale:N,resetFees:D,getTotalFees:b,getTotalGameFees:P,resetFeeType:x,setFeeType:m,getFeeTypeForCoin:v,addCreditCardFee:U,checkDebtPaidOff:M,hasTakenLoanToday:I,setDailyFee:T,setHasTakenLoanToday:R,initialDebtToday:O,processEndOfDayFees:H}}({holdings:eo}),{feeType:eR,dailyFee:eO,permanentFees:eC,coinFees:eL,setDailyFee:ey,hasTakenLoanToday:eA,setHasTakenLoanToday:eg,recordPurchaseFee:eN,recordSellFee:eD,checkSale:eb,resetFees:eP,getTotalFees:ex,getTotalGameFees:ev,resetFeeType:eU,setFeeType:eM,getFeeTypeForCoin:eH,addCreditCardFee:ew,checkDebtPaidOff:eY,processEndOfDayFees:ek}=eI,{currentButtonText:eF,getNextButtonText:e_}=function(){let[e,t]=(0,n.useState)(new Set(["SLEEP"])),[l,i]=(0,n.useState)("SLEEP"),[r,a]=(0,n.useState)(!0);return{currentButtonText:l,getNextButtonText:(0,n.useCallback)(()=>{let l=w.filter(t=>(!r||"SLEEP"!==t)&&!e.has(t));if(0===l.length){t(new Set),a(!1);let e=[...w],l=Math.floor(Math.random()*e.length),n=e[l];return t(new Set([n])),i(n),n}let n=Math.floor(Math.random()*l.length),o=l[n];return t(e=>new Set([...e,o])),i(o),o},[e,r])}}(),eB=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{initialDay:t=1,feeManager:l}=e,{formatPercentageWithOptions:i}=o(),[r,a]=(0,n.useState)([]),[s,c]=(0,n.useState)([]),[u,E]=(0,n.useState)(null),[f,d]=(0,n.useState)(!1),[T,h]=(0,n.useState)(new Set);(0,n.useEffect)(()=>{1===t&&h(new Set)},[t]);let S=(0,n.useCallback)((e,t)=>{switch(e.type){case"MIN_DAY":return t.currentDay>=e.value;case"MAX_DAY":return t.currentDay<=e.value;case"HAS_COIN":let l=t.holdings.find(t=>t.symbol===e.coinSymbol);return l&&l.amount>=(e.minAmount||0);case"MIN_PORTFOLIO_VALUE":return t.holdings.reduce((e,l)=>{if("USDC"===l.symbol)return e+l.amount;{let i=t.getPrice(l.symbol);return e+l.amount*i}},0)>=e.value;case"CUSTOM":return!e.callback||e.callback(t);default:return!0}},[]),p=(0,n.useCallback)(e=>{if(0===e.length)return null;let t=Math.random()*e.reduce((e,t)=>e+1/(t.rarity||1),0);for(let l of e){let e=1/(l.rarity||1);if(t<=e)return l;t-=e}return e[Math.floor(Math.random()*e.length)]},[]),m=(0,n.useCallback)((e,t,l)=>{let n=i(Math.abs(l)/100,{decimals:0,addSign:!1,addPercentSign:!1,approximateSymbol:!0}),r=[RegExp("\\b".concat(Math.abs(t).toFixed(0),"%"),"g"),RegExp("\\b".concat(Math.abs(t).toFixed(0)," percent\\b"),"gi"),RegExp("\\b\\d+\\s*to\\s*".concat(Math.abs(t).toFixed(0),"%"),"g"),RegExp("\\b\\d+\\s*-\\s*".concat(Math.abs(t).toFixed(0),"%"),"g"),RegExp("by\\s+".concat(Math.abs(t).toFixed(0),"%"),"gi"),RegExp("by\\s+".concat(Math.abs(t).toFixed(0),"\\s+percent"),"gi")],a=e;for(let e of r)if(e.test(a)){a=e.toString().includes("to")||e.toString().includes("-")||e.toString().includes("by")?a.replace(e,"by ".concat(n,"%")):a.replace(e,"".concat(n,"%"));break}if(a===e&&Math.abs(t-l)>.1){let t=/\b\d+(\.\d+)?%/g,l=e.match(t);l&&l.length>0&&(a=e.replace(t,"".concat(n,"%")))}return a},[i]),I=(0,n.useCallback)((e,t)=>{if(e<2||(1===e&&h(new Set),r.some(t=>t.effects.some(l=>(t.startDay||1)+(l.duration||1)>e))||Math.random()>.8))return null;let l=F.filter(e=>!T.has(e.id)&&(!e.conditions||e.conditions.every(e=>S(e,t))));if(0===l.length)return null;let i=l.filter(e=>{let l=!0;for(let i of e.effects)if("PRICE_MULTIPLIER"===i.type||"PRICE_CHANGE"===i.type){if("ALL"===i.coinSymbol)for(let e of t.coinPrices){let t;if("USDC"===e.symbol)continue;let n=e.price;if((t="PRICE_MULTIPLIER"===i.type?n*(1+(i.value||0)):n+(i.value||0))>e.range.max||t<e.range.min){l=!1;break}}else if(i.coinSymbol){let e=t.coinPrices.find(e=>e.symbol===i.coinSymbol);if(e){let t,n=e.price;if((t="PRICE_MULTIPLIER"===i.type?n*(1+(i.value||0)):n+(i.value||0))>e.range.max||t<e.range.min){l=!1;break}}}}return l});if(0===i.length)return null;let n=p(i);if(n){let t={...n,startDay:e};return h(e=>new Set([...e,n.id])),E(t),d(!0),c(l=>[...l,{day:e,event:t}]),n.effects.some(e=>(e.duration||1)>1)&&a(e=>[...e,t]),t}return n},[S,p,r,T]),R=(0,n.useCallback)((e,t)=>{let l=JSON.parse(JSON.stringify(e)),i=!1;e.effects.forEach(e=>{switch(e.type){case"PRICE_CHANGE":if("ALL"===e.coinSymbol){let n=0,r=0,a=!1;if(t.coinPrices.forEach(t=>{if("USDC"!==t.symbol){r++;let l=t.price,i=l+(e.value||0),o=l>=t.range.max,s=l<=t.range.min;if(o&&e.value>0||s&&e.value<0);else{let e=Math.max(Math.min(i,t.range.max),t.range.min);n+=Math.abs((e-l)/l*100),t.price=e,a=a||Math.abs(e/l-1)>.001}}}),a){let a=r>0?n/r:0,o=100*Math.abs((e.value||0)/t.coinPrices[0].price);l.description=m(l.description,o,a),i=!0}else l.description=l.description.replace(/(increases|decreases|rises|drops|falls|changes|adjusts)/i,"attempts to change but remains stable"),i=!0}else if(e.coinSymbol){let n=t.coinPrices.find(t=>t.symbol===e.coinSymbol);if(n){let t=n.price,r=t+(e.value||0),a=t>=n.range.max,o=t<=n.range.min;if(a&&e.value>0||o&&e.value<0)l.description=l.description.replace(RegExp("".concat(e.coinSymbol,"\\s+(increases|decreases|rises|drops|falls|changes|adjusts)"),"i"),"".concat(e.coinSymbol," attempts to change but remains stable")),i=!0;else{let a=Math.max(Math.min(r,n.range.max),n.range.min),o=e.value/t*100;l.description=m(l.description,o,(a-t)/t*100),i=!0,n.price=a}}}break;case"PRICE_MULTIPLIER":if("ALL"===e.coinSymbol){let n=0,r=0,a=!1;if(t.coinPrices.forEach(t=>{if("USDC"!==t.symbol){r++;let l=t.price,i=l*(1+(e.value||0)),o=l>=t.range.max,s=l<=t.range.min;if(o&&e.value>0||s&&e.value<0);else{let e=Math.max(Math.min(i,t.range.max),t.range.min);n+=Math.abs((e/l-1)*100),t.price=e,a=a||Math.abs(e/l-1)>.001}}}),a){let t=r>0?n/r:0,a=Math.abs(100*(e.value||0));l.description=m(l.description,a,t),i=!0}else l.description=l.description.replace(/(increases|decreases|rises|drops|falls|changes|adjusts)/i,"attempts to change but remains stable"),i=!0}else if(e.coinSymbol){let n=t.coinPrices.find(t=>t.symbol===e.coinSymbol);if(n){let t=n.price,r=t*(1+(e.value||0)),a=t>=.999*n.range.max,o=t<=1.001*n.range.min;if(a&&e.value>0||o&&e.value<0)l.description=l.description.replace(RegExp("".concat(e.coinSymbol,"\\s+(increases|decreases|rises|drops|falls|changes|adjusts)"),"i"),"".concat(e.coinSymbol," attempts to change but remains stable")),i=!0;else{let a=Math.max(Math.min(r,n.range.max),n.range.min),o=100*(e.value||0);l.description=m(l.description,Math.abs(o),Math.abs((a/t-1)*100)),i=!0,n.price=a}}}break;case"ADD_COIN":e.coinSymbol&&e.value&&t.updateHoldings(e.coinSymbol,e.value);break;case"ADD_USDC":e.value&&t.updateHoldings("USDC",e.value);break;case"GRANT_TOOL":e.toolType&&t.addTool&&t.addTool(e.toolType,e.value||1);break;case"FREE_TRADING":e.coinSymbol&&t.setFreeTrading&&t.setFreeTrading(e.coinSymbol,!0);break;case"REVEAL_NEWS":t.revealNextEvent&&t.revealNextEvent();break;case"CUSTOM":e.callback&&e.callback(t);break;case"ADD_DEBT":e.value&&e.value>0&&(t.addDebt?t.addDebt(e.value):t.takeLoan&&t.takeLoan(e.value/1e3))}}),i&&E(l),t.updateCoinPrices&&t.updateCoinPrices([...t.coinPrices])},[m]),O=(0,n.useCallback)((e,t)=>{1===e&&h(new Set);let l=!1,i=[...r].filter(t=>t.effects.some(l=>(t.startDay||1)+(l.duration||1)>e));i.forEach(i=>{i.effects.forEach(n=>{let r=i.startDay||1;if(r+(n.duration||1)>e&&(n.ongoingEffect||n.ongoingCallback))switch(n.type){case"PRICE_MULTIPLIER":case"PRICE_CHANGE":case"CUSTOM":n.ongoingCallback&&(n.ongoingCallback(t,e-r),l=!0);break;case"FREE_TRADING":n.coinSymbol&&t.setFreeTrading&&t.setFreeTrading(n.coinSymbol,!0)}})}),a(i),l&&t.updateCoinPrices&&t.updateCoinPrices([...t.coinPrices])},[r]),C=(0,n.useCallback)((e,t)=>{let l=[];1===e&&h(new Set),O(e,t);let i=I(e,t);return i&&(R(i,t),i.effects&&i.effects.forEach(e=>{("PRICE_CHANGE"===e.type||"PRICE_MULTIPLIER"===e.type)&&("ALL"===e.coinSymbol?t.coinPrices.forEach(e=>{"USDC"===e.symbol||l.includes(e.symbol)||l.push(e.symbol)}):e.coinSymbol&&!l.includes(e.coinSymbol)&&l.push(e.coinSymbol))})),{event:i,affectedCoins:l}},[O,I,R]),L=(0,n.useCallback)(e=>s.filter(t=>t.day===e),[s]),y=(0,n.useCallback)(()=>{h(new Set)},[]),A=(0,n.useCallback)(()=>{E(null),d(!1)},[]);return{currentEvent:u,activeEvents:r,eventHistory:s,showingEvent:f,setShowingEvent:d,checkForEvent:I,applyEventEffects:R,processActiveEvents:O,clearCurrentEvent:A,getEventsForDay:L,resetUsedEvents:y,processEventsForNewDay:C,setCurrentEvent:E}}({initialDay:1,feeManager:eI}),{currentDate:eW,previousPrices:eG,displayMode:eV,advanceDay:eK,storePrices:eX,toggleCoinDisplay:ej,advanceDayInternal:ez,isGameOver:eJ}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{maxDays:t=30,feeManager:l,eventManager:i,priceManager:r,debtManager:a,sleepButtonManager:o}=e,[s,c]=(0,n.useState)(1),[u,E]=(0,n.useState)("JUNE 1, 2029"),[f,d]=(0,n.useState)({}),[T,h]=(0,n.useState)(!1),[S,p]=(0,n.useState)(()=>{{let e=localStorage.getItem("walletWars_displayMode");return e?Number.parseInt(e,10):0}});(0,n.useEffect)(()=>{localStorage.setItem("walletWars_displayMode",S.toString())},[S]),(0,n.useEffect)(()=>{1===s&&(p(0),localStorage.setItem("cryptoWars_displayMode","0"))},[s]);let m=(0,n.useCallback)(e=>{let t=new Date(2029,5,1),l=new Date(t);l.setDate(t.getDate()+e-1);let i=l.toLocaleString("en-US",{month:"long"}).toUpperCase(),n=l.getDate(),r=l.getFullYear();return"".concat(i," ").concat(n,", ").concat(r)},[]),I=(0,n.useCallback)(()=>{if(s>=t)return void h(!0);let e=s+1;c(e),E(m(e))},[s,t,m]),R=(0,n.useCallback)(e=>{let{checkAnimating:n,storePrices:r,coinPrices:c,updateCoinPrices:u,updatePrices:E,updateSpecificCoinPrices:f,hadActiveIntel:d=!1,intelAffectedCoins:T=[],holdings:S=[],addDebt:p}=e;if(n&&n())return!1;if(s>=t)return h(!0),!0;let m=s+1;l&&l.processEndOfDayFees&&l.processEndOfDayFees();let R={currentDay:m,holdings:e.holdings,getPrice:e.getPrice,coinPrices:c,updateCoinPrices:u,updateHoldings:e.updateHoldings,addTool:e.addTool,setFreeTrading:e.setFreeTrading,setDiscountedPurchase:e.setDiscountedPurchase,setInsiderInfo:e.setInsiderInfo,setFreeTradesCount:e.setFreeTradesCount,addDebt:p},O=[...T];if(i&&i.processEventsForNewDay&&!d){let e=i.processEventsForNewDay(m,R);e&&e.affectedCoins&&(O=[...O,...e.affectedCoins])}return I(),a&&a.applyDailyInterest&&a.applyDailyInterest(),O.length>0?f(O):E(),o&&o.getNextButtonText&&o.getNextButtonText(),!0},[s,t,I,l,a,i,o]);return{currentDay:s,currentDate:u,previousPrices:f,displayMode:S,isGameOver:T,advanceDay:R,advanceDayInternal:I,storePrices:(0,n.useCallback)(e=>{d(e)},[]),toggleCoinDisplay:(0,n.useCallback)(()=>{p(e=>(e+1)%4)},[])}}({maxDays:r,feeManager:eI,eventManager:eB,debtManager:{applyDailyInterest:()=>{}},sleepButtonManager:{getNextButtonText:e_}}),{recordPurchase:eq,recordSale:eZ,getSpread:e$,resetPurchases:eQ}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,{formatPriceWithKM:t,parseFormattedNumber:l}=o(),[i,r]=(0,n.useState)({});(0,n.useEffect)(()=>{try{let e=localStorage.getItem("walletWars_purchases");e&&r(JSON.parse(e))}catch(e){console.error("Error loading purchases from localStorage:",e)}},[]),(0,n.useEffect)(()=>{try{localStorage.setItem("walletWars_purchases",JSON.stringify(i))}catch(e){console.error("Error saving purchases to localStorage:",e)}},[i]);let a=(0,n.useCallback)(()=>{r({})},[]);(0,n.useEffect)(()=>{1===e&&a()},[e,a]);let s=(0,n.useCallback)((e,t,l)=>{r(i=>({...i,[e]:[...i[e]||[],{symbol:e,quantity:t,price:l,timestamp:Date.now()}]}))},[]),c=(0,n.useCallback)((e,t)=>{r(l=>{let i=[...l[e]||[]];if(0===i.length)return l;let n=t,r=[];for(let e of i)if(n<=0)r.push(e);else if(e.quantity<=n)n-=e.quantity;else{let t={...e,quantity:e.quantity-n};n=0,r.push(t)}if(0>=r.reduce((e,t)=>e+t.quantity,0)){let t={...l};return delete t[e],t}return{...l,[e]:r}})},[]),u=(0,n.useCallback)(e=>{let t=i[e]||[];if(0===t.length)return 0;let l=0,n=0;for(let e of t)l+=e.quantity*e.price,n+=e.quantity;return n>0?l/n:0},[i]),E=(0,n.useCallback)((l,i)=>{let n=u(l);return 0===n||1===e?{value:"0.00",isPositive:!0}:{value:t(2*Math.abs(i-(.9975*n+1.0025*n)/2),l),isPositive:i>n}},[u,e,t]),f=(0,n.useCallback)(e=>(i[e]||[]).reduce((e,t)=>e+t.quantity,0),[i]);return{purchases:i,recordPurchase:s,recordSale:c,getAveragePurchasePrice:u,getSpread:E,resetPurchases:a,getTotalQuantity:f}}(eu),{debt:e0,interest:e1,addDebt:e2,repayDebt:e8,repayInterest:e3,applyDailyInterest:e5,getCurrentDebt:e4,getCurrentInterest:e9,getTotalOwed:e6}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{initialDebt:t=0,initialInterest:l=0}=e,[i,r]=(0,n.useState)(t),[a,o]=(0,n.useState)(l),s=(0,n.useCallback)(e=>{r(t=>t+e)},[i]),c=(0,n.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=p()-i;return t>0&&(s(Math.min(e/10*500,t)),!0)},[i,s]),u=(0,n.useCallback)(e=>{r(t=>Math.max(0,t-e))},[i]),E=(0,n.useCallback)(e=>{o(t=>t+e)},[]),f=(0,n.useCallback)(e=>{o(t=>Math.max(0,t-e))},[]),d=(0,n.useCallback)(()=>{let e=i+a;if(e>0){let t=.02*e;return o(e=>e+t),t}return 0},[i,a]),T=(0,n.useCallback)(()=>i,[i]),h=(0,n.useCallback)(()=>a,[a]),S=(0,n.useCallback)(()=>i+a,[i,a]),p=(0,n.useCallback)(()=>1e3,[]);return{debt:i,interest:a,addDebt:s,repayDebt:u,addInterest:E,repayInterest:f,applyDailyInterest:d,getCurrentDebt:T,getCurrentInterest:h,getTotalOwed:S,takeLoan:c}}({initialDebt:i}),{checkAnimating:e7,setAnimating:te}=function(){let e=(0,n.useRef)(!1),t=(0,n.useCallback)(t=>{e.current=t},[]),l=(0,n.useCallback)(()=>e.current,[]);return{isAnimating:e,setAnimating:t,checkAnimating:l}}(),{takeLoan:tt,takeMaxLoan:tl,repayDebt:ti,repayAllDebt:tn,getCreditLimit:tr}=function(e){let{formatPriceWithKM:t}=o(),l=(0,n.useCallback)((e,l,i)=>{let n=e<l;return t(e),t(l),!!n&&(t(l-e),!0)},[t]),{holdings:i,debt:r,interest:a,addDebt:s,repayDebtBase:c,repayInterestBase:u,updateHoldings:E,feeManager:f,currentDay:d=1}=e||{holdings:[],debt:0,interest:0,addDebt:()=>{},repayDebtBase:()=>{},repayInterestBase:()=>{},updateHoldings:()=>{},feeManager:{addCreditCardFee:()=>!1,checkDebtPaidOff:()=>!1,resetFeeType:()=>{}},currentDay:1},{formatCurrency:T,parseFormattedNumber:h}=o(),S=(0,n.useCallback)(()=>O(d),[d]),p=(0,n.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=S()-r;if(t<=0)return!1;let l=Math.min(e/10*500,t);return E("USDC",l),s(l),f.addCreditCardFee(r+l),!0},[E,s,f,r,S]),m=(0,n.useCallback)(()=>{let e=S()-r;if(e<=0)return!1;let t=Math.floor(100*e)/100;return E("USDC",t),s(t),f.addCreditCardFee(r+t),!0},[E,s,f,r,S]);return{takeLoan:p,takeMaxLoan:m,repayDebt:(0,n.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;f.resetFeeType();let t=i.find(e=>"USDC"===e.symbol);if(!t||t.amount<=0)return!1;let l=r+a;if(l<=0)return!1;let n=Math.min(e/10*500,t.amount,l);if(E("USDC",-n),a>0){let e=Math.min(n,a);u(e),n>e&&c(n-e)}else c(n);return f.checkDebtPaidOff(r+a-n),!0},[i,r,a,c,u,E,f]),repayAllDebt:(0,n.useCallback)(()=>{f.resetFeeType();let e=r+a;if(e<=0)return!1;let t=i.find(e=>"USDC"===e.symbol);if(!t)return!1;let l=t.amount;"string"==typeof l&&(l=h(l));let n=Math.min(l,e);if(n<=0)return!1;if(E("USDC",-n),a>0){let e=Math.min(n,a);u(e),n>e&&c(n-e)}else c(n);return f.checkDebtPaidOff(r+a-n),!0},[i,r,a,c,u,E,f,h]),getCreditLimit:S,shouldShowUSDCAddButton:l}}({holdings:eo,debt:e0,interest:e1,addDebt:e2,repayDebtBase:e8,repayInterestBase:e3,updateHoldings:ec,feeManager:eI,currentDay:eu}),ta=(0,n.useCallback)(()=>{eI.resetFeeType(),ej&&ej()},[ej,eI]),to=(0,n.useCallback)((e,t)=>{L(l=>({...l,[e]:t}))},[]),ts=(0,n.useCallback)((e,t,l)=>{j({symbol:e,price:t,count:l})},[]),{purchaseCoin:tc,purchaseMaxCoin:tu,sellCoin:tE,sellAllCoin:tf}=function(e){let{holdings:t,updateHoldings:l,getPrice:i,getPurchaseAmount:r,feeManager:a,freeTrading:s,freeTradesCount:c,setFreeTradesCount:u,discountedPurchases:E,setDiscountedPurchases:f,recordPurchase:d,recordSale:T}=e,{parseFormattedNumber:h}=o(),S=(0,n.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if("USDC"===e)return!1;let o=i(e);if(o<=0)return!1;let T=o;E&&E.symbol===e&&E.count>0&&(T=E.price,f(e=>e?{...e,count:e.count-1}:null));let h=r(e,1)*n/10,S=Number((T*h).toFixed(8)),p=t.find(e=>"USDC"===e.symbol);if(!p||p.amount<=0)return!1;let m=h,I=S;if(p.amount<S&&(I=Number((T*(m=Number((h*(p.amount/S)).toFixed(8)))).toFixed(8)),m<=0))return!1;let R=t.find(t=>t.symbol===e),O=R?R.amount:0,C=s[e]||s.ALL||c>0,L=0;return C?c>0&&u(e=>e-1):L=a.recordPurchaseFee(e,O),L>0?a.setFeeType(a.getFeeTypeForCoin(e)):a.resetFeeType(),l("USDC",-I),l(e,m),d(e,m,T),!0},[i,r,t,l,d,a,s,c,u,E,f]),p=(0,n.useCallback)(e=>{if("USDC"===e)return!1;a.resetFeeType();let n=i(e);if(n<=0)return!1;let o=n;E&&E.symbol===e&&E.count>0&&(o=E.price,f(e=>e?{...e,count:e.count-1}:null));let T=r(e),h=t.find(e=>"USDC"===e.symbol);if(!h||h.amount<=0)return!1;let S=Math.floor(h.amount/(o*T));if(S<=0)return!1;let p=Number((o*T*S).toFixed(8)),m=Number((T*S).toFixed(8)),I=t.find(t=>t.symbol===e),R=I?I.amount:0,O=s[e]||s.ALL||c>0,C=0;return O?c>0&&u(e=>e-1):C=a.recordPurchaseFee(e,R),C>0&&a.setFeeType(a.getFeeTypeForCoin(e)),l("USDC",-p),l(e,m),d(e,m,o),!0},[i,r,t,l,d,a,s,c,u,E,f]);return{purchaseCoin:S,purchaseMaxCoin:p,sellCoin:(0,n.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if("USDC"===e)return!1;let o=i(e);if(o<=0)return!1;let E=r(e,1)*n/10,f=t.find(t=>t.symbol===e);if(!f)return!1;let d=f.amount;"string"==typeof d&&(d=h(d));let S=E;if(d<E)if(!(d>0))return!1;else S=d;let p=Number((o*S).toFixed(8)),m=f.amount,I=s[e]||s.ALL||c>0,R=0;I?c>0&&u(e=>e-1):R=a.recordSellFee(e,m),R>0?a.setFeeType(a.getFeeTypeForCoin(e)):a.resetFeeType(),l(e,-S),l("USDC",p),T(e,S);let O=m-S;return a.checkSale(e,O),!0},[i,r,t,l,T,a,s,c,u,h]),sellAllCoin:(0,n.useCallback)(e=>{if("USDC"===e)return!1;a.resetFeeType();let n=i(e);if(n<=0)return!1;let o=r(e),E=t.find(t=>t.symbol===e);if(!E)return!1;let f=E.amount;if("string"==typeof f&&(f=h(f)),f<=0)return!1;let d=Math.floor(E.amount/o);if(d<=0)return!1;let S=Number((n*o*d).toFixed(8)),p=Number((o*d).toFixed(8)),m=E.amount,I=s[e]||s.ALL||c>0,R=0;return I?c>0&&u(e=>e-1):R=a.recordSellFee(e,m),R>0&&a.setFeeType(a.getFeeTypeForCoin(e)),l(e,-p),l("USDC",S),T(e,p),a.checkSale(e,m-p),!0},[i,r,t,l,T,a,s,c,u,h])}}({holdings:eo,updateHoldings:ec,getPrice:eS,getPurchaseAmount:es,feeManager:eI,freeTrading:C,freeTradesCount:W,setFreeTradesCount:K,discountedPurchases:X,setDiscountedPurchases:j,recordPurchase:eq,recordSale:eZ}),{getPercentageChange:td}=function(e){let{getPrice:t,previousPrices:l}=e,{formatPercentage:i}=o();return{getPercentageChange:(0,n.useCallback)(e=>{let n=t(e),r=l[e];if(!r)return{value:"+0.00%",isPositive:!0};let a=r?(n-r)/r:0,o=a>=0;return{value:5e-5>Math.abs(a)?"+0.00%":i(a,e),isPositive:o}},[t,l,i])}}({getPrice:eS,previousPrices:eG}),tT=(0,n.useCallback)(e=>{let t=eS(e);return e$(e,t)},[eS,e$]),[th,tS]=(0,n.useState)({}),{activeIntel:tp,generateBasicIntel:tm,generatePremiumIntel:tI,clearIntel:tR,resolveIntel:tO,markIntelAsViewed:tC}=function(){let[e,t]=(0,n.useState)(null),l=(0,n.useCallback)(()=>{let e=Math.floor(Math.random()*_.length);return t({type:"rumor",intel:_[e],probability:Math.floor(26*Math.random())+20,viewed:!1}),!0},[]),i=(0,n.useCallback)(()=>{let e=Math.floor(Math.random()*_.length);return t({type:"premium",intel:_[e],probability:Math.floor(36*Math.random())+55,viewed:!1}),!0},[]),r=(0,n.useCallback)(()=>{e&&t({...e,viewed:!0})},[e]),a=(0,n.useCallback)(()=>{t(null)},[]),o=(0,n.useCallback)(()=>{if(!e)return null;let l=100*Math.random()<=e.probability,i={...e,isTrue:l};return t(i),i},[e]);return{activeIntel:e,generateBasicIntel:l,generatePremiumIntel:i,markIntelAsViewed:r,clearIntel:a,resolveIntel:o}}(),{currentShopHax:tL,rotateHaxInventory:ty,recordHaxPurchase:tA,canSellHax:tg,resetHaxPurchase:tN,haxPurchaseDay:tD}=function(e){let[t,l]=(0,n.useState)(new Set),[i,r]=(0,n.useState)("AGI Bot"),[a,o]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=Math.floor(Math.random()*B.length),t=B[e];r(t),l(new Set([t]))},[]);let s=(0,n.useCallback)(()=>{t.size>=B.length-1&&l(new Set);let e=B.filter(e=>!t.has(e));if(0===e.length){let e=Math.floor(Math.random()*B.length);r(B[e]);return}let i=Math.floor(Math.random()*e.length),n=e[i];r(n),l(e=>new Set([...e,n]))},[t]),c=(0,n.useCallback)(e=>{o(e)},[i]);return{currentShopHax:i,rotateHaxInventory:s,recordHaxPurchase:c,canSellHax:(0,n.useCallback)(()=>a===e,[a,e]),resetHaxPurchase:(0,n.useCallback)(()=>{o(null)},[]),haxPurchaseDay:a}}(eu),tb=(0,n.useCallback)((e,t)=>{let l=[],i=[...eo].map(e=>({...e,value:e.amount*eS(e.symbol)})).filter(e=>e.value>0).sort((e,t)=>t.value-e.value);if(0===i.length){let t=tr()-e0;return t>0?(e2(t*e),l.push("CREDIT CARD")):l.push("FUNDS"),l}return i.slice(0,Math.min(t,i.length)).forEach(t=>{let i=t.amount*e;i>0&&(ec(t.symbol,-i),l.push(t.symbol))}),l},[eo,eS,ec,tr,e0,e2]),tP=(0,n.useCallback)((e,t,l)=>{if("CREDIT"===p){if(e0+t>(tr?tr():1e4))return!1;e2(t),Z(l=>({...l,[e]:{method:"CREDIT",amount:t}}))}else{let l=eo.find(e=>e.symbol===p);if(!l)return!1;if("USDC"!==p){let i=eS(p);if(i<=0)return!1;let n=t/i;if(l.amount<n)return!1;ec(p,-n),Z(t=>({...t,[e]:{method:p,amount:n}}))}else{if(l.amount<t)return!1;ec("USDC",-t),Z(l=>({...l,[e]:{method:"USDC",amount:t}}))}}return"basicIntel"===e?(tm(),ei(e,1)):"premiumIntel"===e?(tI(),ei(e,1)):"hax"===e?(ei(e,1),tA(eu)):ei(e,1),tS(t=>({...t,[e]:eu})),!0},[p,eo,e0,tr,e2,ec,eS,tm,tI,ei,eu,tA,tL,Z]),tx=(0,n.useCallback)((e,t)=>{if(!el[e]||el[e]<=0)return!1;let l=["burnerWallet","coldWallet","vpnSubscription","hax"].includes(e),i=["basicIntel","premiumIntel"].includes(e),n=th[e]||0;if(l&&n!==eu||i&&n===eu)return!1;let r=q[e];return r?"CREDIT"===r.method?e8(r.amount):ec(r.method,r.amount):ec("USDC",t),ei(e,-1),"hax"===e&&tN(),tS(t=>{let l={...t};return delete l[e],l}),Z(t=>{let l={...t};return delete l[e],l}),!0},[el,th,eu,q,e8,ec,ei,tN]),tv=(0,n.useCallback)(()=>!!el.hax&&el.hax>0&&(ei("hax",-1),tN(),!0),[el,ei,tN]),tU=(0,n.useCallback)(()=>{let e=["BTC","ETH","SOL","LTC","XRP","PEPE"];return e[Math.floor(Math.random()*e.length)]},[]),tM=(0,n.useCallback)(e=>{switch(e){case 1:return 32e3*Math.random();case 2:return 48e3*Math.random();case 3:return 64e3*Math.random();case 4:return 8e4*Math.random();case 5:return 1e5*Math.random();default:return 0}},[]),tH=(0,n.useCallback)(e=>{if(!el.hax||el.hax<e)return{success:!1};if(ei("hax",-e),c&&c.increaseHeat&&c.increaseHeat(25*e),.6>Math.random())return{success:!0,failed:!0,coin:tU(),amount:0};let t=tU(),l=tM(e),i=l/eS(t);return ec(t,i),console.log("Spent ".concat(e," keys and received ").concat(i," ").concat(t," worth ").concat(l," USDC")),{success:!0,failed:!1,coin:t,amount:i}},[el,ei,tU,tM,eS,ec,c]),tw=(0,n.useCallback)(()=>{let e=eu+1;c.showThreat({day:e,maxDays:r});let t=[],l=!1;if(tp){l=!0;let e=tO();if(e){let l=e.isTrue,i=e.type,n=e.intel.text,r=e.intel.effectDescription;if(l)if("ALL"===e.intel.coinSymbol)em(ef.map(t=>{if("USDC"!==t.symbol){var l,i;let n=t.price,r=n;return(null==(l=e.intel.trueEffect)?void 0:l.type)==="PRICE_MULTIPLIER"?r=n*(1+e.intel.trueEffect.value):(null==(i=e.intel.trueEffect)?void 0:i.type)==="PRICE_CHANGE"&&(r=n+e.intel.trueEffect.value),{...t,price:Math.max(Math.min(r,t.range.max),t.range.min)}}return t})),ef.forEach(e=>{"USDC"!==e.symbol&&t.push(e.symbol)});else{let l=e.intel.coinSymbol;l&&(em(ef.map(t=>{if(t.symbol===l){var i,n;let l=t.price,r=l;return(null==(i=e.intel.trueEffect)?void 0:i.type)==="PRICE_MULTIPLIER"?r=l*(1+e.intel.trueEffect.value):(null==(n=e.intel.trueEffect)?void 0:n.type)==="PRICE_CHANGE"&&(r=l+e.intel.trueEffect.value),{...t,price:Math.max(Math.min(r,t.range.max),t.range.min)}}return t})),t.push(l))}else e.intel.falseEffect;tR(),Q({type:i,text:n,effectDescription:r,wasTrue:l})}}er(["basicIntel","premiumIntel"]),tS(e=>{let t={...e};return delete t.basicIntel,delete t.premiumIntel,t});let i={};eo.forEach(e=>{i[e.symbol]=eS(e.symbol)}),eX(i);let n={holdings:eo,getPrice:eS,coinPrices:ef,updatePrices:ed,updateSpecificCoinPrices:eT,checkAnimating:e7,storePrices:eX,updateCoinPrices:em,updateHoldings:ec,addTool:ei,setFreeTrading:to,setDiscountedPurchase:ts,setInsiderInfo:()=>{},setFreeTradesCount:K,intelAffectedCoins:t,hadActiveIntel:l,addDebt:e2},a=eK(n);return e5(),eE(e=>e+1),(!el.hax||el.hax<=0)&&ty(),c.generateNewCoinValues&&c.generateNewCoinValues(),a},[tp,tO,tR,ef,em,er,tS,eo,eS,eX,eK,eT,ed,e7,ec,ei,to,ts,K,Q,e5,eE,e2,ty,el,s,eu,c,ea,r,tU,tM,tH]);return{currentDay:eu,currentDate:eW,debt:e0,interest:e1,addDebt:e2,holdings:eo,coinPrices:ef,getFormattedPrice:eh,getPrice:eS,advanceDay:tw,takeLoan:tt,takeMaxLoan:tl,repayDebt:ti,repayAllDebt:tn,setAnimating:te,purchaseCoin:tc,purchaseMaxCoin:tu,sellCoin:tE,sellAllCoin:tf,getPurchaseAmount:es,toggleCoinDisplay:ta,getPercentageChange:td,getSpread:tT,displayMode:eV,dailyFee:eO,permanentFees:eC,addCreditCardFee:e=>eI.addCreditCardFee(e),checkDebtPaidOff:e=>eI.checkDebtPaidOff(e),getTotalFees:eI.getTotalGameFees,feeType:eI.feeType,resetFeeType:eI.resetFeeType,isGameOver:eJ,currentEvent:eB.currentEvent,activeEvents:eB.activeEvents,eventHistory:eB.eventHistory,clearCurrentEvent:eB.clearCurrentEvent,getEventsForDay:eB.getEventsForDay,showingEvent:eB.showingEvent,setShowingEvent:eB.setShowingEvent,tools:el,addTool:ei,getToolCount:en,useTool:ea,setFreeTrading:to,setDiscountedPurchase:ts,setFreeTradesCount:K,updateCoinPrices:em,currentButtonText:eF,isShopOpen:u,setIsShopOpen:E,buyShopItem:tP,sellShopItem:tx,spendHax:tv,ownedShopItems:f,itemPurchaseDays:th,activeIntel:tp,clearIntel:tR,markIntelAsViewed:tC,resolveIntel:tO,resolvedIntelResult:$,setResolvedIntelResult:Q,intelAffectedCoins:z,shopPaymentMethod:p,setShopPaymentMethod:m,isPaymentDropdownOpen:I,setIsPaymentDropdownOpen:R,getCreditLimit:tr,itemPaymentDetails:q,isWarOpen:ee,setIsWarOpen:et,currentShopHax:tL,threatSystem:c,applyCoinLoss:tb,spendHaxKeys:tH}}(j,{setThreat:Q}),{drawWar:tc,generateNewCoinValues:tu,showRewardDialogWrapper:tE}=function(e,t,l){let{drawHorizontalLine:i,drawSecurityIcons:r}=c(),[a,o]=(0,n.useState)(!1),[s,u]=(0,n.useState)(!1),[E,f]=(0,n.useState)(!1),[d,T]=(0,n.useState)(!1),[h,S]=(0,n.useState)(!1),[p,m]=(0,n.useState)(!1),I=(0,n.useCallback)((e,l,i)=>{null==t||t(e,l,i),m(!0)},[t]);(0,n.useEffect)(()=>{if(l)return l(()=>{m(!1)})},[l]);let[R,O]=(0,n.useState)([{coin:"BTC",amount:0},{coin:"ETH",amount:0},{coin:"SOL",amount:0},{coin:"LTC",amount:0},{coin:"PEPE",amount:0}]),C=(e,t)=>t>=e?"#FFFFFF":"#333333",L=(0,n.useCallback)((e,t)=>{let l=Math.random();return Math.floor(e+l*l*(t-e))},[]),y=(0,n.useCallback)(()=>{let e=["BTC","ETH","SOL","LTC","PEPE","XRP"];return e[Math.floor(Math.random()*e.length)]},[]),A=(0,n.useCallback)((e,t)=>{if("BTC"===e||"ETH"===e){if(t<1)return t.toFixed(4);else if(t<10)return t.toFixed(2)}return t>=1e9?"".concat((t/1e9).toFixed(1),"b"):t>=1e6?"".concat((t/1e6).toFixed(1),"m"):t>=1e3?"".concat((t/1e3).toFixed(1),"k"):"PEPE"===e&&t>=100?Math.round(t).toLocaleString():t.toFixed(1)},[]),g=(0,n.useCallback)(()=>{let e=[];for(let t=0;t<5;t++){let t,l=L(8888,8888888),i=y();switch(i){case"BTC":t=l/7e4;break;case"ETH":t=l/3500;break;case"SOL":t=l/150;break;case"LTC":t=l/80;break;case"XRP":t=l/.5;break;case"PEPE":t=1e3*l;break;default:t=l}e.push({coin:i,amount:t})}O(e)},[L,y]);return(0,n.useEffect)(()=>{g()},[g]),(0,n.useEffect)(()=>{let e=()=>{o(!0);let t=setTimeout(()=>{o(!1);let t=setTimeout(()=>{e()},Math.floor(4e3*Math.random())+2e3);return()=>clearTimeout(t)},100);return()=>clearTimeout(t)},t=setTimeout(e,1e3);return()=>clearTimeout(t)},[]),(0,n.useEffect)(()=>{let e=()=>{u(!0);let t=setTimeout(()=>{u(!1);let t=setTimeout(()=>{e()},Math.floor(4e3*Math.random())+1500);return()=>clearTimeout(t)},100);return()=>clearTimeout(t)},t=setTimeout(e,2300);return()=>clearTimeout(t)},[]),(0,n.useEffect)(()=>{let e=()=>{f(!0);let t=setTimeout(()=>{f(!1);let t=setTimeout(()=>{e()},Math.floor(3200*Math.random())+1800);return()=>clearTimeout(t)},100);return()=>clearTimeout(t)},t=setTimeout(e,3100);return()=>clearTimeout(t)},[]),(0,n.useEffect)(()=>{let e=()=>{T(!0);let t=setTimeout(()=>{T(!1);let t=setTimeout(()=>{e()},Math.floor(3600*Math.random())+2200);return()=>clearTimeout(t)},100);return()=>clearTimeout(t)},t=setTimeout(e,1700);return()=>clearTimeout(t)},[]),(0,n.useEffect)(()=>{let e=()=>{S(!0);let t=setTimeout(()=>{S(!1);let t=setTimeout(()=>{e()},Math.floor(3200*Math.random())+1600);return()=>clearTimeout(t)},100);return()=>clearTimeout(t)},t=setTimeout(e,2500);return()=>clearTimeout(t)},[]),{drawWar:(0,n.useCallback)((t,l,n,o,c,u,f,T,S)=>{let m=[],R=(null==u?void 0:u.hax)||0,O=C(1,R),L=C(2,R),y=C(3,R),A=C(4,R),g=C(5,R),N=Math.floor((l/o-40)/2)*o,D=Math.floor(n/c/2-10)*c;t.fillStyle="#888888";let b="WALLET",P="SHOP",x=N+2*o,v=x+t.measureText(b).width+o,U=v+2*o,M=U+t.measureText("WAR").width+o,H=M+2*o,w=H+t.measureText(P).width+o,Y=D-2*c;t.save(),t.fillStyle="#000000";let k=20*c;t.fillRect(N+o,Y+Math.floor(.5*c),38*o,k),t.restore(),t.fillStyle="#888888",t.fillText("║",v,Y+c),t.fillText("║",M,Y+c),t.fillText("║",w,Y+c),t.fillText("╔",N,Y),i(t,"═",N+o,Y,(v-N)/o-1.5,o),t.fillText("╦",v,Y),i(t,"═",v+o,Y,(M-v)/o-1.5,o),t.fillText("╦",M,Y),i(t,"═",M+o,Y,(w-M)/o-1.5,o),t.fillText("╦",w,Y),i(t,"═",w+o,Y,(N+38*o-w)/o-1.5,o),t.fillText("═╗",N+38*o,Y),t.fillText("║",N,Y+c),t.fillText("║",N+39*o,Y+c),t.fillText("╠",N,Y+2*c),i(t,"═",N+o,Y+2*c,(v-N)/o-1.5),t.fillText("╝",v,Y+2*c),t.fillText("╚",M,Y+2*c),i(t,"═",M+o,Y+2*c,(w-M)/o-1,o),t.fillText("╩",w,Y+2*c),i(t,"═",w+o,Y+2*c,(N+39*o-w)/o-1,o),t.fillText("╣",N+39*o,Y+2*c),f&&(t.fillStyle="#ffffff",t.fillText(b,x,Y+c),m.push({text:b,x:x,y:Y+c,width:t.measureText(b).width,height:c,onClick:f,disableHold:!0}),t.fillStyle="#888888"),T&&(t.fillStyle="#ffffff",t.fillText(P,H,Y+c),m.push({text:P,x:H,y:Y+c,width:t.measureText(P).width,height:c,onClick:T,disableHold:!0}),t.fillStyle="#888888"),t.fillStyle="#333333",t.fillText("WAR",U,Y+c),r(t,N,Y,40,o,c,u);t.fillStyle="#888888";for(let e=1;e<=17;e++){let l=D+e*c;t.fillText("║",N,l),t.fillText("║",N+39*o,l)}t.fillStyle="#888888";let F=D+18*c;if(t.fillText("╚",N,F),i(t,"═",N+o,F,38,o),t.fillText("╝",N+39*o,F),p){t.fillStyle="#FF0000";let e="ERR0R: TRY TOMORR0W",i=Math.floor((l/o-e.length)/2)*o,r=Math.floor(n/c/2)*c;return t.fillText(e,i,r),{buttons:m,startX:N,startY:D,tableWidth:40}}let _="( ͡\xb0 ͜ʖ ͡\xb0)",B=_.length+4,W=Math.floor((l/o-(B+1+12+2))/2)-1,G=Y+2*c+2*c;t.fillStyle=O,t.fillText("╭",W*o,G),i(t,"─",(W+1)*o,G,B,o),t.fillText("╮",(W+B+1)*o,G),t.fillText("│",W*o,G+c),t.fillText("│",(W+B+1)*o,G+c),t.fillText("╰",W*o,G+2*c),i(t,"─",(W+1)*o,G+2*c,B,o),t.fillText("╯",(W+B+1)*o,G+2*c),t.fillStyle=O;let V=(W+2)*o,K=G+c;t.fillText(_,V,K),t.fillStyle=O;let X=(W+B+2)*o,j=G+c;t.fillText("─",X,j);let z=W+B+3;t.fillStyle=O,t.fillText("╭",z*o,G),i(t,"─",(z+1)*o,G,12,o),t.fillText("╮",(z+12+1)*o,G),t.fillText("│",z*o,G+c),t.fillText("│",(z+12+1)*o,G+c),t.fillText("╰",z*o,G+2*c),i(t,"─",(z+1)*o,G+2*c,12,o),t.fillText("╯",(z+12+1)*o,G+2*c),t.fillStyle=O,t.fillText("\uD83D\uDD11",(z+6)*o,G+c);let J=(W+B-3)*o,q=G+c;t.fillStyle=O,t.fillText(a?"H4X":"HAX",J,q),R>=1&&e&&m.push({text:"",x:W*o,y:G,width:B*o,height:2*c,onClick:()=>{let t=e(1);t.success&&t.coin&&void 0!==t.amount&&I(t.coin,t.amount,t.failed)},disableHold:!0});let Z=G+3*c,$="ಠ_ಠ",Q=$.length,ee=Q+12,et=Math.floor((l/o-(ee+1+12+2))/2)-1;t.fillStyle=L,t.fillText("╭",et*o,Z),i(t,"─",(et+1)*o,Z,ee,o),t.fillText("╮",(et+ee+1)*o,Z),t.fillText("│",et*o,Z+c),t.fillText("│",(et+ee+1)*o,Z+c),t.fillText("╰",et*o,Z+2*c),i(t,"─",(et+1)*o,Z+2*c,ee,o),t.fillText("╯",(et+ee+1)*o,Z+2*c),t.fillStyle=L;let el=(et+2)*o,ei=Z+c;t.fillText($,el,ei),t.fillStyle=L;let en=(et+ee+2)*o,er=Z+c;t.fillText("─",en,er);let ea=et+ee+3;t.fillStyle=L,t.fillText("╭",ea*o,Z),i(t,"─",(ea+1)*o,Z,12,o),t.fillText("╮",(ea+12+1)*o,Z),t.fillText("│",ea*o,Z+c),t.fillText("│",(ea+12+1)*o,Z+c),t.fillText("╰",ea*o,Z+2*c),i(t,"─",(ea+1)*o,Z+2*c,12,o),t.fillText("╯",(ea+12+1)*o,Z+2*c),t.fillStyle=L,t.fillText("\uD83D\uDD11\uD83D\uDD11",(ea+6-2)*o,Z+c);let eo=(et+Q+4)*o,es=Z+c;t.fillStyle=L,t.fillText(s?"0V3RR1D3":"OVERRIDE",eo,es),R>=2&&e&&m.push({text:"",x:et*o,y:Z,width:ee*o,height:2*c,onClick:()=>{let t=e(2);t.success&&t.coin&&void 0!==t.amount&&I(t.coin,t.amount,t.failed)},disableHold:!0});let ec=Z+3*c,eu="(▀̿̿Ĺ̯̿▀̿ ̿)",eE=eu.length,ef=eE+3,ed=Math.floor((l/o-(ef+1+12+2))/2)-1;t.fillStyle=y,t.fillText("╭",ed*o,ec),i(t,"─",(ed+1)*o,ec,ef,o),t.fillText("╮",(ed+ef+1)*o,ec),t.fillText("│",ed*o,ec+c),t.fillText("│",(ed+ef+1)*o,ec+c),t.fillText("╰",ed*o,ec+2*c),i(t,"─",(ed+1)*o,ec+2*c,ef,o),t.fillText("╯",(ed+ef+1)*o,ec+2*c),t.fillStyle=y;let eT=(ed+2)*o,eh=ec+c;t.fillText(eu,eT,eh),t.fillStyle=y;let eS=(ed+ef+2)*o,ep=ec+c;t.fillText("─",eS,ep);let em=ed+ef+3;t.fillStyle=y,t.fillText("╭",em*o,ec),i(t,"─",(em+1)*o,ec,12,o),t.fillText("╮",(em+12+1)*o,ec),t.fillText("│",em*o,ec+c),t.fillText("│",(em+12+1)*o,ec+c),t.fillText("╰",em*o,ec+2*c),i(t,"─",(em+1)*o,ec+2*c,12,o),t.fillText("╯",(em+12+1)*o,ec+2*c),t.fillStyle=y,t.fillText("\uD83D\uDD11\uD83D\uDD11\uD83D\uDD11",(em+6-3)*o,ec+c);let eI=(ed+eE-3)*o,eR=ec+c;t.fillStyle=y,t.fillText(E?"1NJ3CT":"INJECT",eI,eR),R>=3&&e&&m.push({text:"",x:ed*o,y:ec,width:ef*o,height:2*c,onClick:()=>{let t=e(3);t.success&&t.coin&&void 0!==t.amount&&I(t.coin,t.amount,t.failed)},disableHold:!0});let eO=ec+3*c,eC="ʕ•ᴥ•ʔ",eL=eC.length,ey=eL+10,eA=Math.floor((l/o-(ey+1+12+2))/2)-1;t.fillStyle=A,t.fillText("╭",eA*o,eO),i(t,"─",(eA+1)*o,eO,ey,o),t.fillText("╮",(eA+ey+1)*o,eO),t.fillText("│",eA*o,eO+c),t.fillText("│",(eA+ey+1)*o,eO+c),t.fillText("╰",eA*o,eO+2*c),i(t,"─",(eA+1)*o,eO+2*c,ey,o),t.fillText("╯",(eA+ey+1)*o,eO+2*c),t.fillStyle=A;let eg=(eA+2)*o,eN=eO+c;t.fillText(eC,eg,eN),t.fillStyle=A;let eD=(eA+ey+2)*o,eb=eO+c;t.fillText("─",eD,eb);let eP=eA+ey+3;t.fillStyle=A,t.fillText("╭",eP*o,eO),i(t,"─",(eP+1)*o,eO,12,o),t.fillText("╮",(eP+12+1)*o,eO),t.fillText("│",eP*o,eO+c),t.fillText("│",(eP+12+1)*o,eO+c),t.fillText("╰",eP*o,eO+2*c),i(t,"─",(eP+1)*o,eO+2*c,12,o),t.fillText("╯",(eP+12+1)*o,eO+2*c),t.fillStyle=A,t.fillText("\uD83D\uDD11\uD83D\uDD11\uD83D\uDD11\uD83D\uDD11",(eP+6-4)*o,eO+c);let ex=(eA+eL+3)*o,ev=eO+c;t.fillStyle=A,t.fillText(d?"B4CKD00R":"BACKDOOR",ex,ev),R>=4&&e&&m.push({text:"",x:eA*o,y:eO,width:ey*o,height:2*c,onClick:()=>{let t=e(4);t.success&&t.coin&&void 0!==t.amount&&I(t.coin,t.amount,t.failed)},disableHold:!0});let eU=eO+3*c,eM="◕‿◕",eH=eM.length,ew=eH+12,eY=Math.floor((l/o-(ew+1+12+2))/2)-1;t.fillStyle=g,t.fillText("╭",eY*o,eU),i(t,"─",(eY+1)*o,eU,ew,o),t.fillText("╮",(eY+ew+1)*o,eU),t.fillText("│",eY*o,eU+c),t.fillText("│",(eY+ew+1)*o,eU+c),t.fillText("╰",eY*o,eU+2*c),i(t,"─",(eY+1)*o,eU+2*c,ew,o),t.fillText("╯",(eY+ew+1)*o,eU+2*c),t.fillStyle=g;let ek=(eY+2)*o,eF=eU+c;t.fillText(eM,ek,eF),t.fillStyle=g;let e_=(eY+ew+2)*o,eB=eU+c;t.fillText("─",e_,eB);let eW=eY+ew+3;t.fillStyle=g,t.fillText("╭",eW*o,eU),i(t,"─",(eW+1)*o,eU,12,o),t.fillText("╮",(eW+12+1)*o,eU),t.fillText("│",eW*o,eU+c),t.fillText("│",(eW+12+1)*o,eU+c),t.fillText("╰",eW*o,eU+2*c),i(t,"─",(eW+1)*o,eU+2*c,12,o),t.fillText("╯",(eW+12+1)*o,eU+2*c),t.fillStyle=g,t.fillText("\uD83D\uDD11\uD83D\uDD11\uD83D\uDD11\uD83D\uDD11\uD83D\uDD11",(eW+6-5)*o,eU+c);let eG=(eY+eH+7)*o,eV=eU+c;return t.fillStyle=g,t.fillText(h?"R00T":"ROOT",eG,eV),R>=5&&e&&m.push({text:"",x:eY*o,y:eU,width:ew*o,height:2*c,onClick:()=>{let t=e(5);t.success&&t.coin&&void 0!==t.amount&&I(t.coin,t.amount,t.failed)},disableHold:!0}),{buttons:m,startX:N,startY:D,tableWidth:40}},[i,r,a,s,E,d,h,R,A,e,t,p,I]),generateNewCoinValues:g,showRewardDialogWrapper:I}}(to,en,$),tf=(0,n.useCallback)(()=>{if(1===ea)return"QUIT";let e=m.current;if(e.length>=z.length){m.current=[];let e=z[Math.floor(Math.random()*z.length)];return m.current=[e],localStorage.setItem("cryptoWars_usedExitTexts",JSON.stringify([e])),e}let t=z.filter(t=>!e.includes(t)),l=t[Math.floor(Math.random()*t.length)];return m.current=[...e,l],localStorage.setItem("cryptoWars_usedExitTexts",JSON.stringify(m.current)),l},[ea]);(0,n.useEffect)(()=>{W(tf())},[tf]),(0,n.useEffect)(()=>{ea>1&&W(tf())},[ea,tf]),(0,n.useEffect)(()=>{t&&tr&&t(tr)},[tr,t]),(0,n.useEffect)(()=>{l&&ta&&l(ta)},[ta,l]);let{triggerDegaussEffect:td}=function(e){let t=(0,n.useRef)(null),l=(0,n.useRef)(null),i=(0,n.useRef)(null);return{triggerDegaussEffect:(0,n.useCallback)(()=>{t.current&&cancelAnimationFrame(t.current);let n=e.current;if(!n)return;let r=n.getContext("2d");if(!r)return;i.current=r.getImageData(0,0,n.width,n.height),l.current=performance.now();let a=n=>{let r=e.current;if(!r)return;let o=r.getContext("2d");if(!o)return;let s=l.current||n,c=n-s;if(c<=600){let e=Math.min(c/600,1),t=e<.5?1-.5*e:.75-(e-.5)*1.5;o.save();let l=r.width,i=r.height,n=Math.max(l,i)*(.2+1.5*e),a=o.createRadialGradient(l/2,i/2,0,l/2,i/2,n),s=.7*t;a.addColorStop(0,"rgba(255, 0, 0, ".concat(s,")")),a.addColorStop(.2,"rgba(255, 165, 0, ".concat(s,")")),a.addColorStop(.4,"rgba(255, 255, 0, ".concat(s,")")),a.addColorStop(.6,"rgba(0, 255, 0, ".concat(s,")")),a.addColorStop(.8,"rgba(0, 0, 255, ".concat(s,")")),a.addColorStop(1,"rgba(128, 0, 128, ".concat(s,")")),o.globalCompositeOperation="screen",o.fillStyle=a,o.fillRect(0,0,l,i);let u=20*t,E=document.createElement("canvas");E.width=l,E.height=i;let f=E.getContext("2d");if(f){f.drawImage(r,0,0),o.clearRect(0,0,l,i);for(let t=0;t<i;t+=1){let i=Math.sin(.05*t+10*e)*u;o.drawImage(E,0,t,l,1,i,t,l,1)}}o.restore()}else if(c<=900){let e=(c-600)/300;i.current&&o.putImageData(i.current,0,0);let t=5*(1-e),l=document.createElement("canvas");l.width=r.width,l.height=r.height;let n=l.getContext("2d");if(n){n.drawImage(r,0,0),o.clearRect(0,0,r.width,r.height);for(let i=0;i<r.height;i+=3){let n=Math.sin(.1*i+20*e)*t;o.drawImage(l,0,i,r.width,3,n,i,r.width,3)}}if(Math.random()>.7){let e=.15*Math.random();o.fillStyle="rgba(255, 255, 255, ".concat(e,")"),o.globalCompositeOperation="screen",o.fillRect(0,0,r.width,r.height)}if(Math.random()>.8){let e=Math.floor(Math.random()*r.height),t=Math.floor(3*Math.random())+1;o.fillStyle="rgba(255, 255, 255, 0.2)",o.fillRect(0,e,r.width,t)}}if(c<900)t.current=requestAnimationFrame(a);else{t.current=null,l.current=null,i.current=null;let e=new CustomEvent("redrawTerminal");window.dispatchEvent(e)}};t.current=requestAnimationFrame(a)},[e,600,300,900])}}(a),{play:tT,isLoaded:th}=function(e){let t=(0,n.useRef)(null),l=(0,n.useRef)(null),i=(0,n.useRef)(null),r=(0,n.useRef)(!1),a=(0,n.useRef)(!1),[o,s]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{if(r.current=X(),e.current){if(!r.current){let t=()=>{s(!0)};return e.current.load(),e.current.addEventListener("canplaythrough",t),e.current.readyState>=4&&s(!0),()=>{var l;null==(l=e.current)||l.removeEventListener("canplaythrough",t)}}if(r.current&&e.current){let i=e.current.src;t.current=new(window.AudioContext||window.webkitAudioContext),fetch(i).then(e=>e.arrayBuffer()).then(e=>{var l;return null==(l=t.current)?void 0:l.decodeAudioData(e)}).then(e=>{e&&(l.current=e,a.current=!0,s(!0))}).catch(e=>{});let n=()=>{t.current&&"suspended"===t.current.state&&t.current.resume(),document.removeEventListener("touchstart",n),document.removeEventListener("touchend",n),document.removeEventListener("click",n)};document.addEventListener("touchstart",n),document.addEventListener("touchend",n),document.addEventListener("click",n)}return()=>{var e;if(i.current)try{i.current.stop(),i.current.disconnect()}catch(e){}null==(e=t.current)||e.close()}}},[e]),{play:(0,n.useCallback)(()=>{if(r.current&&t.current&&l.current){if("suspended"===t.current.state&&t.current.resume(),i.current)try{i.current.stop(),i.current.disconnect()}catch(e){}i.current=t.current.createBufferSource(),i.current.buffer=l.current,i.current.connect(t.current.destination),i.current.start(0);return}e.current&&(e.current.currentTime=0,e.current.play().catch(()=>{}))},[e]),isLoaded:o}}(E),{drawOuterBorder:tS}=function(){let e=(0,n.useCallback)((e,t,l,i,n,r)=>{for(let a=0;a<n;a++)e.fillText(t,l+a*r,i)},[]),t=(0,n.useCallback)((e,t,l,i,n,r)=>{for(let a=0;a<n;a++)e.fillText(t,l,i+a*r)},[]);return{drawOuterBorder:(0,n.useCallback)((l,i,n,r)=>{l.fillStyle="#000000",l.fillRect(0,0,i,n),l.font='16px "Fira Code", monospace',l.textBaseline="top",l.fillStyle="#444444";let a=l.measureText("█").width,o=Math.floor(i/a),s=Math.floor((n-2)/19)+1,c=(s-1)*19;return l.fillText("╭",0,0),l.fillText("╮",(o-1)*a,0),l.fillText("╰",0,c),l.fillText("╯",(o-1)*a,c),e(l,"─",a,0,o-2,a),e(l,"─",a,c,o-2,a),t(l,"│",0,19,s-2,19),t(l,"│",(o-1)*a,19,s-2,19),{bottomY:c,charWidth:a,charHeight:19,cols:o,rows:s}},[e,t])}}(),tp=(0,n.useCallback)(()=>{e1(null)},[e1]),tm=(0,n.useCallback)(()=>es.reduce((e,t)=>{if("USDC"===t.symbol)return e+t.amount;{let l=ef(t.symbol);return e+t.amount*l}},0),[es,ef]),tI=null!==q?q:tm(),tR=(0,n.useCallback)(()=>{tT(),td(),setTimeout(()=>{p.current="game",window.dispatchEvent(new Event("resize"))},500)},[tT,td]),tO=(0,n.useCallback)(()=>{eb(),eT(),f.current.forEach(e=>e()),tT(),requestAnimationFrame(()=>{td()})},[eT,tT,td,eb]),tC=(0,n.useCallback)(()=>{Z(0),tT(),td(),J(!0)},[tT,td,Z]);(0,n.useCallback)(()=>{eb();let e=es.find(e=>"USDC"===e.symbol);!e||e.amount<=0||ec<=0||(ec<500?ep(Math.min(e.amount,ec)):ep(Math.min(500,e.amount)))},[es,ep,ec,eb]);let tL=(0,n.useCallback)(()=>{eM(!1),ev()},[ev,eM]),ty=(0,n.useCallback)(()=>{eW(!0),e_(!1)},[eW,e_]),tA=(0,n.useCallback)(()=>{eW(!1),e_(!1)},[eW,e_]),tg=(0,n.useCallback)(()=>{e_(e=>!e),eW(!1)},[e_,eW]),tN=(0,n.useCallback)((e,t,l)=>eV(e,t,l),[eV]),tD=(0,n.useCallback)((e,t)=>eK(e,t),[eK]),tb=(0,n.useCallback)((e,t)=>eI(e,t),[eI]),tP=(0,n.useCallback)((e,t)=>eO(e,t),[eO]),tx=(0,n.useCallback)(e=>ep(e),[ep]),tv=(0,n.useCallback)(()=>{ee()},[ee]),tU=(null==el?void 0:el.phase)==="outcome",tM=(0,n.useCallback)((e,t,l,i,n,r,a,o,s)=>tc(e,t,l,i,n,r,a,o,s),[tc]),{drawStartScreen:tH,setupInteractions:tw}=function(e,t){let l=s(),i=(0,n.useRef)(0),r=(0,n.useRef)(0),a=(0,n.useRef)(null),o=(0,n.useRef)(null),c=(0,n.useRef)(!1),u=(0,n.useRef)(0),E=(0,n.useRef)(!1),f=(0,n.useRef)(0),d=(0,n.useRef)({x:0,y:0}),T=["WAKE UP.","","DATE: JUNE 2029","MEMORY: CORRUPTED","BODY: BROKEN","CREDITS: 0","RENT DUE: 50M IN 30 DAYS","","YOU WERE ON YOUR WAY TO REPROCESSING","BECAUSE YOU'RE BROKE","AND THAT'S ILLEGAL","","YOU FIND A WALLET","","NOW YOU HAVE TWO OPTIONS:","1. SELL YOUR MINDBODY","2. TRADE TIL YOU HIT RENT","","WELCOME TO:","WALLET WARS: JUNE CYCLE","","[ START ]","","","","","","","","","","","","","BY RYAN ALLEN"],h=(0,n.useCallback)(()=>{let t=e.current;if(!t)return;let n=t.getContext("2d");if(!n)return;n.fillStyle="#000000",n.fillRect(0,0,t.width,t.height);let s=l?6:10,c=2*s,u="................................................................................................................................\n................................................................................................................................\n................................................................................................................................\n................................................................................................................................\n................................................................................................................................\n................................................................................................................................\n....................................................*:::::::::::::::::::..-.....................................................\n..............................................#-::-::::::-+*####%###**:::::::::.-...............................................\n..........................................+-.:----:#%#*++++++++++++++++++*#%@#::::::-...........................................\n......................................++::---:*%*+++++-:+++#+-::+#++*+=:.:=+++++#@+::::.........................................\n....................................*-:--::@*++++:=+=+++=+-++=+++*#*-::===+++%-:==++%#::::......................................\n.................................##::--:%*+++=#++==-+#*+++=+:::::-=+++:+:==++#:++=++=++##:::....................................\n...............................*=:---=*++++++++==*+++-%++++++====+++++-+:=#*#:===+=---++++@+:::.................................\n.............................#*=---+*+++=-=-*+++=-+++==*++++-+-=+=+*+==+-=*++=+++:=+*++-#-++##:::...............................\n...........................*#+---=**+=*+:*#++-#+++-*+++:#*++-+=++++*+++=#==+==+*:=++:+*+*-::++##:::.............................\n..........................##--=-%+++**-++++=++=#++-=*+++++-=:+==+=+**#+=::==++++-===++*=+++*-:++%=::-...........................\n........................##+-===*+++++*+*+*++=+*:#+++++#*##-+-++=+##*==--:==%++-+++=+++:++:=+=*==++@:::..........................\n.......................#%*--=#*+*+++=*++*++++=+++++=---+++=+-+++++++-+++=*+*++=*+*-++#==:++:+++++++#+::-........................\n......................#%*==-#+++*#+-*#+**+*=++=#++++++*+++=+=++++++**++++++*+++#++===++%==:+#++=++:++%:--.......................\n....................:##*===#*-**#**-*+=*+-+++++++**+++#+++++++*++++**+++*++*++=#-+++*++=+-+*=+:++=+=++@:-:......................\n...................-#%*===#*+*=**=*++=*+*++=*++**+++++*+++++++*++*++=+*+=++-+*+=+%#**++=++*++:=+++-+=++@--:.....................\n...................+**===#***+*+**#*=++*++=**+++=++++**++-++++#*+**++++*++++++-=++++++-+++-+-==+#++-+*++@--:....................\n..................###===#**=**+***+#**-++=++**+*++++++*+++=+++*++**+++++-+**++++++*++++=+++#==+++#++-+#++@--=...................\n.................%%%+==+**+**+***+**+++*=++++*+++++++++=++++*++*++++*+++-++++++++++++++++=++#*-+=+#++=+-++%--:..................\n................ %%#===***#*=**#*****+**+++*+*++***+**+*++***+**++++**++++++++++++++++++*++++++++-+++*++*+**-=..................\n................#%#===***+*******+******++++++++++**++++++++++*++++++++++++++++++++++++++++++++++++++++++-+#---.................\n................###+==**##*+*#-==-***#=---++*=---***+-----+++*#--=+++++#*---+++++#---::---*#-:--------+++#++%=-.................\n...............#*#+==***=****#*==-***-----+*#----**%------+++*%=--+++++#*---++++*#--------*%----------*+-+-+#==-................\n...............%%*==+********#@===**%--=--**%-=-#+**--+#--=**#%==-+*+++##---++*++#---=+**++***#*--=**+++#+***#-=................\n..............#%%#+==**#***++*%====**=====-**---**@-=-#@---***%=--+++**#*-=-*++++#=-------++++**--=+++=%+++*+%-=+...............\n..............%%%++=**********%*===#===@*==#==-****=-=*%*--***%===*++**##---**+++#=-------++++*#---+++#++**=+*==-...............\n..............##*=++#*%*++*=**#@===*===#@======**%====--:==-*#%-==***+*##=--+++++#=--=###*++++##---+*+*++*+++**==...............\n..............%%#+++**%#*+*=*+*%======##@======*##==========**%===*****##==-****+#=---++++++++##---+*++++**++*#-=...............\n..............%%#+++**#**=*+*+*%#=====**%*====#*%===+###%#===*%======-=*#=======-#--=------+++*#---+**=++++++*%=-...............\n..............%%*+++**##*+*+*+*#@====***#@====*#++==*****@+==#@+++++=++*#*###%##%#%@@@@%@@@*++*@@@#*+++++++++*%==:..............\n..............###+++*#*****+*+**##*#************#**************************+***++****+*+++++++++*+++++***+*#+*%==:..............\n..............###+++#*%#*****++++==***---+***%:::+***#-==+****==--+****%========+*+**-======-*++++#*##+#*+****%==...............\n..............%%%=+=#*%**=*****#*****%+==-****====***@===#**%=====-****@==========*#====++===-***+*++*=+*=+#**#==...............\n..............#%%*++#*#+=+*+*********%#===**#==+==**#*===**##======****@===###@===*@====*#*===++:+++==++*=*#**+==...............\n..............%###++=#*****%#***#=++*#@++=#*%======*#===+**%+==%+==+***@===***+===*@=====+*+*++%++*=*=++******===...............\n...............###+++##**%#********+**%+===#*=++=+=*%===***#===#@===+*#@=========%*#@*=======+*************+*#==+...............\n...............##%+++**%**+*%**=***+**#%+==*+=+%#+=**===**%===#*#+==**#@========*+***##%%@*===*++*=***=******#==................\n...............:%%#+++##*####+*#*#***##@=+=-+++#@=+====#**#+=+===+===**@===#@====**%===***#===******#*#*=++**===................\n................%%%*++*####+*#+**#****#%*++++=**%#+++==**@+=++%%%%===*#@=++*#@===-*%+====+===+**++*-*=****+*#+=.................\n................%%%++++##+*#+*%+#*#%*=*#@+=++=**#@++++=**#+++***#%*=++*@===**#%====*@+======#+**=***+*+*****===.................\n.................####++=#*###+#%+#*#@#*#%@@@%*#*##%%%%#*##%%#****##%##*####***####***#%%%%#****=****#**#****+=..................\n..................**#+*+=##*#**#%+#*#%+**#**************************+*******+**+=++******+*+=*=******#****%=+*..................\n..................=#*#=++*##+#+**%=#+##**%+****+*#***#*##**+*#####**+*+*****+=+=====+***#*=****=**#*+#*=*%==+...................\n...................=#%#=++#*#+%=+=#*#%=#@+***+###=***####***###*##**+***+#************+**#*=**=*+**-****#=+=....................\n....................%%%#=+*+##*#*+###*#+#####***#********#*+*##*##**+***+*********+******+%*=**=**=**#*#=+=.....................\n.....................%%%*=+*=######*=#*##*##*#*#+**#%%##**#+***#*#******%#####****+**+*=#**#*=***#*-**#++=......................\n......................%%%+*+++*#*##***#%=#%+####**=+++=*****#**#*+##**%+++++**#***+**+#*+%*+#**#**=***++=.......................\n........................%%%#***##%+##=*+##=*#+###+#*****-==*#*##******+***##+*#***+#**=%*+***+**+#**-++*........................\n.........................#%%#+++=##%+####*#%*###+*##*-*********+#*****+*+***+*+*%**++**=#**%*+****#+++..........................\n..........................#%%*****=##%+++##+##*+##%**#*%**=*******#####++=*%***++%**+=##*=#******=+++...........................\n............................#%%#=***+##%+##+%+=##+*###%++*#**#*****##*****+++%***-********+****-++=.............................\n..............................##*#=++*+###%+####+*+##+*+**###%*+#%*#####***#-*%**#*=#+*#=#***:+++#..............................\n................................#%%#=+*+-####%++##****-*###%%++**=++=+#%###***#**+#**+****#=+++*................................\n..................................##*#=***+-##**#*+##%**###**#=-*#*##*=#%*=**##**+*#****-+++=:..................................\n.....................................%%##+**++.#*####%*+#*####%###*##*###+*#-*+%*#***=++++*.....................................\n.......................................*%%%#+*++++:##*######%#*++*+###%%##******==+++++*........................................\n...........................................%%%##=+++++++:-#***#**#*#####*#.=+++++++=#...........................................\n...............................................-%%#%#=+++++++++++++++++++++++*=#::::::..........................................\n..........................::::::::::::::::::::::::::-:*%#####*+======+*###**+==---:::...........................................\n.............................:.:::::::::::::::::-------:::::....................................................................\n................................................................................................................................\n................................................................................................................................\n................................................................................................................................\n................................................................................................................................\n................................................................................................................................".split("\n"),E=u.length*s,f=0;n.font=l?"4px monospace":"8px monospace",u.forEach(e=>{let t=n.measureText(e).width;f=Math.max(f,t)});let d=E+20+T.length*c,h=Math.max(0,(t.height-d)/2),S=Math.max(0,(t.width-f)/2);n.font=l?"4px monospace":"8px monospace",n.fillStyle="#aaaaaa";let p=h-i.current;u.forEach(e=>{n.measureText(e).width,n.fillText(e,S,p),p+=s}),n.font=l?"12px monospace":"16px monospace",n.fillStyle="#aaaaaa";let m=0;T.forEach(e=>{if("[ START ]"!==e){let t=n.measureText(e).width;m=Math.max(m,t)}});let I=Math.max(0,(t.width-m)/2);if(p+=20,T.forEach((e,i)=>{var r,s;if("[ START ]"===e){let i=l?24:32;n.font="".concat(i,"px monospace");let o=n.measureText(e).width,s=Math.max(0,(t.width-o)/2),u=p+=c/2,E=1.5*i;a.current={x:s,y:u-i,width:o,height:4*E,text:e,isHovered:(null==(r=a.current)?void 0:r.isHovered)||!1},n.fillStyle=a.current.isHovered?"#ffffff":"#dddddd",n.fillText(e,s,p),n.font=l?"12px monospace":"16px monospace",n.fillStyle="#aaaaaa"}else if("BY RYAN ALLEN"===e){let t=n.measureText(e).width,i=l?12:16,r=l?4*i:1.5*i;o.current={x:I-10*!!l,y:p-i,width:t+20*!!l,height:r,text:e,isHovered:(null==(s=o.current)?void 0:s.isHovered)||!1,url:"https://ryanallen.com/"},n.fillStyle=o.current.isHovered?"#ffffff":"#aaaaaa",n.fillText(e,I,p),n.fillStyle="#aaaaaa"}else n.measureText(e).width,n.fillText(e,I,p);p+=c}),r.current=Math.max(0,d-t.height+50),r.current>0){let e=i.current/r.current,l=Math.max(30,t.height/d*t.height),a=e*(t.height-l);n.fillStyle="rgba(255, 255, 255, 0.3)",n.fillRect(t.width-10,a,5,l)}},[e,l]),S=(0,n.useCallback)(e=>{i.current=Math.max(0,Math.min(r.current,i.current+e)),h()},[h]),p=(0,n.useCallback)((e,t,l)=>{let i=l.current;return!!i&&e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},[]),m=(0,n.useCallback)(()=>{var e;(null==(e=o.current)?void 0:e.url)&&window.open(o.current.url,"_blank","noopener,noreferrer")},[]),I=(0,n.useCallback)(()=>{let l=e.current;if(!l)return()=>{};let i=e=>{let t=l.getBoundingClientRect(),i=(e.clientX-t.left)*(l.width/t.width),n=(e.clientY-t.top)*(l.height/t.height),r=!1;if(a.current){let e=a.current.isHovered;a.current.isHovered=p(i,n,a),a.current.isHovered&&(r=!0),e!==a.current.isHovered&&h()}if(o.current){let e=o.current.isHovered;o.current.isHovered=p(i,n,o),o.current.isHovered&&(r=!0),e!==o.current.isHovered&&h()}l.style.cursor=r?"pointer":"default"},n=e=>{let i=l.getBoundingClientRect(),n=(e.clientX-i.left)*(l.width/i.width),r=(e.clientY-i.top)*(l.height/i.height);p(n,r,a)?t():p(n,r,o)?m():(c.current=!0,E.current=!1)},r=()=>{c.current=!1},s=()=>{c.current=!1,a.current&&(a.current.isHovered=!1),o.current&&(o.current.isHovered=!1),l.style.cursor="default",h()},T=e=>{e.preventDefault(),S(.5*e.deltaY)},I=e=>{if(!c.current)return;let t=l.getBoundingClientRect(),i=(e.clientY-t.top)*(l.height/t.height);if(!E.current){E.current=!0,u.current=i;return}let n=u.current-i;u.current=i,S(n)},R=e=>{if(1!==e.touches.length)return;let t=l.getBoundingClientRect(),i=(e.touches[0].clientX-t.left)*(l.width/t.width),n=(e.touches[0].clientY-t.top)*(l.height/t.height);f.current=Date.now(),d.current={x:i,y:n},p(i,n,a)||p(i,n,o)?e.preventDefault():(c.current=!0,E.current=!1,u.current=n)},O=e=>{if(1!==e.touches.length)return;let t=l.getBoundingClientRect(),i=(e.touches[0].clientX-t.left)*(l.width/t.width),n=(e.touches[0].clientY-t.top)*(l.height/t.height),r=Math.abs(i-d.current.x),a=Math.abs(n-d.current.y);if(r>10||a>10){if(!c.current)return;if(!E.current){E.current=!0,u.current=n;return}let e=u.current-n;u.current=n,S(e)}},C=e=>{if(Date.now()-f.current<300){l.getBoundingClientRect();let i=d.current.x,n=d.current.y;p(i,n,a)?(t(),e.preventDefault()):p(i,n,o)&&(m(),e.preventDefault())}c.current=!1};return l.addEventListener("mousemove",i),l.addEventListener("mousedown",n),l.addEventListener("mouseup",r),l.addEventListener("mouseleave",s),l.addEventListener("wheel",T),l.addEventListener("mousemove",I),l.addEventListener("touchstart",R),l.addEventListener("touchmove",O),l.addEventListener("touchend",C),h(),()=>{l.removeEventListener("mousemove",i),l.removeEventListener("mousedown",n),l.removeEventListener("mouseup",r),l.removeEventListener("mouseleave",s),l.removeEventListener("wheel",T),l.removeEventListener("mousemove",I),l.removeEventListener("touchstart",R),l.removeEventListener("touchmove",O),l.removeEventListener("touchend",C)}},[e,h,S,p,t,m]);return{drawStartScreen:h,setupInteractions:I}}(a,tR),{setButtons:tY}=r(a),{drawUI:tk,handleSleepButtonClick:tF}=function(e,t,l,i,a,s,E,f,T,h,S,p,m,L,y,A,g,N,D,b,P,x){let v=arguments.length>22&&void 0!==arguments[22]?arguments[22]:0,U=arguments.length>23&&void 0!==arguments[23]?arguments[23]:"",M=arguments.length>24?arguments[24]:void 0,H=arguments.length>25?arguments[25]:void 0,w=arguments.length>26?arguments[26]:void 0,Y=arguments.length>27&&void 0!==arguments[27]&&arguments[27],k=arguments.length>28?arguments[28]:void 0,F=arguments.length>29&&void 0!==arguments[29]&&arguments[29],_=arguments.length>30?arguments[30]:void 0,B=arguments.length>31&&void 0!==arguments[31]?arguments[31]:"SLEEP",W=arguments.length>32&&void 0!==arguments[32]&&arguments[32],G=arguments.length>33?arguments[33]:void 0,V=arguments.length>34&&void 0!==arguments[34]&&arguments[34],K=arguments.length>35?arguments[35]:void 0,X=arguments.length>36?arguments[36]:void 0,j=arguments.length>37?arguments[37]:void 0,z=arguments.length>38?arguments[38]:void 0,J=arguments.length>39?arguments[39]:void 0,q=arguments.length>40?arguments[40]:void 0,Z=arguments.length>41&&void 0!==arguments[41]?arguments[41]:1,$=arguments.length>42?arguments[42]:void 0,Q=arguments.length>43?arguments[43]:void 0,ee=arguments.length>44?arguments[44]:void 0,et=(arguments.length>45&&arguments[45],arguments.length>46?arguments[46]:void 0),el=arguments.length>47?arguments[47]:void 0,ei=arguments.length>48?arguments[48]:void 0,en=arguments.length>49?arguments[49]:void 0,er=arguments.length>50?arguments[50]:void 0,ea=(arguments.length>51&&arguments[51],arguments.length>52?arguments[52]:void 0),eo=arguments.length>53?arguments[53]:void 0,es=arguments.length>54?arguments[54]:void 0,ec=arguments.length>55?arguments[55]:void 0,eu=arguments.length>56?arguments[56]:void 0,eE=arguments.length>57?arguments[57]:void 0,ef=arguments.length>58?arguments[58]:void 0,ed=arguments.length>59?arguments[59]:void 0,eT=arguments.length>60?arguments[60]:void 0,eh=arguments.length>61?arguments[61]:void 0,eS=arguments.length>62?arguments[62]:void 0,ep=arguments.length>63?arguments[63]:void 0,em=arguments.length>64?arguments[64]:void 0,eI=arguments.length>65?arguments[65]:void 0,eR=arguments.length>66?arguments[66]:void 0,eO=arguments.length>67?arguments[67]:void 0,eC=arguments.length>68?arguments[68]:void 0,eL=(arguments.length>69&&arguments[69],arguments.length>70?arguments[70]:void 0),ey=(arguments.length>71&&arguments[71],arguments.length>72?arguments[72]:void 0),eA=arguments.length>73?arguments[73]:void 0,eg=arguments.length>74?arguments[74]:void 0,eN=arguments.length>75?arguments[75]:void 0,eD=arguments.length>76?arguments[76]:void 0,[eb,eP]=(0,n.useState)(er||!1),[ex,ev]=(0,n.useState)(j||{}),[eU,eM]=(0,n.useState)(null),[eH,ew]=(0,n.useState)([]),[eY,ek]=(0,n.useState)(null),[eF,e_]=(0,n.useState)(!1),eB=(0,n.useRef)({x:0,y:0,width:0,height:0,isHovered:!1}),[eW,eG]=(0,n.useState)(0),[eV,eK]=(0,n.useState)(0),[eX,ej]=(0,n.useState)(0),[ez,eJ]=(0,n.useState)(!1),[eq,eZ]=(0,n.useState)(0),[e$,eQ]=(0,n.useState)(0),[e0,e1]=(0,n.useState)(!1),{formatCoinAmount:e2,parseFormattedNumber:e8,formatPrice:e3,formatPriceWithKM:e5,formatPercentage:e4}=o(),e9=(0,n.useRef)(null),e6=(0,n.useRef)(0),e7=(0,n.useRef)(!1);(0,n.useEffect)(()=>{j&&ev(j)},[j]),(0,n.useEffect)(()=>{let e=()=>{e1(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let{setButtons:te,setDropdownJustOpened:tt}=r(e,eg),{drawTerminalBase:tl,drawCoinTable:ti,drawBackgroundFill:tn,drawHorizontalLine:tr}=c(),{createCrashButton:ta,createAddButton:to,createSellButton:ts,createCoinButton:tc,createEventButton:tu,createExitButton:tE,drawButtons:tf}=function(){let{formatPriceWithKM:e}=o(),t=(0,n.useCallback)(function(e,t,l,i,n){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"SLEEP",a="[ ".concat(r," ]"),o=t-e.measureText(a).width-20,s=e.measureText(a).width;return{text:a,x:o,y:i-20,width:s,height:Number.parseInt(e.font,10)||16,onClick:n,zIndex:10,isSleepButton:!0}},[]),l=(0,n.useCallback)((e,t,l,i)=>{let n="[ ".concat(l," ]"),r=t-e.measureText(n).width-20,a=e.measureText(n).width;return{text:n,x:r,y:30,width:a,height:Number.parseInt(e.font,10)||16,onClick:i,disableHold:!0,zIndex:1e3,color:"#ffffff"}},[]),i=(0,n.useCallback)((e,t,l,i,n)=>{let r="[ + ]",a=e.measureText(r).width;return{text:r,x:t,y:l,width:a,height:Number.parseInt(e.font,10)||16,onClick:i,onLongHold:n,zIndex:1}},[]),r=(0,n.useCallback)((e,t,l,i,n)=>{let r="[ - ]",a=e.measureText(r).width;return{text:r,x:t,y:l,width:a,height:Number.parseInt(e.font,10)||16,onClick:i,onLongHold:n,zIndex:1}},[]),a=(0,n.useCallback)((e,t,l,i,n,r,a)=>{let o=i?"".concat(i," (").concat(n,")"):n,s=e.measureText(o).width;return{text:o,x:t,y:l,width:s,height:Number.parseInt(e.font,10)||16,onClick:r,color:a,disableHold:!0,zIndex:10}},[]);return{createCrashButton:t,createAddButton:i,createSellButton:r,createCoinButton:a,createEventButton:(0,n.useCallback)((e,t,l,i,n)=>{let r=e.measureText(i).width;return{text:i,x:t,y:l,width:r,height:Number.parseInt(e.font,10)||16,onClick:n,disableHold:!0,zIndex:100}},[]),createExitButton:l,drawButtons:(0,n.useCallback)(function(t,l,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=t.fillStyle;[...l].sort((e,t)=>(e.zIndex||0)-(t.zIndex||0)).forEach(l=>{if(l.hideText)return;l.isSleepButton&&(t.fillStyle="#000000",t.fillRect(l.x,l.y-2.5,l.width,22.5)),t.fillStyle=l.color||"#ffffff";let a=l.text;if(i&&l.text&&["USDC","BTC","ETH","SOL","XRP","LTC","PEPE"].includes(l.text)){let e=i.find(e=>e.symbol===l.text);if(e){let i=e.amount;i=i>=1e9?"".concat((i/1e9).toFixed(2),"B"):i>=1e6?"".concat((i/1e6).toFixed(2),"M"):i>=1e3?"".concat((i/1e3).toFixed(2),"k"):i.toFixed(2);let n=l.width;t.fillText(l.text,l.x,l.y);let r="(".concat(i,")"),a=t.measureText(r).width;t.fillText(r,l.x+n-a,l.y);return}}else if("CREDIT CARD"===l.text){let i=e((n?n():0)-r);t.fillText(l.text,l.x,l.y);let a="($".concat(i,")"),o=t.measureText(a).width,s=l.width;t.fillText(a,l.x+s-o,l.y);return}t.fillText(a,l.x,l.y)}),t.fillStyle=a},[])}}(),{renderWallet:td}=function(){let{formatCoinAmount:e,parseFormattedNumber:t,formatPriceWithKM:l}=o(),{drawHorizontalLine:i,drawSecurityIcons:r}=c();return{renderWallet:(0,n.useCallback)(function(n,a,o,s,c,u,E,f,d,T,h){let S=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,p=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",m=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,I=arguments.length>14?arguments[14]:void 0,R=arguments.length>15?arguments[15]:void 0,C=arguments.length>16?arguments[16]:void 0,L=arguments.length>17?arguments[17]:void 0,y=arguments.length>18?arguments[18]:void 0,A=arguments.length>19?arguments[19]:void 0,g=arguments.length>20?arguments[20]:void 0,N=arguments.length>21?arguments[21]:void 0,D=arguments.length>22?arguments[22]:void 0,b=arguments.length>23?arguments[23]:void 0,P=arguments.length>24?arguments[24]:void 0,x=arguments.length>25?arguments[25]:void 0,v=arguments.length>26?arguments[26]:void 0,U=arguments.length>27?arguments[27]:void 0,M=arguments.length>28?arguments[28]:void 0,H=arguments.length>29?arguments[29]:void 0,w=arguments.length>30?arguments[30]:void 0,Y=arguments.length>31?arguments[31]:void 0,k=(arguments.length>32&&arguments[32],arguments.length>33?arguments[33]:void 0),F=[],_=u.map(t=>{let i=I(t.symbol);return 3===m&&"USDC"===t.symbol&&(i=l(t.amount)),{symbol:t.symbol,amount:e(t.symbol,t.amount),price:i}}),{startX:B,startY:W,tableWidth:G}=k(n,a,o,s,c,_,f,d,h,S,p,m,!0),V=W-2*c;n.save();let K=20*c;n.fillStyle="#000000",n.fillRect(B+s,V+Math.floor(.5*c),(G-2)*s,K),n.restore();let{actionColumnX:X,sellColumnX:j,coinColumnX:z}=k(n,a,o,s,c,_,f,d,h,S,p,m,!1);if(r(n,B,V,G,s,c,E),M||H){let e="SHOP",t="WALLET",l=B+2*s,r=l+n.measureText(t).width+s,a=r+2*s,o=a+n.measureText("WAR").width+s,u=o+2*s,E=u+n.measureText(e).width+s,f=V+c;n.fillText(t,l,f),n.fillText("║",r,V+c),n.fillText("║",o,V+c),n.fillText("║",E,V+c),n.fillText("╔",B,V),i(n,"═",B+s,V,(r-B)/s-1.5,s),n.fillText("╦",r,V),i(n,"═",r+s,V,(o-r)/s-1.5,s),n.fillText("╦",o,V),i(n,"═",o+s,V,(E-o)/s-1,s),n.fillText("╦",E,V),i(n,"═",E+s,V,(B+(G-1)*s-E)/s-1,s),n.fillText("╗",B+(G-1)*s,V),n.fillText("║",B,V+2*c);let d=Math.ceil(n.measureText(t).width/s);i(n," ",l,V+2*c,d,s),n.fillText("╚",r,V+2*c),i(n,"═",r+s,V+2*c,(o-r)/s-1.5,s),n.fillText("╩",o,V+2*c),i(n,"═",o+s,V+2*c,(E-o)/s-1,s),n.fillText("╩",E,V+2*c),i(n,"═",E+s,V+2*c,(B+(G-1)*s-E)/s-1,s),n.fillText("╣",B+(G-1)*s,V+2*c),n.fillText("║",B,V+c),n.fillText("║",B+(G-1)*s,V+c),H&&(n.fillStyle="#ffffff",n.fillText("WAR",a,f),F.push({text:"WAR",x:a,y:f,width:n.measureText("WAR").width,height:c,onClick:H,disableHold:!0}),n.fillStyle="#888888"),M&&(n.fillStyle="#ffffff",n.fillText(e,u,f),F.push({text:e,x:u,y:f,width:n.measureText(e).width,height:c,onClick:M,disableHold:!0}),n.fillStyle="#888888")}let J="";switch(m){case 0:default:J="(USDC PRICE)";break;case 1:J="(DAY CHANGE)";break;case 2:J="(AVG SPREAD)";break;case 3:J="(USDC VALUE)"}n.fillStyle="#888888",n.fillText("COIN ",z,W+c);let q=z+n.measureText("COIN ").width;n.fillStyle="#ffffff",n.fillText(J,q,W+c),n.fillStyle="#888888",A&&F.push({text:J,x:q,y:W+c,width:n.measureText(J).width,height:c,onClick:A,disableHold:!0,zIndex:10});let Z=u.filter(e=>"USDC"!==e.symbol),$=u.find(e=>"USDC"===e.symbol);if(Z.forEach((e,i)=>{let r=W+(3+i)*c,a=I(e.symbol),o="#888888";if(0===m){if(a=I(e.symbol),L){let t=L(e.symbol);o="+0.00%"===t.value?"#888888":t.isPositive?"#00ff00":"#ff0000"}}else if(1===m&&L){let t=L(e.symbol);"+0.00%"===t.value?(a="0.00%",o="#888888"):(a=t.value,o=t.isPositive?"#00ff00":"#ff0000")}else if(2===m&&y){let t=y(e.symbol);if("0.00"===t.value)a="0.00",o="#888888";else{let e=t.isPositive?"+":"-";a="".concat(e).concat(t.value),o=t.isPositive?"#00ff00":"#ff0000"}}else if(3===m){let t=R(e.symbol);a=l(e.amount*t),o="#888888"}n.fillStyle=o,n.fillText("".concat(e.symbol," (").concat(a,")"),z,r),n.fillStyle="#888888";let s=R(e.symbol),u=C(e.symbol);if(($?$.amount:0)>=s*u&&N){let t=w(n,X,r,t=>N(e.symbol,t),x?()=>x(e.symbol):void 0);F.push(t)}let E=e.amount;if("string"==typeof E&&(E=t(E)),E>=.001&&D){let t=Y(n,j,r,t=>D(e.symbol,t),v?()=>v(e.symbol):void 0);F.push(t)}}),$){let e=W+(3+Z.length)*c,t="";if(t=3===m?"".concat($.symbol," (").concat(l($.amount),")"):"".concat($.symbol," (").concat(I($.symbol),")"),n.fillText(t,z,e),f<O(T)&&g){let t=w(n,X,e,g,P);F.push(t)}}if(f>0&&$&&$.amount>0&&b){let e=Y(n,X,W+(3+Z.length+1)*c+c+c+c,e=>b(e),U);F.push(e)}return{buttons:F,startX:B,startY:W,tableWidth:G}},[e,r,t,l,i]),drawSecurityIcons:r}}(),tT=function(){let{formatCoinAmount:e,formatPriceWithKM:t}=o(),{drawHorizontalLine:l,drawSecurityIcons:i}=c();return{drawShop:(0,n.useCallback)((e,n,r,a,o,s,c,u,E,f,d,T,h,S,p,m,I,R,O,C,L,y,A,g,N,D)=>{let b=[{name:"BURNER WALLET",price:500,key:"burnerWallet"},{name:"COLD WALLET",price:1e3,key:"coldWallet"},{name:"VPN",price:1500,key:"vpnSubscription"}],P=[{name:"RUMOR",price:750,key:"basicIntel"},{name:"LEAK",price:1500,key:"premiumIntel"}],x=D;x&&(x=x.toUpperCase());let v={name:x||"",price:1e4,key:"hax"},U=[],M=Math.floor((n/a-40)/2)*a,H=Math.floor(r/o/2-10)*o;e.fillStyle="#888888";let w="SHOP",Y="WALLET",k=M+2*a,F=k+e.measureText(Y).width+a,_=F+2*a,B=_+e.measureText("WAR").width+a,W=B+2*a,G=W+e.measureText(w).width+a,V=H-2*o;e.save(),e.fillStyle="#000000",e.fillRect(M+a,V+Math.floor(.5*o),38*a,21*o),e.restore(),e.fillText("║",F,V+o),e.fillText("║",B,V+o),e.fillText("║",G,V+o),e.fillText("╔",M,V),l(e,"═",M+a,V,(F-M)/a-1.5,a),e.fillText("╦",F,V),l(e,"═",F+a,V,(B-F)/a-1.5,a),e.fillText("╦",B,V),l(e,"═",B+a,V,(G-B)/a-1.5,a),e.fillText("╦",G,V),l(e,"═",G+a,V,(M+38*a-G)/a-1.5,a),e.fillText("═╗",M+38*a,V),e.fillText("║",M,V+o),e.fillText("║",M+39*a,V+o),e.fillText("╠",M,V+2*o),l(e,"═",M+a,V+2*o,(F-M)/a-1.5,a),e.fillText("╩",F,V+2*o),l(e,"═",F+a,V+2*o,(B-F)/a-1.5,a),e.fillText("╝",B,V+2*o),l(e," ",B+a,V+2*o,(G-B)/a-1,a),e.fillText("╚",G,V+2*o),l(e,"═",G+a,V+2*o,(M+39*a-G)/a-1,a),e.fillText("╣",M+39*a,V+2*o),e.fillText(w,W,V+o),i(e,M,V,40,a,o,c),S&&(e.fillStyle="#ffffff",e.fillText(Y,k,V+o),U.push({text:Y,x:k,y:V+o,width:e.measureText(Y).width,height:o,onClick:S,disableHold:!0}),e.fillStyle="#888888"),p&&(e.fillStyle="#ffffff",e.fillText("WAR",_,V+o),U.push({text:"WAR",x:_,y:V+o,width:e.measureText("WAR").width,height:o,onClick:p,disableHold:!0}),e.fillStyle="#888888");let K=s.find(e=>"USDC"===e.symbol),X=K?K.amount:0,j=M+33*a,z=j-2*a,J=H+o;e.fillText("║",M,J);let q="";if("CREDIT"===f)q="PAY WITH CREDIT CARD";else{let e=s.find(e=>e.symbol===f),t=e?e.amount:0;q="PAY WITH ".concat(f,": ").concat(L(f,t))}e.fillStyle="#ffffff",e.fillText(q,M+2*a,J),e.fillStyle="#888888",e.fillStyle="#ffffff";let Z=M+37*a;e.fillText("▼",Z,J),U.push({text:q,x:M+a,y:J,width:38*a,height:o,onClick:()=>{!d&&g&&g(!0),A&&(A.current=Date.now()),T&&T(!d)},disableHold:!0,hideText:!0,zIndex:1e3}),e.fillStyle="#888888",e.fillText("║",M+39*a,J);let $=J+o;e.fillText("╟",M,$),l(e,"─",M+a,$,38,a),e.fillText("╢",M+39*a,$);let Q=$+o;e.fillText("║",M,Q);let ee="ITEM (USDC PRICE)";"CREDIT"===f?ee="ITEM ($ PRICE)":"USDC"!==f&&(ee="ITEM (".concat(f," PRICE)")),e.fillText(ee,M+2*a,Q);let et=e.measureText("QTY").width;e.fillText("QTY",z-et,Q),e.fillText("║",M+39*a,Q);let el=Q+o;e.fillText("║",M,el),l(e,"\xb7",M+a,el,38,a),e.fillText("║",M+39*a,el);let ei=el+o;e.fillText("║",M,ei);let en="SECURITY",er=M+Math.floor((40-en.length)/2)*a;e.fillText(en,er,ei),e.fillText("║",M+39*a,ei);let ea=ei+o;e.fillText("║",M,ea),l(e,"\xb7",M+a,ea,38,a),e.fillText("║",M+39*a,ea),b.forEach((l,i)=>{let n=ea+(i+1)*o;e.fillText("║",M,n);let r=t(l.price),T="";if("CREDIT"===f)T="$";else if("USDC"!==f){let e=R?R(f):0;e>0&&(r=(r=l.price/e)<.01?.01:Number.parseFloat(t(r)))}let h=r;("burnerWallet"===l.key||"coldWallet"===l.key||"basicIntel"===l.key)&&"string"==typeof r&&r.endsWith(".00")&&(h=r.replace(".00","")),e.fillText("".concat(l.name," (").concat(T).concat(h,")"),M+2*a,n);let S=c&&c[l.key]?c[l.key]:0,p=S.toString(),L=e.measureText(p).width;e.fillText(p,z-L,n);let y=["burnerWallet","coldWallet","vpnSubscription"].includes(l.key),A=u&&u[l.key]?u[l.key]:0;if(c&&c[l.key]&&(!y||A===E)&&!d){e.fillStyle="#ffffff";let t=z-L-e.measureText("[ - ] ").width;e.fillText("[ - ]",t,n),U.push({text:"[ - ]",x:t,y:n,width:e.measureText("[ - ]").width,height:o,onClick:()=>{I&&I(l.key,l.price)},disableHold:!0}),e.fillStyle="#888888"}let g=!1;if("CREDIT"===f){let e=C();g=(O||0)+l.price<=e}else{let e=s.find(e=>e.symbol===f);if(e)if("USDC"===f)g=e.amount>=l.price;else{let t=R?R(f):0;if(t>0){let i=l.price/t;g=e.amount>=i}}}!g||y&&0!==S||d||(e.fillStyle="#ffffff",e.fillText("[ + ]",j,n),U.push({text:"[ + ]",x:j,y:n,width:e.measureText("[ + ]").width,height:o,onClick:()=>{m&&m(l.key,l.price)},disableHold:!0}),e.fillStyle="#888888"),e.fillText("║",M+39*a,n)});let eo=ea+(b.length+1)*o;e.fillText("║",M,eo),l(e,"\xb7",M+a,eo,38,a),e.fillText("║",M+39*a,eo);let es=eo+o;e.fillText("║",M,es);let ec="INTEL",eu=M+Math.floor((40-ec.length)/2)*a;e.fillText(ec,eu,es),e.fillText("║",M+39*a,es);let eE=es+o;e.fillText("║",M,eE),l(e,"\xb7",M+a,eE,38,a),e.fillText("║",M+39*a,eE);let ef=!1;P.forEach((l,i)=>{let n=eE+(i+1)*o;e.fillText("║",M,n);let r=t(l.price),T="";if("CREDIT"===f)T="$";else if("USDC"!==f){let e=R?R(f):0;e>0&&(r=(r=l.price/e)<.01?.01:Number.parseFloat(t(r)))}let h=r;"basicIntel"===l.key&&"string"==typeof r&&r.endsWith(".00")&&(h=r.replace(".00","")),e.fillText("".concat(l.name," (").concat(T).concat(h,")"),M+2*a,n),ef||(ef=P.some(e=>c&&c[e.key]));let S=(c&&c[l.key]?c[l.key]:0).toString(),p=e.measureText(S).width;e.fillText(S,z-p,n);let L=(u&&u[l.key]?u[l.key]:0)!==E;if(c&&c[l.key]&&L&&!d&&L){e.fillStyle="#ffffff";let t=z-p-e.measureText("[ - ] ").width;e.fillText("[ - ]",t,n),U.push({text:"[ - ]",x:t,y:n,width:e.measureText("[ - ]").width,height:o,onClick:()=>{I&&I(l.key,l.price)},disableHold:!0}),e.fillStyle="#888888"}let y=!1;if("wallet"===f)y=X>=l.price;else if("CREDIT"===f){let e=C();y=(O||0)+l.price<=e}else{let e=s.find(e=>e.symbol===f);if(e)if("USDC"===f)y=e.amount>=l.price;else{let t=R?R(f):0;if(t>0){let i=l.price/t;y=e.amount>=i}}}!y||ef||d||(e.fillStyle="#ffffff",e.fillText("[ + ]",j,n),U.push({text:"[ + ]",x:j,y:n,width:e.measureText("[ + ]").width,height:o,onClick:()=>{m&&m(l.key,l.price)},disableHold:!0}),e.fillStyle="#888888"),e.fillText("║",M+39*a,n)});let ed=eE+(P.length+1)*o;e.fillText("║",M,ed),l(e,"\xb7",M+a,ed,38,a),e.fillText("║",M+39*a,ed);let eT=ed+o;e.fillText("║",M,eT);let eh=M+Math.floor(18.5)*a;e.fillText("HAX",eh,eT),e.fillText("║",M+39*a,eT);let eS=eT+o;e.fillText("║",M,eS),l(e,"\xb7",M+a,eS,38,a),e.fillText("║",M+39*a,eS);let ep=eS+o;e.fillText("║",M,ep);let em=t(v.price),eI="";if("CREDIT"===f)eI="$";else if("USDC"!==f){let e=R?R(f):0;e>0&&(em=(em=v.price/e)<.01?.01:Number.parseFloat(t(em)))}e.fillText("".concat(v.name," (").concat(eI).concat(em,")"),M+2*a,ep);let eR=(c&&c[v.key]?c[v.key]:0).toString(),eO=e.measureText(eR).width;e.fillText(eR,z-eO,ep);let eC=u&&u[v.key]?u[v.key]:0;if(c&&c[v.key]&&eC===E&&!d){e.fillStyle="#ffffff";let t=z-eO-e.measureText("[ - ] ").width;e.fillText("[ - ]",t,ep),U.push({text:"[ - ]",x:t,y:ep,width:e.measureText("[ - ]").width,height:o,onClick:()=>{I&&I(v.key,v.price)},disableHold:!0}),e.fillStyle="#888888"}let eL=!1;if("CREDIT"===f){let e=C();eL=(O||0)+v.price<=e}else{let e=s.find(e=>e.symbol===f);if(e)if("USDC"===f)eL=e.amount>=v.price;else{let t=R?R(f):0;if(t>0){let l=v.price/t;eL=e.amount>=l}}}eL&&!d&&(e.fillStyle="#ffffff",e.fillText("[ + ]",j,ep),U.push({text:"[ + ]",x:j,y:ep,width:e.measureText("[ + ]").width,height:o,onClick:()=>{m&&m(v.key,v.price)},disableHold:!0}),e.fillStyle="#888888"),e.fillText("║",M+39*a,ep);let ey=ep+o;if(d){let t=[...s.map(e=>e.symbol),"CREDIT"],l=t.length,i=J+o;e.save(),y&&(y.current={x:M+a-8,y:i-8,width:38*a+16,height:l*o+16}),e.fillStyle="#000000",e.fillRect(M+a-8,i-8,38*a+16,l*o+16),e.fillStyle="#333333",e.fillRect(M+a-8+2,i-8+2,38*a+16-4,l*o+16-4),t.forEach((t,l)=>{let n=i+l*o+o/2,r=t;"CREDIT"===t&&(r="CREDIT CARD"),e.fillText(r,M+3*a,n),U.push({text:r,fillStyle:"#ffffff",x:M+a,y:n-o/2,width:38*a,height:o,onClick:()=>{h&&(h(t),T(!1))},disableHold:!0,zIndex:1e3})}),e.restore(),e.fillStyle="#888888"}return e.fillText("╚",M,ey),l(e,"═",M+a,ey,38,a),e.fillText("╝",M+39*a,ey),{buttons:U,startX:M,startY:H,tableWidth:40}},[l,i,e,t])}}(),th=function(){var e;let t=u(),l=I(),i=R(),{determineActiveDialog:r}=function(){let{drawIntelDialog:e,drawResolvedIntelDialog:t,drawNextDayEventPreview:l,drawEventInWallet:i}=u(),{drawThreatDialog:r}=I(),{drawRewardDialog:a}=R(),{currentThreat:o,showingThreat:s,rewardDialog:c}=d();return{determineActiveDialog:(0,n.useCallback)(function(n,c,u,E,f,d,T){let h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},{resolvedIntelResult:S,activeIntel:p,nextDayEvent:m,showingNextDayEvent:I,currentEvent:R,showingEvent:O,rewardDialog:C}=d,{onClearResolvedIntelResult:L,onMarkIntelAsViewed:y,onDismissNextDayEvent:A,onDismissEvent:g,onDismissThreat:N,onDismissReward:D}=T;return C&&C.showing&&D?a(n,c,u,E,f,C.coinType,C.amount,D,C.failed||!1).buttons:S&&L?t(n,c,u,E,f,S,L):p&&!p.viewed&&y?e(n,c,u,E,f,p,y):I&&m&&A?l(n,c,u,E,f,m,A):O&&R&&g?i(n,c,u,E,f,R,g):s&&o&&N?r(n,c,u,E,f,N,h):null},[t,e,l,i,r,a])}}(),a=d(),o=a.showingThreat,s=(null==(e=a.currentThreat)?void 0:e.phase)==="outcome",c=a.rewardDialog.showing;return{...t,...l,...i,determineActiveDialog:(e,t,l,i,n,o,s,c)=>r(e,t,l,i,n,{...o,rewardDialog:a.rewardDialog},{...s,onDismissReward:a.dismissRewardDialog},c),threatContext:a,isThreatDialogActive:()=>o,isThreatInOutcomePhase:()=>s,isRewardDialogActive:()=>c}}(),tS=(0,n.useCallback)(()=>{let n=e.current;if(!n)return;let r=window.innerWidth,o=window.innerHeight,c=Math.min(r,2e3),u=Math.min(o,2e3);n.width=c,n.height=u,n.style.width="".concat(c,"px"),n.style.height="".concat(u,"px");let d=n.getContext("2d");if(!d)return;let I=10,R=19,O=u-20;if("function"==typeof eo){let e=eo(d,n.width,n.height,t);I=e.charWidth,R=e.charHeight,O=e.bottomY}else console.warn("drawOuterBorder is not a function, using default values");if(eg&&eg.current){var H;let e;d.fillStyle="#000000",d.fillRect(0,0,n.width,n.height);let t=Math.min(500,n.width-40),l=Math.floor((n.width-t)/2),i=R+10,r=l+t-20,a=Math.floor(t/I);if(d.font="".concat(R,"px 'Fira Code', monospace"),d.fillStyle="#888888",d.textAlign="left",d.textBaseline="top",e=0+6*i+2*i,!eY)if(x-5e7>=0)ek(C.find(e=>"win"===e.type)||null);else{let e=C.filter(e=>"loss"===e.type&&!eH.includes(e.id));if(0===e.length){ew([]);let e=C.filter(e=>"loss"===e.type);ek(e[Math.floor(Math.random()*e.length)])}else{let t=e[Math.floor(Math.random()*e.length)];ek(t),ew([...eH,t.id])}}if(eY){let l=eY.title.split(" "),n=1,r="";for(let e of l){let l=r+e+" ";d.font="bold ".concat(R,"px 'Fira Code', monospace"),d.measureText(l).width>t&&""!==r?(n++,r=e+" "):r=l}if(e+=n*i,eY.subtitle){let l=eY.subtitle.split(" "),n=1;for(let e of(r="",l)){let l=r+e+" ";d.font="".concat(R,"px 'Fira Code', monospace"),d.measureText(l).width>t&&""!==r?(n++,r=e+" "):r=l}e+=n*i+10}let a=eY.body.toUpperCase().split(" "),o=1;for(let e of(r="",a)){let l=r+e+" ";d.font="".concat(R-2,"px 'Fira Code', monospace"),d.measureText(l).width>t&&""!==r?(o++,r=e+" "):r=l}e+=o*(i-2)}(e+=4*i)!==eV&&eK(e),u!==eX&&ej(u);let o=Math.max(0,e-u+100);eW>o&&eG(o);let s=Math.max(20,Math.floor((u-e)/2))-eW;d.font="".concat(R,"px 'Fira Code', monospace"),d.fillStyle="#888888",d.fillText("PORTFOLIO VALUE:",l,s),d.textAlign="right",d.fillText("$".concat(e5(x||0)),r,s),d.textAlign="left",tr(d,"\xb7",l,s+=1.5*i,a,I),s+=i,d.fillText("RENT:",l,s),d.textAlign="right",d.fillText("-$50M",r,s),d.textAlign="left",tr(d,"─",l,s+=1.5*i,a,I),s+=i,d.fillText("TOTAL",l,s),d.textAlign="right";let c=x-5e7;if(c<0?d.fillText("-$".concat(e5(Math.abs(c))),r,s):d.fillText("$".concat(e5(c)),r,s),d.textAlign="left",s+=2*i,eY){let e=(e,t,l,i,n)=>{let r=e.split(" "),a="",o="",s=0;for(let e=0;e<r.length;e++)o=a+r[e]+" ",d.measureText(o).width>i&&e>0?(d.fillText(a,t,l+s*n),a=r[e]+" ",s++):a=o;return d.fillText(a,t,l+s*n),s+1};d.font="bold ".concat(R,"px 'Fira Code', monospace"),d.fillStyle="win"===eY.type?"#00ff00":"#ff0000";let n=e(eY.title,l,s,t,i);if(s+=n*i+10,eY.subtitle){d.font="".concat(R,"px 'Fira Code', monospace"),d.fillStyle="#ff6666";let n=e(eY.subtitle,l,s,t,i);s+=n*i+10}d.font="".concat(R-2,"px 'Fira Code', monospace"),d.fillStyle="#888888";let r=e(eY.body.toUpperCase(),l,s,t,i-2);s+=r*(i-2),s+=3*i}s+=3*i;let E="[ NEW GAME ]",f=e0?24:32;d.font="".concat(f,"px monospace");let T=d.measureText(E).width,h=Math.max(0,(n.width-T)/2),S=s,p=1.5*f;if(eB.current={x:h,y:S-f,width:T,height:2*p,isHovered:(null==(H=eB.current)?void 0:H.isHovered)||!1},d.fillStyle=eB.current.isHovered?"#ffffff":"#dddddd",d.fillText(E,h,S),d.font=e0?"12px monospace":"16px monospace",d.fillStyle="#888888",e+=4*i,s+=2*i,e>u){let t=n.width-20-10;eW>0&&(d.fillStyle="#888888",d.beginPath(),d.moveTo(t,30),d.lineTo(t+20,30),d.lineTo(t+10,10),d.closePath(),d.fill()),eW<o&&(d.fillStyle="#888888",d.beginPath(),d.moveTo(t,n.height-10-20),d.lineTo(t+20,n.height-10-20),d.lineTo(t+10,n.height-10),d.closePath(),d.fill());let l=n.height-80;d.fillStyle="#333333",d.fillRect(t+8,40,4,l);let i=Math.max(30,u/e*l),r=40+eW/o*(l-i);d.fillStyle="#888888",d.fillRect(t+8,r,4,i)}return}tn(d,n.width,n.height,I,R,O);let j=[],z=th.determineActiveDialog(d,n.width,n.height,I,R,{resolvedIntelResult:et,activeIntel:Q,nextDayEvent:k,showingNextDayEvent:F,currentEvent:M,showingEvent:Y,rewardDialog:eL},{onClearResolvedIntelResult:el,onMarkIntelAsViewed:ee,onDismissNextDayEvent:_,onDismissEvent:w,onDismissThreat:eI,onDismissReward:ey},ex);if(z)Array.isArray(z)?j.push(...z):j.push(z);else{let e=ta(d,n.width,n.height,O,l,B);if(j.push(e),eg&&!eg.current&&eN&&eD){let e=tE(d,n.width,eN,eD);j.push(e)}if(W){let{buttons:e,startX:t,startY:l,tableWidth:r}=tT.drawShop(d,n.width,n.height,I,R,i,ex,$||{},Z,ei||"USDC",eb,eP,en,G,K,J,q,s,f,ea,e2,e9,e6,tt,ep,em,e3);j.push(...e)}else if(V){let{buttons:e}=eA(d,n.width,n.height,I,R,ex,X,G,K);j.push(...e)}else{let{buttons:e}=td(d,n.width,n.height,I,R,i,ex,f,T,Z,x,v,U,g,a,s,E,y,A,L,h,S,p,m,N,D,b,P,G,K,to,ts,tc,ti);j.push(...e)}}Array.isArray(j)?tf(d,j,i,ea,f):(tf(d,[],i,ea,f),console.error("Buttons is not an array:",j)),d.fillStyle="#888888",d.fillText(t,20,20),te(j)},[e,t,i,a,s,E,f,T,l,h,S,p,m,L,y,A,g,tl,ti,ta,to,ts,tc,tf,te,N,D,b,P,x,v,U,M,H,w,Y,tu,k,F,_,B,W,G,J,q,ex,z,Z,$,Q,ee,et,ei,en,eb,eP,ea,e9,e6,tt,th,el,td,e2,e3,e5,e4,V,X,K,eo,tT,tn,ep,em,eI,eR,eO,eC,eL,ey,eA,eg,tr,eY,eH,ek,ew,eW,eV,eX,eK,ej,eN,eD,e0,eB]);return(0,n.useEffect)(()=>{tS();let t=()=>tS(),l=()=>tS(),i=e=>{if("Enter"===e.key||"Return"===e.key){if(et&&el){el(null),e.preventDefault();return}if(Q&&!Q.viewed&&ee){ee(),e.preventDefault();return}if(eR&&eO&&eI){eI(),e.preventDefault();return}if((null==eL?void 0:eL.showing)&&ey){ey(),e.preventDefault();return}F&&_?_():Y&&w&&w()}(null==eg?void 0:eg.current)&&eV>eX&&("ArrowUp"===e.key?(eG(Math.max(0,eW-50)),e.preventDefault()):"ArrowDown"===e.key&&(eG(Math.min(Math.max(0,eV-eX+100),eW+50)),e.preventDefault()))},n=t=>{if(!e7.current&&!(Date.now()-e6.current<500)&&eb&&e9.current&&eP){let l,i,n=e.current;if(!n)return;let r=n.getBoundingClientRect();if("touches"in t){if(0===t.touches.length)return;l=t.touches[0].clientX,i=t.touches[0].clientY}else l=t.clientX,i=t.clientY;let a=l-r.left,o=i-r.top,s=e9.current;(a<s.x||a>s.x+s.width||o<s.y||o>s.y+s.height)&&eP(!1)}},r=(e,t)=>{let l=eB.current;return l&&e>=l.x&&e<=l.x+l.width&&t>=l.y&&t<=l.y+l.height},a=t=>{if((null==eg?void 0:eg.current)&&1===t.touches.length){let l=e.current;if(!l)return;let i=l.getBoundingClientRect();if(r(t.touches[0].clientX-i.left,t.touches[0].clientY-i.top)){window.location.reload(),t.preventDefault();return}eV>eX&&(eJ(!0),eZ(t.touches[0].clientY),eQ(eW),t.preventDefault())}},o=e=>{ez&&1===e.touches.length&&(eG(Math.max(0,Math.min(Math.max(0,eV-eX+100),e$+(eq-e.touches[0].clientY)))),e.preventDefault())},s=()=>{eJ(!1)},c=t=>{let l=e.current;if(!l)return;let i=l.getBoundingClientRect(),n=t.clientX-i.left,a=t.clientY-i.top;if((null==eg?void 0:eg.current)&&r(n,a))return void window.location.reload();(null==eg?void 0:eg.current)&&eV>eX&&(eJ(!0),eZ(t.clientY),eQ(eW))},u=t=>{let l=e.current;if(!l)return;let i=l.getBoundingClientRect(),n=t.clientX-i.left,a=t.clientY-i.top;if(null==eg?void 0:eg.current){let e=r(n,a);l.style.cursor=e?"pointer":"default",e!==eB.current.isHovered&&(eB.current={...eB.current,isHovered:e},tS())}ez&&eG(Math.max(0,Math.min(Math.max(0,eV-eX+100),e$+(eq-t.clientY))))},E=()=>{eJ(!1)},f=e=>{(null==eg?void 0:eg.current)&&eV>eX&&(eG(Math.max(0,Math.min(Math.max(0,eV-eX+100),eW+e.deltaY))),e.preventDefault())};window.addEventListener("resize",t),window.addEventListener("redrawTerminal",l),window.addEventListener("keydown",i),window.addEventListener("mousedown",n),window.addEventListener("touchstart",n,{passive:!0});let d=e.current;return d&&(d.addEventListener("touchstart",a,{passive:!1}),d.addEventListener("touchmove",o,{passive:!1}),d.addEventListener("touchend",s),d.addEventListener("mousedown",c),d.addEventListener("mousemove",u),d.addEventListener("mouseup",E),d.addEventListener("mouseleave",E),d.addEventListener("wheel",f,{passive:!1})),()=>{window.removeEventListener("resize",t),window.removeEventListener("redrawTerminal",l),window.removeEventListener("keydown",i),window.removeEventListener("mousedown",n),window.removeEventListener("touchstart",n),d&&(d.removeEventListener("touchstart",a),d.removeEventListener("touchmove",o),d.removeEventListener("touchend",s),d.removeEventListener("mousedown",c),d.removeEventListener("mousemove",u),d.removeEventListener("mouseup",E),d.removeEventListener("mouseleave",E),d.removeEventListener("wheel",f))}},[tS,Y,w,F,_,eb,eP,e7,tT,et,el,Q,ee,e,eI,eR,eO,th,eL,ey,eg,eY,eH,eW,eV,eX,ez,eq,e$,e0,eB]),{drawUI:tS,handleSleepButtonClick:(0,n.useCallback)(()=>{if(Q){let e=eE();if(!e)return;let t=[e.intel.coinSymbol];if(e.isTrue){let t=e.intel.coinSymbol,l=e.intel.trueEffect;if("PRICE_MULTIPLIER"===l.type){let e=[...es],i=e.findIndex(e=>e.symbol===t);if(-1!==i){let t=e[i].price*(1+l.value);e[i]={...e[i],price:t},ec(e)}}}else{let t=e.intel.coinSymbol,l=e.intel.falseEffect;if("PRICE_MULTIPLIER"===l.type){let e=[...es],i=e.findIndex(e=>e.symbol===t);if(-1!==i){let t=e[i].price*(1+l.value);e[i]={...e[i],price:t},ec(e)}}}eu(),eM({type:e.type,text:e.intel.text,effectDescription:e.intel.effectDescription,wasTrue:e.isTrue});let l={};es.forEach(e=>{l[e.symbol]=e.price}),eh(l),eS({holdings:i,getPrice:s,coinPrices:es,updatePrices:ef,updateSpecificCoinPrices:ed,checkAnimating:()=>eT,storePrices:eh,updateCoinPrices:ec,updateHoldings:z,hadActiveIntel:!0,intelAffectedCoins:t});return}},[Q,eE,es,ec,eu,i,s,ef,ed,eT,eh,z,eS,eM])}}(a,eo,tO,es,eE,ef,ed,ec,eu,eh,tb,tP,tx,eL,ey,eA,eg,eS,eR,eC,em,tI,eN(),eD,eP,ex,tL,eU,eH,ew,eY,ek,eF,tg,eB,ty,tA,eX,ej,tN,tD,ea,eJ,eq,e$,eQ,e0,tp,e2,e8,e3,e5,e4,tS,e7,te,eZ,eQ,tt,tl,ti,tn,eT,e6,e9,tv,et,tU,to,null==ei?void 0:ei.showing,ei,tE,er,tM,S,L,tC),[t_,tB]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{t_||(E.current&&E.current.load(),tB(!0))},[E,th,t_]),(0,n.useEffect)(()=>{(ts||K)&&(S.current=!0)},[ts,K]),(0,n.useEffect)(()=>{let e,t=a.current;if(!t||!t.getContext("2d"))return;let l=()=>{let e=window.innerWidth,l=window.innerHeight,i=Math.min(e,2e3),n=Math.min(l,2e3);t.width=i,t.height=n,t.style.width="".concat(i,"px"),t.style.height="".concat(n,"px"),"startScreen"===p.current?tH():tk()};l(),window.addEventListener("resize",l);let i=()=>{"startScreen"===p.current?tH():tk()};return window.addEventListener("redrawTerminal",i),"startScreen"===p.current&&(e=tw()),()=>{window.removeEventListener("resize",l),window.removeEventListener("redrawTerminal",i),e&&e()}},[a,tH,tk,tw]),(0,i.jsxs)("div",{className:"terminal-container",children:[(0,i.jsx)("canvas",{ref:a,className:"terminal-canvas"}),(0,i.jsx)("audio",{ref:E,src:"/media/degauss.mp3",preload:"auto"})]})}function q(){let e=(0,n.useRef)(()=>!1),t=(0,n.useRef)(()=>[]),l=(0,n.useCallback)(t=>{e.current=t},[]),r=(0,n.useCallback)(e=>{t.current=e},[]),a=(0,n.useCallback)(t=>e.current(t),[]),o=(0,n.useCallback)((e,l)=>t.current(e,l),[]);return(0,i.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-between p-0",children:(0,i.jsx)(K,{children:(0,i.jsx)(f,{useToolFn:a,applyCoinLossFn:o,children:(0,i.jsx)(J,{setUseToolFn:l,setApplyCoinLossFn:r})})})})}},1086:(e,t,l)=>{Promise.resolve().then(l.bind(l,67))},1662:(e,t,l)=>{"use strict";l.d(t,{HeatProvider:()=>a,a:()=>o});var i=l(5155),n=l(2115);let r=(0,n.createContext)(void 0);function a(e){let{children:t}=e,[l,a]=(0,n.useState)(0),o=(0,n.useCallback)(e=>{e<=0||a(t=>t+e)},[]),s=(0,n.useCallback)(e=>{e<=0||a(t=>Math.max(0,t-e))},[]),c=(0,n.useCallback)(()=>l,[l]),u=(0,n.useCallback)((e,t)=>t<=1?l:Math.min(100,100*Math.pow((e-1)/(t-1),2)+l),[l]);return(0,i.jsx)(r.Provider,{value:{addHeatPoints:o,removeHeatPoints:s,getHeatPoints:c,calculateHeatLevel:u},children:t})}function o(){let e=(0,n.useContext)(r);if(void 0===e)throw Error("useHeat must be used within a HeatProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(1086)),_N_E=e.O()}]);